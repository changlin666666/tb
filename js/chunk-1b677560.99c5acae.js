(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b677560"],{"2b92":function(e,t,r){"use strict";r("81f1")},"70da":function(e,t,r){"use strict";var a=r("7bc1");t["a"]={tree:function(e){return a["a"].get("/data-share/api-catalog/getTree",e)},use:function(e){return a["a"].get("/data-share/api-catalog/updateUsableById",e)},add:function(e){return a["a"].post("/data-share/api-catalog/add",e)},save:function(e){return a["a"].post("/data-share/api-catalog/edit",e)},del:function(e){return a["a"].get("/data-share/api-catalog/deleteById",e)}}},8175:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.visible,title:e.title,width:e.width},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[r("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.form,size:"medium",rules:e.rules,disabled:"view"===e.method},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"上级目录",prop:"parentNodeIds"}},[r("kr-tree-select",{staticStyle:{width:"100%"},attrs:{clearable:"",props:e.treeProps,nodeKey:"nodeIds",data:e.treeData},on:{getValue:e.getValue},model:{value:e.nodeIds,callback:function(t){e.nodeIds=t},expression:"nodeIds"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"目录名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否启用",prop:"usable"}},[r("el-radio-group",{model:{value:e.form.usable,callback:function(t){e.$set(e.form,"usable",t)},expression:"form.usable"}},[r("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),r("el-radio-button",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"排序",prop:"sort"}},[r("el-input-number",{attrs:{min:1,label:"排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},n=[],s=r("1da1"),i=(r("96cf"),r("70da")),o=r("eb2e"),l={components:{},props:{width:{type:String,default:"50%"},treeData:{type:Array,default:function(){return[]}},treeProps:{type:Object,default:function(){return{children:"children",label:"name",disabled:"disabled"}}}},watch:{},data:function(){return{visible:!1,defaultProps:{children:"children",label:"name"},defaultProps2:{children:"children",label:"name",disabled:function(e,t){return!e.clickable}},defaultKeys:[],orgTree:[],userTree:[],nodeIds:"",parentId:"",companyId:1,showTree:!1,people:[],method:"",form:new o["a"],rules:{type:[{required:!0,message:"类型不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},id:"",title:"",disabled:!1,userArr:[]}},mounted:function(){},computed:{},methods:{init:function(e,t,r){var a=this;this.method=e,this.form=new o["a"],"add"===e?(this.nodeIds="",this.form.parentNodeIds="",this.title="新建"):"view"===e?this.title="查看":"addChild"===e?(this.title="添加子目录",this.form=new o["a"],this.disabled=!0,this.form.flag=1,this.nodeIds=r.nodeIds,this.form.parentNodeIds=r.nodeIds):this.title="编辑",this.id=t,this.visible=!0,this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"edit"!==e&&"view"!==e||(a.form=r,a.nodeIds=r.parentNodeIds);case 1:case"end":return t.stop()}}),t)}))))},getValue:function(e){this.form.parentNodeIds=e?e.nodeIds:""},submit:function(){var e=this;try{this.$refs.form.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a,n,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=26;break}if(a=e.form,a.parentNodeIds=a.parentNodeIds?a.parentNodeIds:"000","add"!=e.method&&"addChild"!=e.method){t.next=13;break}return t.next=6,i["a"].add(a);case 6:if(n=t.sent,s=n.data,0==s.code){t.next=10;break}return t.abrupt("return",e.$message.error(s.msg));case 10:e.$message.success(s.msg),t.next=21;break;case 13:if("edit"!=e.method){t.next=21;break}return t.next=16,i["a"].save(a);case 16:if(o=t.sent,l=o.data,0==l.code){t.next=20;break}return t.abrupt("return",e.$message.error(l.msg));case 20:e.$message.success(l.msg);case 21:e.$emit("update"),e.$parent.init(),e.visible=!1,t.next=27;break;case 26:return t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){this.$message.error(t)}}}},d=l,c=(r("2b92"),r("2877")),u=Object(c["a"])(d,a,n,!1,null,"26fdcbbe",null);t["default"]=u.exports},"81f1":function(e,t,r){},d4ec:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return a}))},eb2e:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("d4ec"),n=r("ade3"),s=function e(){Object(a["a"])(this,e),Object(n["a"])(this,"name",""),Object(n["a"])(this,"code",""),Object(n["a"])(this,"nodeId",""),Object(n["a"])(this,"nodeIds",""),Object(n["a"])(this,"parentNodeIds",""),Object(n["a"])(this,"sort",0),Object(n["a"])(this,"usable",1),Object(n["a"])(this,"remarks","")}}}]);