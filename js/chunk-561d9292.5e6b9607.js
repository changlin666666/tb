(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-561d9292"],{"629d":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("KrSearch",{attrs:{searchProps:t.searchProps},on:{search:t.search}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tableview common-shadow"},[e("kr-table",{attrs:{selection:!1,columns:t.columns,rows:t.tableData,total:t.total,page:t.page,pageSize:t.pageSize},on:{handleSizeChange:t.handleSizeChange,handleCurrentChange:t.handleCurrentChange,"selection-change":t.handleSelectionChange,"sort-change":t.sortChange}})],1)],1)},o=[],i=e("1da1"),s=e("5530"),a=(e("96cf"),e("a9e3"),e("83bb")),u=e("2f62"),c={data:function(){this.$createElement;var t=this;return{searchProps:[{type:"input",field:"processName",value:"",model:"流程名",isShow:!0},{isShow:!0,type:"input",field:"title",value:"",model:"流程标题"},{isShow:!0,type:"daterange",field:"date",value:"",start:"发起开始时间",end:"发起结束时间"}],searchForm:{},columns:[{prop:"name",label:"流程名"},{label:"流程标题",formatter:function(t){return t.processVariables.title}},{label:"流程状态",width:200,render:function(n,e){return 1===e.processStatus?n("el-tag",{attrs:{size:t.size}},["审核中"]):2===e.processStatus?n("el-tag",{attrs:{size:t.size,type:"success"}},["已完成"]):void 0}},{prop:"start_time",label:"发起时间",sortable:"custom",width:200,formatter:function(n){return t.$dayjs(n.startTime).format("YYYY-MM-DD HH:mm:ss")}},{label:"操作",headerAlign:"center",fixed:"right",align:"right",width:180,render:function(n,e){return 1===e.processStatus?n("div",[n("el-button",{attrs:{type:"text",size:t.size,icon:"el-icon-view"},on:{click:function(){t.detail(e)}}},["流转记录"]),n("el-button",{on:{click:function(){t.revokeTask(e)}},attrs:{icon:"el-icon-delete",type:"text",size:t.size},style:"color:red"},["删除"])]):2===e.processStatus?n("el-button",{attrs:{type:"text",size:t.size,icon:"el-icon-view"},on:{click:function(){t.detail(e)}}},["流转记录"]):void 0}}],tableData:[],selection:[],dialogVisible:!1,notiInfo:{},total:0,page:1,pageSize:10,loading:!1,ascs:null,descs:null}},computed:Object(s["a"])({},Object(u["c"])({size:function(t){return t.config.defaultSize}})),mounted:function(){this.getList()},methods:{search:function(t){this.searchForm={processName:t.processName,title:t.title,startTime:t.date&&t.date.length?t.date[0]+" 00:00:00":null,endTime:t.date&&t.date.length?t.date[1]+" 23:59:59":null},this.getList()},getList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,t.tableData=[],n.next=4,Object(a["z"])(Object(s["a"])({current:t.page,size:t.pageSize,isGetParam:1,ascs:t.ascs,descs:t.descs},t.searchForm));case 4:e=n.sent,r=e.data,t.loading=!1,0===r.code&&(t.tableData=r.data.records,t.total=Number(r.data.total));case 8:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(t){this.page=1,this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.page=t,this.getList()},handleSelectionChange:function(t){this.selection=t},detail:function(t){this.$router.push({path:"/pages/process-design/processTimeLine/"+t.processInstanceId})},revokeTask:function(t){var n=this;this.$confirm("您确认要删除该任务吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["n"])({processId:t.processInstanceId});case 2:r=e.sent,o=r.data,0===o.code&&(n.$message({type:"success",message:"删除成功!"}),n.getList());case 5:case"end":return e.stop()}}),e)}))))},sortChange:function(t){var n=t.prop,e=t.order;"descending"===e?(this.descs=n,this.ascs=null):"ascending"===e&&(this.descs=null,this.ascs=n),this.getList()}}},d=c,f=(e("fa56"),e("2877")),l=Object(f["a"])(d,r,o,!1,null,"43ccf368",null);n["default"]=l.exports},"65d1":function(t,n,e){},"83bb":function(t,n,e){"use strict";e.d(n,"I",(function(){return o})),e.d(n,"w",(function(){return i})),e.d(n,"l",(function(){return s})),e.d(n,"o",(function(){return a})),e.d(n,"K",(function(){return u})),e.d(n,"F",(function(){return c})),e.d(n,"g",(function(){return d})),e.d(n,"p",(function(){return f})),e.d(n,"L",(function(){return l})),e.d(n,"f",(function(){return p})),e.d(n,"G",(function(){return h})),e.d(n,"z",(function(){return g})),e.d(n,"A",(function(){return m})),e.d(n,"r",(function(){return w})),e.d(n,"B",(function(){return b})),e.d(n,"J",(function(){return k})),e.d(n,"b",(function(){return v})),e.d(n,"y",(function(){return x})),e.d(n,"t",(function(){return y})),e.d(n,"N",(function(){return C})),e.d(n,"D",(function(){return z})),e.d(n,"i",(function(){return S})),e.d(n,"n",(function(){return E})),e.d(n,"u",(function(){return D})),e.d(n,"c",(function(){return j})),e.d(n,"j",(function(){return L})),e.d(n,"O",(function(){return I})),e.d(n,"q",(function(){return O})),e.d(n,"a",(function(){return T})),e.d(n,"h",(function(){return B})),e.d(n,"M",(function(){return N})),e.d(n,"e",(function(){return $})),e.d(n,"Q",(function(){return P})),e.d(n,"m",(function(){return F})),e.d(n,"C",(function(){return R})),e.d(n,"x",(function(){return Y})),e.d(n,"d",(function(){return A})),e.d(n,"P",(function(){return H})),e.d(n,"k",(function(){return J})),e.d(n,"v",(function(){return M})),e.d(n,"s",(function(){return _})),e.d(n,"E",(function(){return G})),e.d(n,"H",(function(){return K}));var r=e("7bc1"),o=function(t){return r["a"].post("/processDefinition/model/save",t)},i=function(t){return r["a"].post("/processDefinition/model/list",t)},s=function(t){return r["a"].post("/processDefinition/model/delete",t,!0)},a=function(t){return r["a"].post("/processDefinition/deploy",t,!0)},u=function(t){return r["a"].post("/instance/start",t)},c=function(t){return r["a"].post("/task/todo/list",t)},d=function(t){return r["a"].post("/task/complete",t)},f=function(t){return r["a"].post("/task/end/task",t)},l=function(t){return r["a"].post("/task/turnTask",t)},p=function(t){return r["a"].post("/task/back/task",t)},h=function(t){return r["a"].post("/copy/insert",t)},g=function(t){return r["a"].post("/history/process/mys",t)},m=function(t){return r["a"].get("/task/get/nodeList",t)},w=function(t){return r["a"].post("/history/current/list",t)},b=function(t){return r["a"].get("/workflow/setting/list/processDefinitionId",t)},k=function(t){return r["a"].post("/workflow/setting/saveAll",t)},v=function(t){return r["a"].post("/workflow/draft/add",t)},x=function(t){return r["a"].get("/workflow/draft/list",t)},y=function(t){return r["a"].get("/workflow/draft/id?id="+t)},C=function(t){return r["a"].post("/workflow/draft/update",t)},z=function(t){return r["a"].post("/processDefinition/deployment",t)},S=function(t){return r["a"].post("/workflow/draft/delete",t,!0)},E=function(t){return r["a"].post("/instance/delete/processInstance/id",t,!0)},D=function(t){return r["a"].get("/actExtensionCondition",t)},j=function(t){return r["a"].post("/actExtensionCondition/add",t)},L=function(t){return r["a"].post("/actExtensionCondition/delete",t,!0)},I=function(t){return r["a"].post("/actExtensionCondition/update",t)},O=function(t){return r["a"].get("/actExtensionButton/list",t)},T=function(t){return r["a"].post("/actExtensionButton",t)},B=function(t){return r["a"].post("/actExtensionButton/delete",t,!0)},N=function(t){return r["a"].post("/actExtensionButton/update",t)},$=function(t){return r["a"].post("/actExtensionCategory/add",t)},P=function(t){return r["a"].post("/actExtensionCategory/update",t)},F=function(t){return r["a"].post("/actExtensionCategory/delete",t,!0)},R=function(t){return r["a"].get("/actExtensionCategory/list",t)},Y=function(t){return r["a"].get("/listener/list",t)},A=function(t){return r["a"].post("/listener/add",t)},H=function(t){return r["a"].post("/listener/update",t)},J=function(t){return r["a"].post("/listener/delete",t,!0)},M=function(t){return r["a"].get("/history/get/instance/id",t)},_=function(t){return r["a"].post("/copy/list",t)},G=function(t){return r["a"].post("/history/all/user",t)},K=function(t){return r["a"].post("/processDefinition/suspend/id",t,!0)}},fa56:function(t,n,e){"use strict";e("65d1")}}]);