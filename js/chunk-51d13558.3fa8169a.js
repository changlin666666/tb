(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51d13558"],{"918c":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"服务详情",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"container"},[i("kr-panel",{staticClass:"button-panel",attrs:{title:"服务配置详情"}},[i("el-descriptions",{staticClass:"margin-top",attrs:{column:2,border:""}},[i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务名 ")]),t._v(" "+t._s(t.info.name)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务状态查询名 ")]),t._v(" "+t._s(t.info.appName)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务状态 ")]),t._v(" "+t._s(t.info.status)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务分组 ")]),t._v(" "+t._s(t.info.group)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 任务描述 ")]),t._v(" "+t._s(t.info.description)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务程序路径 ")]),t._v(" "+t._s(t.info.jobPath)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务控制类型 ")]),t._v(" "+t._s(0==t.info.scriptType?"通过脚本文件控制":"通过命令控制")+" ")],2),0==t.info.scriptType?i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 控制脚本文件 ")]),t._v(" "+t._s(t.info.scriptName)+" ")],2):t._e(),1==t.info.scriptType?i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务重启命令 ")]),t._v(" "+t._s(t.info.scriptRestart)+" ")],2):t._e(),1==t.info.scriptType?i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务启动命令 ")]),t._v(" "+t._s(t.info.scriptStart)+" ")],2):t._e(),1==t.info.scriptType?i("el-descriptions-item",[i("template",{slot:"label"},[t._v(" 服务停止命令 ")]),t._v(" "+t._s(t.info.scriptStop)+" ")],2):t._e()],1)],1),i("kr-panel",{staticClass:"button-panel margin-t-20",attrs:{title:"操作历史"}},[i("kr-table",{ref:"table",attrs:{columns:t.columns,rows:t.tableData,fetchFunc:t.getList,searchParams:t.searchParams}})],1)],1)])},r=[],n=i("1da1"),a=(i("96cf"),i("159b"),i("d6cce")),o={data:function(){return{info:{},dialogVisible:!1,searchProps:[],columns:[{prop:"controlType",label:"操作类型"},{prop:"controlTime",label:"操作时间"},{prop:"controlResult",label:"操作结果"},{prop:"description",label:"操作描述"}],tableData:[],id:""}},computed:{getList:function(){return a["a"].history},searchParams:function(){var t={id:this.id};return this.searchProps.forEach((function(e){t[e.field]=e.value})),t}},methods:{getData:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a["a"].queryById({id:t});case 2:if(s=i.sent,r=s.data,0==r.code){i.next=7;break}return e.$message.error(r.msg),i.abrupt("return");case 7:e.info=r.data;case 8:case"end":return i.stop()}}),i)})))()},showInfo:function(t){var e=this;this.id=t,this.getData(t),this.dialogVisible=!0,this.$nextTick((function(){e.$refs.table.init()}))}}},l=o,c=(i("b72b"),i("2877")),p=Object(c["a"])(l,s,r,!1,null,"7b46d4a0",null);e["default"]=p.exports},b72b:function(t,e,i){"use strict";i("d241")},d241:function(t,e,i){},d6cce:function(t,e,i){"use strict";var s=i("7bc1");e["a"]={list:function(t){return s["a"].post("/service/list",t)},add:function(t){return s["a"].post("/service/add",t)},edit:function(t){return s["a"].post("/service/edit",t)},delete:function(t){return s["a"].get("/service/delete",t)},restart:function(t){return s["a"].get("/service/control/restart",t)},start:function(t){return s["a"].get("/service/control/start",t)},stop:function(t){return s["a"].get("/service/control/stop",t)},status:function(t){return s["a"].get("/service/status",t)},history:function(t){return s["a"].get("/service/control/history",t)},queryById:function(t){return s["a"].get("/service/queryById",t)}}}}]);