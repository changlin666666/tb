(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65fc3cb7"],{"0134":function(e,t,n){"use strict";var a=n("7bc1");t["a"]={list:function(e){return a["a"].get("/data-share/plugin/get",e)},del:function(e){return a["a"].get("/data-share/plugin/remove",e)},demo:function(e){return a["a"].getBlob("/data-share/plugin/downloadDemo",e)}}},"6ab9":function(e,t,n){"use strict";n("8df3")},"8df3":function(e,t,n){},fd8f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("kr-table",{ref:"table",attrs:{columns:e.columns,tableOptions:{"max-height":"100%"},fetchFunc:e.getList,selection:!1},on:{"selection-change":e.handleSelectionChange}},[n("div",{attrs:{slot:"handleButtons"},slot:"handleButtons"},[n("el-upload",{ref:"upload",staticStyle:{display:"inline-block","margin-right":"20px"},attrs:{action:e.$BASE_URL+"/data-share/plugin/add",accept:".jar",headers:{token:e.$store.state.user.user.token},"show-file-list":!1,"on-success":e.uploadSuccess}},[n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"}},[e._v("添加插件")])],1),n("el-button",{attrs:{size:"small",type:"warning",icon:"el-icon-download"},on:{click:e.downDemo}},[e._v("下载demo")])],1)])],1)])},r=[],o=n("1da1"),i=n("5530"),s=(n("96cf"),n("ac1f"),n("5319"),n("a4d3"),n("e01a"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("0134")),c=n("2f62"),l={components:{},data:function(e){return{columns:[{prop:"name",label:"名称"},{prop:"type",label:"类型",sortable:!0,formatter:function(e){return e.type}},{prop:"className",label:"包名"},{prop:"jarPath",label:"路径"},{prop:"description",label:"描述",render:function(e,t){return e("div",{domProps:{innerHTML:t.description.replace(/\r|\n/g,"<br>")}})}}],tableData:[],pluginData:{pid:0,source:"file"},selection:[],searchProps:[{isShow:!0,type:"input",field:"type",value:"",model:"字典类型"}],pageSize:10,page:1,total:0}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({size:function(e){return e.config.defaultSize}})),{},{getList:function(){return s["a"].list}}),mounted:function(){},methods:{downDemo:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].demo();case 2:t=e.sent,n=t.data,a=new File([n],"插件Demo",{type:"application/zip"}),r=document.createElement("a"),o=window.URL.createObjectURL(a),r.href=o,r.download="sckr-datashare-plugin-impl",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(o);case 13:case"end":return e.stop()}}),e)})))()},search:function(){this.$refs.table.insidePage=1,this.$refs.table.init()},uploadSuccess:function(e){var t=e.code;0!=t?this.$message({type:"error",message:"上传失败"}):this.$message({type:"success",message:"上传成功"}),this.$refs.table.init()},add:function(){},del:function(e){var t=this;this.$confirm("确定要删除选择项？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"error"}).then(Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s["a"].del({id:e.id});case 2:if(a=n.sent,r=a.data,0==r.code){n.next=6;break}return n.abrupt("return",t.$message.error(r.msg));case 6:t.$refs.table.init();case 7:case"end":return n.stop()}}),n)})))).catch((function(e){e.type}))}}},u=l,d=(n("6ab9"),n("2877")),p=Object(d["a"])(u,a,r,!1,null,"1fb40a8f",null);t["default"]=p.exports}}]);