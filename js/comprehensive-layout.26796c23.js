(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["comprehensive-layout"],{"0cfc":function(e,n,t){e.exports={aside:"index_aside_3BIIt",header:"index_header_16R0a",history:"index_history_37Opf",layout:"index_layout_2plYx",collapseBtn:"index_collapseBtn_1cJB7",hide:"index_hide_zYgzt",isCollapse:"index_isCollapse_eFAr6",logo:"index_logo_PZ8eD",menu:"index_menu_1-gck",main:"index_main_lU2GC",bigger:"index_bigger_3FKga",horizontalMenu:"index_horizontalMenu_3ZZP0","is-active":"index_is-active_kLGDM",menuItem:"index_menuItem_Qm8oS",subMenu:"index_subMenu_2jVUY",subMenuItem:"index_subMenuItem_cAtyN",contentBody:"index_contentBody_2-1xa",content:"index_content_21gIb"}},2638:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:e.$style.layout},["mini"!==e.windowSize?t("div",{class:[e.$style.collapseBtn,e.isCollapse?e.$style.hide:""],on:{click:function(n){e.isCollapse=!e.isCollapse}}},[t("el-tooltip",{attrs:{effect:"dark",content:e.isCollapse?"展开菜单":"收起菜单",placement:"right"}},[t("i",{class:e.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"})])],1):e._e(),"mini"!==e.windowSize?t("div",{class:[e.$style.aside,e.isCollapse?e.$style.isCollapse:""]},[t("div",{class:e.$style.logo},[e._t("logo",null,{isCollapse:e.isCollapse})],2),t("div",{class:e.$style.menu},[t("kr-menu",{attrs:{menus:e.computedLeftMenusData,mode:"vertical",collapse:e.isCollapse}})],1)]):e._e(),t("div",{class:[e.$style.main,e.isCollapse?e.$style.bigger:""]},[t("div",{class:e.$style.header},["mini"===e.windowSize?t("mini-page-menu",{class:e.$style.menuPath,staticStyle:{"margin-left":"0"}},[t("template",{slot:"menu"},[t("div",{class:e.$style.logo,staticStyle:{padding:"20px",height:"auto"}},[e._t("logo",null,{isCollapse:!1})],2),t("div",{class:e.$style.menu},[t("kr-menu",{attrs:{menus:e.menus,mode:"vertical",collapse:!1}})],1)]),e._t("logo",null,{slot:"logo",isCollapse:!0})],2):e._e(),"mini"!==e.windowSize?t("div",{ref:"menuBox",class:e.$style.horizontalMenu},[t("ul",{class:e.$style.menu},e._l(e.computedMenusData,(function(n,i){return t("li",{key:i,class:[e.$style.menuItem,e.menuItemIsActive(n)?e.$style["is-active"]:""],on:{click:function(t){return e.routerGo(n)}}},[n.icon?t("i",{class:n.icon}):e._e(),t("span",[e._v(e._s(n.name))]),"更多"===n.name?t("ul",{class:e.$style.subMenu},e._l(n.children,(function(n,i){return t("li",{key:i,class:[e.$style.subMenuItem,e.menuItemIsActive(n)?e.$style["is-active"]:""],on:{click:function(t){return t.stopPropagation(),e.routerGo(n)}}},[n.icon?t("i",{class:n.icon}):e._e(),t("span",[e._v(e._s(n.name))])])})),0):e._e()])})),0)]):e._e(),t("div",{class:e.$style.action},[e._t("action")],2),t("div",{class:e.$style.user},[e._t("user")],2)],1),t("div",{class:e.$style.history},[e._t("tagsview")],2),t("div",{class:e.$style.contentBody},[t("div",{class:e.$style.content},[t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e._t("routerView")],2)],1)])])])},s=[],o=t("b85c"),l=(t("d3b7"),t("3ca3"),t("ddb0"),t("7db0"),t("caad"),t("2532"),t("159b"),t("b0c0"),t("e1ef")),a=function(){return t.e("kr-menu").then(t.bind(null,"fcef"))},r={name:"layout-horizontal",components:{krMenu:a,miniPageMenu:l["a"]},props:{menus:{type:Array,default:function(){return[]}},windowSize:{type:String,default:"medium"}},data:function(){return{isCollapse:!1,menuBoxWidth:0,activeMenuIndex:0,resizeObserver:null}},computed:{computedLeftMenusData:function(){var e=this;if("mini"===this.windowSize)return[];var n=this.menus.find((function(n){var t=e.$route.meta.nodeIds;return t.includes(n.nodeIds)}))||{children:[]};return n.children},computedMenusData:function(){if("mini"===this.windowSize)return[];var e=40,n=24,t=14,i=90,s={name:"更多",icon:"el-icon-folder-opened",children:[]},o=this.menuBoxWidth-i,l=[];return this.menus.forEach((function(i){var a=i.name.length*t+n+e;o-=a,o>0?l.push(i):s.children.push(i)})),s.children.length>0&&l.push(s),l}},watch:{windowSize:{immediate:!0,handler:function(e){var n=this;if("mini"!==e){this.isCollapse="small"===e;var t=this;this.$nextTick((function(){n.resizeObserver=new ResizeObserver((function(e){var n,i=Object(o["a"])(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;t.menuBoxWidth=s.contentRect.width}}catch(l){i.e(l)}finally{i.f()}})),n.resizeObserver.observe(n.$refs.menuBox),n.$once("hook:destroy",(function(){n.resizeObserver.unobserve()}))}))}}}},created:function(){},mounted:function(){},methods:{menuItemIsActive:function(e){if("mini"===this.windowSize)return!1;var n=this;return"更多"===e.name?e.children.some((function(e){return n.menuItemIsActive(e)})):this.$route.meta.nodeIds.includes(e.nodeIds)},routerGo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.children&&e.children.length?e.children[0].children&&e.children[0].children.length?this.routerGo(e.children[0]):this.$router.push(e.children[0].href):this.$router.push(e.href)}}},c=r,u=t("ab8b"),d=t("2877");function m(e){this["$style"]=u["default"].locals||u["default"]}var h=Object(d["a"])(c,i,s,!1,m,null,null);n["default"]=h.exports},ab8b:function(e,n,t){"use strict";var i=t("0cfc"),s=t.n(i);t.d(n,"default",(function(){return s.a}))},ad9c:function(e,n,t){},b7fa:function(e,n,t){"use strict";t("ad9c")},e1ef:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"mini-page-menu"},[t("div",[e._t("logo",null,{isCollapse:!0})],2),t("div",{staticClass:"showCollapseBtn",on:{click:function(n){e.openDrawerMenu=!0}}},[t("el-tooltip",{attrs:{effect:"light",tr:"",content:"展开菜单",placement:"right"}},[t("i",{staticClass:"el-icon-s-unfold"})])],1),e._t("menuPath"),t("el-drawer",{attrs:{visible:e.openDrawerMenu,direction:"ltr","show-close":!1,size:200},on:{"update:visible":function(n){e.openDrawerMenu=n}}},[t("div",{staticClass:"menu-content"},[e._t("menu")],2)])],2)},s=[],o={name:"mini-page-menu",components:{},mixins:[],props:{},data:function(){return{openDrawerMenu:!1}},computed:{},watch:{$route:function(){this.openDrawerMenu=!1}},filter:{},created:function(){},mounted:function(){},methods:{}},l=o,a=(t("b7fa"),t("2877")),r=Object(a["a"])(l,i,s,!1,null,"7e6ebf2f",null);n["a"]=r.exports}}]);