(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eafa709a"],{"0c3f":function(e,t,a){"use strict";var r=a("7bc1");t["a"]={list:function(e){return r["a"].post("/exam/backend/question-classify/page",e)},save:function(e){return r["a"].post("/exam/backend/question-classify/save",e)},del:function(e){return r["a"].get("/exam/backend/question-classify/delete",e)},detail:function(e){return r["a"].get("/exam/backend/question-classify/getById",e)},getQuestionlist:function(e){return r["a"].post("/exam/backend/question/page",e)},getQuestionByIdList:function(e){return r["a"].post("/exam/backend/question/getByIdList",e)},saveQuestion:function(e){return r["a"].post("/exam/backend/question/save",e)},getQuestionDetailById:function(e){return r["a"].get("/exam/backend/question/getById",e)},deleteQuestionById:function(e){return r["a"].get("/exam/backend/question/delete",e)},downloadTemplate:function(e){return r["a"].getBlob("/exam/backend/question/downloadTemplate",e,!0)},getPaperlist:function(e){return r["a"].post("/exam/backend/paper/page",e)},savePaper:function(e){return r["a"].post("/exam/backend/paper/save",e)},getPaperDetailById:function(e){return r["a"].get("/exam/backend/paper/getById",e)},deletePaperById:function(e){return r["a"].get("/exam/backend/paper/delete",e)},openPaperById:function(e){return r["a"].get("/exam/backend/paper/open",e)},closePaperById:function(e){return r["a"].get("/exam/backend/paper/close",e)},getPaperListByNameKeyword:function(e){return r["a"].get("/exam/backend/paper/getPaperListByNameKeyword",e)},paperInspectionPage:function(e){return r["a"].post("/exam/backend/paper/paperInspectionPage",e)},getPaperedList:function(e){return r["a"].post("/exam/backend/user-paper-record/testPaperPage",e)},getUserPaperRecordById:function(e){return r["a"].get("/exam/backend/user-paper-record/getById",e)},marking:function(e){return r["a"].post("/exam/backend/user-paper-record/update",e)},getTestPaperStatistics:function(e){return r["a"].get("/exam/backend/paper/getTestPaperStatistics",e)},getTestPaperStatisticsUserPage:function(e){return r["a"].post("/exam/backend/paper/getTestPaperStatisticsUserPage",e)},getTestPaperStatisticsDeptPage:function(e){return r["a"].get("/exam/backend/paper/getTestPaperStatisticsDeptPage",e)},questionnaireStatistics:function(e){return r["a"].get("/exam/backend/paper/questionnaireStatistics",e)},questionnaireStatisticsForShortAnswerAndFillInTheBlanks:function(e){return r["a"].post("/exam/backend/paper/questionnaireStatisticsForShortAnswerAndFillInTheBlanks",e)},getPaperStatistics:function(e){return r["a"].get("/exam/backend/paper/getById",e)}}},"3e42":function(e,t,a){"use strict";a("e2c9")},a089:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notification"},[a("div",{staticClass:"card"},[e._m(0),a("div",{staticClass:"component"},[a("el-descriptions",{attrs:{column:3,border:"",labelClassName:"description-class"}},[a("el-descriptions-item",{attrs:{label:"考试名称",span:2}},[e._v(" "+e._s(e.testPaperStatistics.name)+" ")]),a("el-descriptions-item",{attrs:{label:"应考人数"}},[e._v(" "+e._s(e.testPaperStatistics.shouldJoinNum)+" ")]),a("el-descriptions-item",{attrs:{label:"开放类型",span:2}},[e._v(" "+e._s(1===e.testPaperStatistics.authorityType?"指定部门":2===e.testPaperStatistics.authorityType?"指定人员":"完全开放")+" ")]),a("el-descriptions-item",{attrs:{label:"实考人数"}},[e._v(" "+e._s(e.testPaperStatistics.joinNum)+" ")]),a("el-descriptions-item",{attrs:{label:"缺考人数"}},[e._v(" "+e._s(e.testPaperStatistics.missingNum)+" ")]),a("el-descriptions-item",{attrs:{label:"通过人数"}},[e._v(" "+e._s(e.testPaperStatistics.passNum)+" ")]),a("el-descriptions-item",{attrs:{label:"通过比例"}},[a("el-tag",{attrs:{size:"small"}},[e._v(" "+e._s(e.testPaperStatistics.passRatio))])],1)],1)],1)]),a("div",{staticClass:"card",staticStyle:{"margin-top":"20px"}},[e._m(1),a("div",{staticClass:"component"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"人员概览",name:"人员概览"}},[a("el-form",{ref:"elForm",staticClass:"filter-form",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"搜索人员名称"},model:{value:e.searchForm.userNameKeyword,callback:function(t){e.$set(e.searchForm,"userNameKeyword",t)},expression:"searchForm.userNameKeyword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.doSearch}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:e.resetParams}},[e._v("重置")])],1)],1),a("div",{staticClass:"table"},[a("kr-table",{ref:"table",attrs:{columns:e.columns,tableOptions:{"highlight-current-row":!0,selection:!1},fetchFunc:e.getList,searchParams:e.searchForm},on:{"selection-change":e.handleSelectionChange}})],1)],1),a("el-tab-pane",{attrs:{label:"部门概览",name:"部门概览"}},[a("el-form",{ref:"elForm",staticClass:"filter-form",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"搜索部门名称"},on:{input:e.deptNameChange},model:{value:e.deptNameKeyword,callback:function(t){e.deptNameKeyword=t},expression:"deptNameKeyword"}})],1)],1),a("div",{staticClass:"table"},[a("kr-table",{ref:"table2",attrs:{showSummary:!0,showPagination:!1,height:"250",columns:e.deptColumns,tableOptions:{"highlight-current-row":!0,selection:!1},rows:e.deptList},on:{getSummaries:e.getSummaries}})],1)],1)],1)],1)])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"title"},[a("span",{staticClass:"border-left"}),e._v("整体统计")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"title"},[a("span",{staticClass:"border-left"}),e._v("明细情况")])}],s=a("1da1"),i=a("5530"),c=(a("159b"),a("d81d"),a("a9e3"),a("4de4"),a("96cf"),a("0c3f")),o=a("2f62"),u={name:"sys-notification",props:{},data:function(){this.$createElement;return{activeName:"人员概览",deptList:[],deptNameKeyword:null,selectedRows:[],total:100,rows:[],columns:[{prop:"userName",label:"人员名称",align:"center",render:function(e,t){return e("div",{style:"color:var(--defaultTheme)"},[t.userName])}},{prop:"deptName",label:"部门名称",align:"center",width:200,sortable:!0,render:function(e,t){return e("div",[t.deptName])}},{prop:"times",align:"center",label:"考试次数",render:function(e,t){return e("div",[t.times])}},{prop:"maxScore",label:"最高分",align:"center",render:function(e,t){return e("div",[t.maxScore?t.maxScore:"-"])}},{prop:"qualify",label:"是否通过",align:"center",width:200,sortable:!0,render:function(e,t){return e("div",[0===t.qualify&&e("el-tag",{attrs:{type:"danger"}},["不及格"]),1===t.qualify&&e("el-tag",{attrs:{type:"success"}},["及格"]),2===t.qualify&&e("el-tag",{attrs:{type:"danger"}},["缺考"])])}}],deptColumns:[{prop:"deptName",label:"部门名称",align:"center",width:200,sortable:!0,render:function(e,t){return e("div",[t.deptName])}},{prop:"shouldJoinNum",align:"center",label:"应考人数",render:function(e,t){return e("div",[t.shouldJoinNum])}},{prop:"missingNum",align:"center",label:"缺考人数",render:function(e,t){return e("div",[t.missingNum])}},{prop:"joinNum",align:"center",label:"实考人数",render:function(e,t){return e("div",[t.joinNum])}},{prop:"passNum",align:"center",label:"通过人数",render:function(e,t){return e("div",[t.passNum])}},{prop:"passRatio",align:"center",label:"通过比例",render:function(e,t){return e("div",[t.passRatio])}}],searchForm:{ascs:"",current:1,descs:"",paperId:this.$route.query.id,paperType:1,size:20,userNameKeyword:null},showDetail:!1,testPaperStatistics:{}}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])({size:function(e){return e.config.defaultSize},user:function(e){return e.user.user}})),{},{getList:function(){return c["a"].getTestPaperStatisticsUserPage}}),watch:{},created:function(){this.getTestPaperStatistics()},mounted:function(){},methods:{getTestPaperStatistics:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getTestPaperStatistics({paperId:t.$route.query.id});case 2:if(a=e.sent,r=a.data,0==r.code){e.next=6;break}return e.abrupt("return",t.$message.error(r.msg));case 6:t.testPaperStatistics=r.data;case 7:case"end":return e.stop()}}),e)})))()},handleSelectionChange:function(e){this.selectedRows=e},doSearch:function(){this.$refs.table.init()},resetParams:function(){this.searchForm.userNameKeyword=null,this.doSearch()},getSummaries:function(e,t){var a=e.columns,r=e.data,n=[];a.forEach((function(e,t){if(0!==t)if(5!==t){var a=r.map((function(t){return Number(t[e.property])}));a.every((function(e){return isNaN(e)}))?n[t]=0:n[t]=a.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0)}else n[5]=0===n[3]?"0%":1*n[4]/n[3]*100+"%";else n[t]="合计"})),t(n)},deptNameChange:function(e){this.deptList=e?this.deptListInit.filter((function(t){if(t.deptName.indexOf(e)>=0)return!0})):this.deptListInit},getTestPaperStatisticsDeptPage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getTestPaperStatisticsDeptPage({paperId:e.$route.query.id});case 2:if(a=t.sent,r=a.data,0==r.code){t.next=6;break}return t.abrupt("return",e.$message.error(r.msg));case 6:e.deptListInit=r.data,e.deptList=JSON.parse(JSON.stringify(r.data));case 8:case"end":return t.stop()}}),t)})))()},handleClick:function(e){"部门概览"===e.label?this.getTestPaperStatisticsDeptPage():this.resetParams()},del:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e instanceof Array||(e=[e]),0!=e.length){a.next=3;break}return a.abrupt("return",t.$message.error("请选择需要删除的项!"));case 3:t.$confirm("此操作将永久删除所选, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.map((function(e){return e.id})),a.next=3,c["a"].deletePaperById({id:r});case 3:if(n=a.sent,s=n.data,0==s.code){a.next=7;break}return a.abrupt("return",t.$message.error(s.msg));case 7:t.$message({type:"success",message:"删除成功!"}),t.doSearch();case 9:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 4:case"end":return a.stop()}}),a)})))()}}},l=u,p=(a("3e42"),a("2877")),d=Object(p["a"])(l,r,n,!1,null,"7853e6e6",null);t["default"]=d.exports},e2c9:function(e,t,a){}}]);