(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe795cfc","chunk-6ad61d43"],{"1b16":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-manage"},[a("div",{staticClass:"page-header"},[a("el-form",{staticClass:"filter-form",attrs:{inline:!0,model:e.searchForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch.apply(null,arguments)}}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"应用/接口名称",clearable:""},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1),a("el-form-item",[a("el-select",{attrs:{clearable:""},model:{value:e.searchForm.httpMethod,callback:function(t){e.$set(e.searchForm,"httpMethod",t)},expression:"searchForm.httpMethod"}},e._l(["POST","GET","PUT","DELETE","HEAD"],(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"应用ak",clearable:""},model:{value:e.searchForm.accessKey,callback:function(t){e.$set(e.searchForm,"accessKey",t)},expression:"searchForm.accessKey"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"状态码",clearable:""},model:{value:e.searchForm.statusCode,callback:function(t){e.$set(e.searchForm,"statusCode",t)},expression:"searchForm.statusCode"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.doSearch}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:e.resetParams}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("kr-table",{ref:"table",attrs:{columns:e.columns,fetchFunc:e.getRoleList,searchParams:e.searchForm,selection:!1}},[a("div",{attrs:{slot:"handleButtons"},slot:"handleButtons"})])],1),a("detail",{ref:"detailForm"})],1)},r=[],i=a("1da1"),l=a("5530"),n=(a("96cf"),a("c652")),o=a("4ad0"),c=a("f477"),p=a("2f62"),d={name:"RoleManage",components:{detail:o["default"]},mixins:[],props:{},data:function(){this.$createElement;var e=this;return{searchForm:{accessKey:"",keyword:"",httpMethod:"",statusCode:""},selection:[],dictUtils:c["a"],rows:[],columns:[{prop:"appName",label:"应用名称"},{prop:"accessKey",label:"应用AK"},{prop:"apiName",label:"接口名称"},{prop:"httpMethod",label:"请求方式",sortable:!0},{prop:"statusCode",label:"状态码",sortable:!0},{prop:"createTime",label:"访问时间",sortable:!0},{prop:"ipAddr",label:"访问IP"},{label:"操作",headerAlign:"center",fixed:"right",align:"right",width:100,render:function(t,a){return t("div",[t("el-button",{on:{click:function(){return e.detail(a)}},attrs:{icon:"krIconfont kr-quanxian",type:"text",size:e.size}},["查看详情"])])}}],total:200}},computed:Object(l["a"])(Object(l["a"])({},Object(p["c"])({size:function(e){return e.config.defaultSize},user:function(e){return e.user.user}})),{},{getRoleList:function(){return n["a"].list}}),watch:{},mounted:function(){},methods:{detail:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs.detailForm.init(e.id,e);case 1:case"end":return a.stop()}}),a)})))()},resetParams:function(){this.searchForm.accessKey="",this.searchForm.keyword="",this.searchForm.httpMethod="",this.searchForm.statusCode="",this.doSearch()},doSearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.table.insidePage=1,e.$refs.table.init();case 2:case"end":return t.stop()}}),t)})))()}}},u=d,m=(a("5757"),a("2877")),f=Object(m["a"])(u,s,r,!1,null,"1996b739",null);t["default"]=f.exports},"40b7":function(e,t,a){},4495:function(e,t,a){"use strict";a("49fa")},"49fa":function(e,t,a){},"4ad0":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"日志详情",visible:e.visible,width:"80%"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"container"},[a("el-descriptions",{staticClass:"margin-top",attrs:{column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 请求地址 ")]),e._v(" "+e._s(e.info.url)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 应用名称 ")]),e._v(" "+e._s(e.info.appName)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 应用AK ")]),e._v(" "+e._s(e.info.accessKey)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 接口名称 ")]),e._v(" "+e._s(e.info.apiName)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 接口类型 ")]),e._v(" "+e._s("MODEL_API"==e.info.apiType?"模型接口":"外部接口")+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 请求方式 ")]),e._v(" "+e._s(e.info.createTime)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 接口标识 ")]),e._v(" "+e._s(e.info.identity)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 客户端ip ")]),e._v(" "+e._s(e.info.ipAddr)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 请求的body内容 ")]),a("json-viewer",{attrs:{value:JSON.parse(e.info.requestBody||"{}"),"expand-depth":3,copyable:""}})],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 请求的header ")]),a("json-viewer",{attrs:{value:JSON.parse(e.info.requestHeaders||"{}"),"expand-depth":3,copyable:""}})],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 请求大小 ")]),e._v(" "+e._s(e.info.requestSize)+"b ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 请求的queryString ")]),e._v(" "+e._s(e.info.requestQueryString)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 响应内容 ")]),a("json-viewer",{attrs:{value:JSON.parse(e.info.responseBody||"{}"),"expand-depth":3,copyable:""}})],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 响应header ")]),a("json-viewer",{attrs:{value:JSON.parse(e.info.responseHeaders||"{}"),"expand-depth":3,copyable:""}})],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 返回数据大小 ")]),e._v(" "+e._s(e.info.responseSize)+"b ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 资源id ")]),e._v(" "+e._s(e.info.resourceId)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" 状态码 ")]),e._v(" "+e._s(e.info.statusCode)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[e._v(" API请求的总耗时 ")]),e._v(" "+e._s(e.info.totalLatency)+"ms ")],2),a("el-descriptions-item",{attrs:{span:"2"}},[a("template",{slot:"label"},[e._v(" 错误信息 ")]),e._v(" "+e._s(e.info.errorMessage||"-")+" ")],2)],1)],1)])},r=[],i=a("1da1"),l=(a("96cf"),a("2b0e")),n=a("349e"),o=a.n(n),c=a("c652");l["default"].use(o.a);var p={data:function(){return{visible:!1,info:{}}},methods:{init:function(e,t){var a=this;this.visible=!0,this.id=e,this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].detail({id:e});case 2:s=t.sent,r=s.data,a.info=r.data||{};case 5:case"end":return t.stop()}}),t)}))))}}},d=p,u=(a("4495"),a("2877")),m=Object(u["a"])(d,s,r,!1,null,"6ab83808",null);t["default"]=m.exports},5757:function(e,t,a){"use strict";a("40b7")},c652:function(e,t,a){"use strict";var s=a("7bc1");t["a"]={list:function(e){return s["a"].post("/data-share/api-access-record/page",e)},detail:function(e){return s["a"].get("/data-share/api-access-record/getById",e)}}}}]);