(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e88ed"],{"8a7e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.visible,title:"权限分配",width:e.width},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[r("el-form",{ref:"form",attrs:{size:"medium"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",[r("kr-tree",{ref:"tree",staticClass:"tree",attrs:{data:e.treeData,props:e.treeProps,"node-key":e.nodeKey,"show-checkbox":"","default-expanded-keys":e.treeExpandData,"default-checked-keys":e.defaultKeys},on:{check:e.getChecked}})],1)],1)],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},a=[],i=r("2909"),s=r("1da1"),c=r("b85c"),o=(r("96cf"),r("a9e3"),r("99af"),r("0208"));function l(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=Object(c["a"])(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;n.push(o[a]),i>=t||o.children&&o.children.length>0&&(i++,l(o.children,t,n,i))}}catch(u){s.e(u)}finally{s.f()}}var u={props:{width:{type:String,default:"30%"},nodeKey:{type:String,default:"id"},level:{type:Number,default:1},type:{type:String,default:"role"}},data:function(){return{visible:!1,id:"",authList:[],defaultKeys:[],treeData:[],treeProps:{children:"children",label:"name",disabled:"disabled"}}},mounted:function(){this.getAuthTree()},computed:{treeExpandData:function(){var e=[];return l(this.treeData,this.level,e,this.nodeKey),e}},methods:{init:function(e){var t=this;this.id=e,this.visible=!0,this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.tree.$refs.tree.setCheckedKeys([]);case 1:case"end":return e.stop()}}),e)}))))},getAuthTree:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].getFilterMenu({flag:1});case 2:r=t.sent,n=r.data,e.treeData=n.data.children;case 5:case"end":return t.stop()}}),t)})))()},getChecked:function(e,t){this.authList=[].concat(Object(i["a"])(t.checkedKeys),Object(i["a"])(t.halfCheckedKeys))},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{({menuIds:e.authList}),e.visible=!1}catch(r){e.$message.error(r)}case 1:case"end":return t.stop()}}),t)})))()}}},d=u,h=r("2877"),f=Object(h["a"])(d,n,a,!1,null,null,null);t["default"]=f.exports}}]);