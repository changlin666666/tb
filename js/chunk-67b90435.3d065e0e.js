(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67b90435"],{"281c":function(t,e,a){},"31d6":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return c})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return d})),a.d(e,"h",(function(){return u}));var n=a("5530"),r={template:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",subdomains:"1234"},i={template:"http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]},o={contextmenu:!0,contextmenuWidth:140,contextmenuItems:[{text:"删除标记1",callback:function(t){t.relatedTarget.remove()}},{text:"取消"},{text:"获取标记",callback:function(t){console.log(t)}}]},l={autoClose:!1,closeOnClick:!1},c={color:"#F00",fillColor:"#F00",fillOpacity:.2},s=Object(n["a"])(Object(n["a"])({},c),o),d=Object(n["a"])({draggable:!0},o),u={color:"#2767f1",fillColor:"#2767f1",fillOpacity:.2,dashArray:"5, 10"}},"32cc":function(t,e,a){},4404:function(t,e,a){"use strict";a("32cc")},"6fb1":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return l}));var n=a("d4ec"),r=a("bee2"),i=(a("ac1f"),a("1276"),a("498a"),a("d81d"),a("a9e3"),a("5319"),function(){function t(e){var a=this;if(Object(n["a"])(this,t),this.invert=0,this.brightness=100,this.contrast=100,this.grayscale=0,this["hue-rotate"]=0,this.opacity=100,this.saturate=100,this.sepia=0,e){var r=e.trim().split(" ");r.map((function(t){var e=Number(t.split("(")[1].replace(/%|deg|\)/g,"")),n=t.split("(")[0];a[n]=e}))}}return Object(r["a"])(t,[{key:"getStyleString",value:function(){var t=this.invert,e=this.brightness,a=this.contrast,n=this.grayscale,r=this.opacity,i=this.saturate,o=this.sepia,l="";return t&&(l+="invert(".concat(t>100?100:t,"%) ")),100!==e&&(l+="brightness(".concat(e,"%) ")),100!==a&&(l+="contrast(".concat(a,"%) ")),n&&(l+="grayscale(".concat(n>100?100:n,"%) ")),this["hue-rotate"]%360!==0&&(l+="hue-rotate(".concat(this["hue-rotate"]%360,"deg) ")),r<100&&(l+="opacity(".concat(r,"%) ")),i<100&&(l+="saturate(".concat(i,"%) ")),o&&(l+="sepia(".concat(o>100?100:o,"%) ")),l.trim()}}]),t}()),o=[{key:"brightness",name:"明暗度",tooltip:"调整地图明暗度",suffix:"%",max:100,default:100},{key:"contrast",name:"对比度",tooltip:"调整图像的对比度",suffix:"%",max:100,default:100},{key:"grayscale",name:"灰度",tooltip:"将图像转换为灰度图像",suffix:"%",max:100,default:0},{key:"hue-rotate",name:"色相旋转",tooltip:"给图像应用色相旋转",suffix:"deg",max:360,default:0},{key:"invert",name:"反转颜色",tooltip:"设置地图颜色反转",suffix:"%",max:100,default:0},{key:"opacity",name:"透明度",tooltip:"转化图像的透明程度",suffix:"deg",max:100,default:100},{key:"saturate",name:"饱和度",tooltip:"转换图像饱和度",suffix:"%",max:100,default:100},{key:"sepia",name:"褐度",tooltip:"将图像转换为深褐色",suffix:"%",max:100,default:0}],l=function t(e){Object(n["a"])(this,t),this.baseConfigs=[{name:"放大、缩小",toolKey:"scale"},{name:"全屏",toolKey:"fullscreem"},{name:"指北针",toolKey:"north-arrow"}],this.searchConfigs=[{name:"城市切换",toolKey:"cityChange"},{name:"地址搜索",toolKey:"poiSearch"}],this.lngLatConfigs=[{name:"显示经/纬度",toolKey:"showLngLat"}],this.spacialFnConfigs=[{name:"测距",toolKey:"meaureDistance"},{name:"测面积",toolKey:"measureArea"},{name:"图标标记",toolKey:"draw-marker"},{name:"文本标记",toolKey:"draw-text"},{name:"折线标记",toolKey:"draw-polyline"},{name:"矩形标记",toolKey:"draw-rectangle"},{name:"圆形标记",toolKey:"draw-circle"},{name:"多边形标记",toolKey:"draw-polygon"}],this.form={baseConfig:e&&e.baseConfig||[],searchConfig:e&&e.searchConfig||[],lngLatConfig:e&&e.lngLatConfig||[],spacialFnConfig:e&&e.functionConfig||[]}}},"752f":function(t,e,a){"use strict";a("281c")},"8ab2":function(t,e,a){t.exports={mapContainer:"add-marker_mapContainer_W5_6E",controlBox:"add-marker_controlBox_3civy",map:"add-marker_map_2IJaq"}},"8e8e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[t.$style.mapContainer,"mapContainer"]},[a("div",{class:t.$style.controlBox},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeMapTile("addMarker")}}},[t._v("更换地图瓦片")]),a("div",{staticClass:"line"}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addMarkers("addMarker")}}},[t._v("添加标记")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.removeMarker("addMarker")}}},[t._v("移除标记")]),a("div",{staticClass:"line"}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.drawPolyline("addMarker")}}},[t._v("添加路线")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.drawPolyline("addMarker",{})}}},[t._v("添加路线(带箭头)")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.clearPolyline("addMarker")}}},[t._v("移除路线")]),a("div",{staticClass:"line"}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.drawAllSavedOverlay("addMarker")}}},[t._v("测试数据重绘")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.tempClearAllAddedShape("addMarker")}}},[t._v("清除所有手动绘制的图形")]),a("div",{staticClass:"line"}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addHeatMap("addMarker")}}},[t._v("添加热力图")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.clearHeatMap("addMarker")}}},[t._v("清除热力图")]),a("div",{staticClass:"line"}),a("el-button",{attrs:{type:t.echartsWithMarkerOverlay.length?"danger":"primary"},on:{click:function(e){return t.addEchartsWithIcon("addMarker")}}},[t._v(t._s(t.echartsWithMarkerOverlay.length?"清除带标记的echart":"带标记的echart"))]),a("el-button",{attrs:{type:t.echartsDirectOverlay.length?"danger":"primary"},on:{click:function(e){return t.addEchartDirect("addMarker")}}},[t._v(t._s(t.echartsDirectOverlay.length?"清除直接展示的echart":"直接展示的echart"))]),a("el-button",{attrs:{type:t.echarts2ControlOverlay.length?"danger":"primary"},on:{click:function(e){return t.addEchart2Control("addMarker")}}},[t._v(t._s(t.echarts2ControlOverlay.length?"清除control区的echart":"control区的echart"))])],1),a("div",{class:t.$style.map},[a("kr-map",{ref:"addMarker",attrs:{mapId:"map1",defaultZoom:13,tileTemplate:t.amapSiteTileTemplate,selectMapPlugin:t.selectedTools},on:{pointAdded:t.pointAdded,"shape-added":t.shapeAdded}})],1)])},r=[],i=a("5530"),o=a("2909"),l=(a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("d81d"),a("31d6")),c=a("d731"),s=a.n(c),d=a("a2e4"),u=a.n(d),p=a("6fb1"),h=window.echarts,f=window.L||{},m=function(){return a.e("kr-map").then(a.bind(null,"8aeb"))},y={name:"",components:{krMap:m},props:{},data:function(){return{functionConfig:new p["b"]({baseConfig:["fullscreem"],searchConfig:["cityChange","poiSearch"],functionConfig:["meaureDistance","measureArea","draw-marker","draw-text","draw-polyline","draw-rectangle","draw-circle","draw-polygon"]}),nowTiles:l["b"],amapSiteTileTemplate:l["b"],normalTilesTemplate:l["a"],addedMarkers:[],addedPolyLines:[],allShape:[],heatOverlay:null,echartsWithMarkerOverlay:[],echartsDirectOverlay:[],echarts2ControlOverlay:[]}},computed:{selectedTools:function(){var t=this.functionConfig.form,e=t.baseConfig,a=t.searchConfig,n=t.lngLatConfig,r=t.spacialFnConfig;return[e,a,n].concat(Object(o["a"])(r))}},watch:{},created:function(){},mounted:function(){},methods:{changeMapTile:function(t){var e=this.nowTiles,a=this.amapSiteTileTemplate,n=this.normalTilesTemplate;e=e.template===a.template?n:a,this.nowTiles=e,this.$refs[t].resetMapTile(e)},addMarkers:function(t){var e,a=[{latlng:[30.66951891577093,104.03846740722658],popupInfo:"标记信息1"},{latlng:[30.64116595198063,104.03915405273439],popupInfo:"标记信息2"},{latlng:[30.633781003062712,104.05563354492189],popupInfo:"标记信息3"},{latlng:[30.637916643913172,104.08447265625],popupInfo:"标记信息4"},{latlng:[30.657115517374564,104.0999221801758],popupInfo:"标记信息5"},{latlng:[30.6748341705688,104.09923553466798],popupInfo:"标记信息6"},{latlng:[30.688711512522,104.07417297363283],popupInfo:"标记信息7"},{latlng:[30.66686117870647,104.06455993652344],popupInfo:"<div style='color:red;'>红色标记</div>"}];(e=this.addedMarkers).push.apply(e,Object(o["a"])(this.$refs[t].drawMarkers(a)))},removeMarker:function(t){this.addedMarkers.map((function(t){return t.remove()}))},drawPolyline:function(t,e){var a,n=[[30.66951891577093,104.03846740722658],[30.64116595198063,104.03915405273439],[30.633781003062712,104.05563354492189],[30.637916643913172,104.08447265625],[30.657115517374564,104.0999221801758],[30.6748341705688,104.09923553466798],[30.688711512522,104.07417297363283],[30.66686117870647,104.06455993652344]];(a=this.addedPolyLines).push.apply(a,Object(o["a"])(this.$refs[t].drawPolyLine([{latlngs:n}],{color:"#F00",weight:10},e)))},clearPolyline:function(t){this.$refs[t].removeLayers(this.addedPolyLines)},shapeAdded:function(t){this.allShape.push(t)},tempClearAllAddedShape:function(t){var e=this;this.allShape.map((function(a){e.$refs[t].removeLayers([a.mapOverlay])}))},drawAllSavedOverlay:function(t){var e=this,a=this;console.log(this.allShape),this.allShape.map((function(n){var r=Object(i["a"])(Object(i["a"])({},l["d"]),{},{contextmenuItems:[{text:"编辑",callback:function(t){var r=e.$createElement;console.log("地图覆盖物",t),console.log("原始数据",n),a.$notify({title:"标题名称",message:r("i",{style:"color: teal"},"编辑点信息功能示例未开发，需要开发人员按需求自行开发，可在控制台查看该节点返回的数据！")})}},{text:"删除标记",callback:function(t){a.$confirm("是否删除该覆盖物?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.relatedTarget.remove(),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},{text:"取消"}]}),o={type:n.type,option:"marker"===n.type?Object(i["a"])(Object(i["a"])({},l["g"]),r):Object(i["a"])(Object(i["a"])({},l["c"]),n.option||{})};if(n.latlng)o.dataArr=[{latlng:n.latlng,popupInfo:n.info||"（空）"}];else{if(!n.latlngs)return;o.dataArr=[{latlngs:n.latlngs,popupInfo:n.info||"（空）"}]}return console.log(o),e.$refs[t].drawShape(o)}))},pointAdded:function(t){},addHeatMap:function(t){this.heatOverlay&&this.heatOverlay.remove(),this.heatOverlay=f.heatLayer(this.getTestHeatData(),{radius:25}).addTo(this.$refs[t].map)},getTestHeatData:function(){for(var t={minLat:30.622845627842697,maxLat:30.70287744595804,minlng:103.99864196777344,maxLng:104.13940429687501},e=[],a=0;a<1e4;a++)e.push([t.minLat+.12*Math.random(),t.minlng+.14*Math.random(),Math.random()]);return e},clearHeatMap:function(){this.heatOverlay&&this.heatOverlay.remove(),this.heatOverlay=null},addEchartsWithIcon:function(t){var e=this;if(this.echartsWithMarkerOverlay.length)return this.echartsWithMarkerOverlay.map((function(t){return t.remove()})),void(this.echartsWithMarkerOverlay=[]);var a=[{latlng:[30.622845627842697,103.99864196777344],id:"echartWithMarker1"},{latlng:[30.622845627842697,104.13940429687501],id:"echartWithMarker2"},{latlng:[30.70287744595804,103.99864196777344],id:"echartWithMarker3"},{latlng:[30.70287744595804,104.13940429687501],id:"echartWithMarker4"}];a.map((function(a){var n=f.icon({iconUrl:s.a,iconSize:[60,50],iconAnchor:[30,25],popupAnchor:[0,-25],shadowUrl:u.a,shadowAnchor:[20,20]}),r={icon:n},i=f.marker(a.latlng,r).addTo(e.$refs[t].map),o='<div style="width: 220px; height: 220px;" id="marker'+a.id+'"></div>';i.bindPopup(o,{autoClose:!1,closeOnClick:!1}),i.on("popupopen",(function(t){var e=h.init(document.getElementById("marker"+a.id)),n={tooltip:{trigger:"axis"},xAxis:[{type:"category",data:["1月","2月","3月","4月"]}],yAxis:[{type:"value",name:"水量",min:0,max:50,interval:50,axisLabel:{formatter:"{value} ml"}},{type:"value",name:"温度",min:0,max:10,interval:5,axisLabel:{formatter:"{value} °C"}}],series:[{name:"蒸发量",type:"bar",data:[2,4.9,7,23.2]},{name:"降水量",type:"bar",data:[2.6,5.9,9,26.4]},{name:"平均温度",type:"line",yAxisIndex:1,data:[2,2.2,3.3,4.5]}]};e.setOption(n)})),e.echartsWithMarkerOverlay.push(i)}))},addEchartDirect:function(t){var e=this;if(this.echartsDirectOverlay.length)return this.echartsDirectOverlay.map((function(t){return t.remove()})),void(this.echartsDirectOverlay=[]);var a=[{latlng:[30.669366651559184,104.0519428253174],id:"echartDirect1",value1:20,value2:22,value3:25,value4:20},{latlng:[30.662500670480533,104.08404350280763],id:"echartDirect2",value1:45,value2:50,value3:40,value4:50}];a.map((function(a){var n=f.marker(a.latlng,{icon:f.divIcon({className:"leaflet-echart-icon",iconSize:[160,160],html:'<div id="marker'+a.id+'" style="width: 160px; height: 160px; position: relative; background-color: transparent;">asd</div>'})}).addTo(e.$refs[t].map),r=h.init(document.getElementById("marker"+a.id)),i={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:["20","50"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"18",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:a.value1,name:"直接访问"},{value:a.value2,name:"邮件营销"},{value:a.value3,name:"联盟广告"},{value:a.value4,name:"视频广告"},{value:20,name:"搜索引擎"}]}]};r.setOption(i),e.echartsDirectOverlay.push(n)}))},addEchart2Control:function(t){var e=this;if(this.echarts2ControlOverlay.length)return this.echarts2ControlOverlay.map((function(t){return t.remove()})),void(this.echarts2ControlOverlay=[]);var a=[{position:"bottomright",id:"echart2Control1"},{position:"bottomleft",id:"echart2Control2"},{position:"bottomright",id:"echart2Control3"},{position:"topright",id:"echart2Control4"},{position:"topleft",id:"echart2Control5"}];a.map((function(a){var n=f.control({position:a.position});n.onAdd=function(){var t=f.DomUtil.create("div","info control-chart");return t.id=a.id,t},n.addTo(e.$refs[t].map);var r=h.init(document.getElementById(a.id)),i={tooltip:{trigger:"axis"},xAxis:[{type:"category",data:["1月","2月","3月","4月"]}],yAxis:[{type:"value",name:"水量",min:0,max:50,interval:50,axisLabel:{formatter:"{value} ml"}},{type:"value",name:"温度",min:0,max:10,interval:5,axisLabel:{formatter:"{value} °C"}}],series:[{name:"蒸发量",type:"bar",data:[2,4.9,7,23.2]},{name:"降水量",type:"bar",data:[2.6,5.9,9,26.4]},{name:"平均温度",type:"line",yAxisIndex:1,data:[2,2.2,3.3,4.5]}]};r.setOption(i),e.echarts2ControlOverlay.push(n)}))}}},v=y,g=(a("4404"),a("752f"),a("fca4")),b=a("2877");function k(t){this["$style"]=g["default"].locals||g["default"]}var x=Object(b["a"])(v,n,r,!1,k,"49a828e5",null);e["default"]=x.exports},a2e4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},bee2:function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}a.d(e,"a",(function(){return r}))},d4ec:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return n}))},d731:function(t,e,a){t.exports=a.p+"img/echartsIcon.e6ed8d67.png"},fca4:function(t,e,a){"use strict";var n=a("8ab2"),r=a.n(n);a.d(e,"default",(function(){return r.a}))}}]);