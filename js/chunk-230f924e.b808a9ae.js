(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-230f924e","chunk-238644e8"],{1107:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var s=r("d4ec"),o=r("ade3"),i=function e(){Object(s["a"])(this,e),Object(o["a"])(this,"href",""),Object(o["a"])(this,"id",""),Object(o["a"])(this,"permission",""),Object(o["a"])(this,"icon",""),Object(o["a"])(this,"menuType","1"),Object(o["a"])(this,"nodeId",""),Object(o["a"])(this,"nodeIds",""),Object(o["a"])(this,"parentNodeIds",""),Object(o["a"])(this,"name",""),Object(o["a"])(this,"isAllot","1"),Object(o["a"])(this,"sort",1),Object(o["a"])(this,"target",""),Object(o["a"])(this,"remarks",""),Object(o["a"])(this,"isShow","1"),Object(o["a"])(this,"projectId","")}},2645:function(e,t,r){},"3fcf":function(e,t,r){"use strict";r("2645")},c6da:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"icon-dialog",attrs:{visible:e.visible,title:e.title,"append-to-body":"","lock-scroll":""},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[r("Icon",{attrs:{showCopyBtn:!1},on:{selected:e.chosed}})],1)},o=[],i=r("d575"),n={components:{Icon:i["a"]},props:{width:{type:String,default:"50%"}},data:function(){return{visible:!1,method:"",form:{name:"",code:"",type:"",use:!0,sort:1,desc:""},rules:{type:[{required:!0,message:"岗位类型不能为空",trigger:"blur"}]},id:"",title:""}},methods:{init:function(e,t,r){var s=this;this.method=e,this.title="选择图标",this.id=t,this.visible=!0,this.$nextTick((function(){"add"!==e&&(s.form=JSON.parse(JSON.stringify(r)))}))},chosed:function(e){this.$emit("choseIcon",e),this.visible=!1},submit:function(){var e=this;try{this.$refs.form.validate((function(t){if(!t)return!1;e.$message.success("操作成功!"),e.visible=!1}))}catch(t){this.$message.error(t)}}}},a=n,l=(r("3fcf"),r("2877")),c=Object(l["a"])(a,s,o,!1,null,"34a6a84a",null);t["default"]=c.exports},d4ec:function(e,t,r){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return s}))},d6cc:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.visible,title:"发布菜单",width:e.width},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[r("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.form,size:"medium",rules:e.rules,disabled:"view"===e.method},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[r("el-row",[1!=e.form.id?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"上级菜单",prop:"parentNodeIds"}},[e.visible?r("kr-tree-select",{staticStyle:{width:"100%"},attrs:{props:e.treeProps,nodeKey:"nodeIds",data:e.treeData},on:{getValue:e.getValue},model:{value:e.nodeIds,callback:function(t){e.nodeIds=t},expression:"nodeIds"}}):e._e()],1)],1):e._e(),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:(e.typeList[e.form.menuType]?e.typeList[e.form.menuType].value:"")+"名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),3!=e.form.menuType?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:(e.typeList[e.form.menuType]?e.typeList[e.form.menuType].value:"")+"图标",prop:"icon"}},[r("el-input",{on:{focus:function(t){return e.$refs.iconList.init()}},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1)],1):e._e(),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"授权标识",prop:"permission"}},[r("el-input",{attrs:{placeholder:"请输入授权标识"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1)],1),1==e.form.menuType?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"链接地址",prop:"href"}},[r("el-input",{attrs:{placeholder:"请输入链接地址"},model:{value:e.form.href,callback:function(t){e.$set(e.form,"href",t)},expression:"form.href"}})],1)],1):e._e(),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否显示",prop:"isShow"}},[r("el-radio-group",{model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}},[r("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),r("el-radio-button",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否可分配",prop:"isAllot"}},[r("el-radio-group",{model:{value:e.form.isAllot,callback:function(t){e.$set(e.form,"isAllot",t)},expression:"form.isAllot"}},[r("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),r("el-radio-button",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"排序",prop:"sort"}},[r("el-input-number",{attrs:{min:1,label:"排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1),r("iconList",{ref:"iconList",on:{choseIcon:e.choseIcon}})],1)},o=[],i=r("1da1"),n=(r("96cf"),r("c6da")),a=r("0208"),l=r("1107"),c={components:{iconList:n["default"]},props:{width:{type:String,default:"50%"},treeProps:{type:Object,default:function(){return{children:"children",label:"name",disabled:"disabled"}}}},watch:{},data:function(){return{visible:!1,nodeIds:"",parentId:"",method:"",form:new l["a"],typeList:[],rules:{menuType:[{required:!0,message:"菜单类型不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}],parentNodeIds:[{required:!0,message:"上级菜单不能为空",trigger:"blur"}]},id:"",title:"",treeData:""}},methods:{init:function(e){var t=this;this.id=e,this.form=new l["a"],this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function r(){var s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.form.href="/pages/form-generator/generateList?formId="+e,t.nodeIds="",r.next=4,a["a"].getMenu();case 4:s=r.sent,o=s.data,t.treeData=[o.data],t.visible=!0;case 8:case"end":return r.stop()}}),r)}))))},choseIcon:function(e){this.form.icon=e},getValue:function(e){this.form.parentNodeIds=e.nodeIds},submit:function(){var e=this;try{this.$refs.form.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=13;break}return s=e.form,t.next=4,a["a"].save(s);case 4:if(o=t.sent,i=o.data,0==i.code){t.next=8;break}return t.abrupt("return",e.$message.error(i.msg));case 8:e.$message.success(i.msg),e.$emit("update"),e.visible=!1,t.next=14;break;case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){this.$message.error(t)}}}},u=c,m=r("2877"),f=Object(m["a"])(u,s,o,!1,null,null,null);t["default"]=f.exports}}]);