(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e5b9cd1","chunk-677ac3ef"],{"038f":function(e,t,a){"use strict";var r=a("5530"),i=a("7bc1");t["a"]={save:function(e){return i["a"].post("/cms/backend/article/save",Object(r["a"])({contributeFlag:1},e))},list:function(e){return i["a"].post("/cms/backend/article/page",e)},del:function(e){return i["a"].get("/cms/backend/article/delete",e)},detail:function(e){return i["a"].get("/cms/backend/article/getById",e)},copyToOtherMenu:function(e){return i["a"].get("/cms/backend/article/copyToOtherMenu",e)},publish:function(e){return i["a"].post("/cms/backend/article/updateArticleStatus",e)},getOaDeptTree:function(e){return i["a"].get("/sys/oadept/getOaDeptTree",e)},getMenuList:function(e){return i["a"].get("/cms/backend/menu/getMenuList",e)},getMenuTreeForAudit:function(e){return i["a"].get("/cms/backend/menu/getMenuTreeForAudit",e)},getCommentPage:function(e){return i["a"].post("/cms/backend/comment/page",e)},deleteComment:function(e){return i["a"].get("/cms/backend/comment/delete",e)},getArticleTileListByMenuNodeIdsAndKeyword:function(e){return i["a"].get("/cms/backend/article/getArticleTileListByMenuNodeIdsAndKeyword",e)},getTheoryEducationMenuTree:function(e){return i["a"].get("/cms/backend/menu/getTheoryEducationMenuTree",e)},getUsableTheoryEducationMenuTree:function(e){return i["a"].get("/cms/backend/menu/getUsableTheoryEducationMenuTree",e)},queryMenuById:function(e){return i["a"].get("/cms/backend/menu/getById",e)},saveMenu:function(e){return i["a"].post("/cms/backend/menu/save",e)},delMenu:function(e){return i["a"].get("/cms/backend/menu/delete",e)},getSpecialSubjectMenuTree:function(e){return i["a"].get("/cms/backend/menu/getSpecialSubjectMenuTree",e)},getRightSubjectMenuTree:function(e){return i["a"].get("/cms/backend/menu/getPopUpMenuTree",e)},getSpecialSubjectMenuTreeUsable:function(e){return i["a"].get("/cms/backend/menu/getUsablePopUpMenuTree",e)},getUsableSpecialSubjectMenuTree:function(e){return i["a"].get("/cms/backend/menu/getUsableSpecialSubjectMenuTree",e)},getForumArticleList:function(e){return i["a"].post("/forum/backend/article/page",e)},deleteForumArticleById:function(e){return i["a"].get("/forum/backend/article/delete",e)},saveForumArticle:function(e){return i["a"].post("/forum/backend/article/save",e)},queryForumArticleById:function(e){return i["a"].get("/forum/backend/article/getById",e)},getForumModulePage:function(e){return i["a"].post("/forum/backend/module/page",e)},updateEssenceById:function(e){return i["a"].get("/forum/backend/article/updateEssenceById",e)},updateToppingById:function(e){return i["a"].get("/forum/backend/article/updateToppingById",e)},getForumCommentList:function(e){return i["a"].post("/forum/backend/comment/page",e)},deleteForumCommentById:function(e){return i["a"].get("/forum/backend/comment/delete",e)},getArticleTileListByKeyword:function(e){return i["a"].get("/forum/backend/article/getArticleTileListByKeyword",e)},getCmsHistoryPage:function(e){return i["a"].post("/cms/backend/history/page",e)},getCmsScorePage:function(e){return i["a"].post("/cms/backend/score/page",e)},getOptoutscorePage:function(e){return i["a"].post("/cms/backend/optoutscore/page",e)},SaveOptoutscore:function(e){return i["a"].post("/cms/backend/optoutscore/save",e)},getAllOaDeptTree:function(e){return i["a"].get("/sys/oadept/getAllOaDeptTree",e)},getBannerList:function(e){return i["a"].post("/cms/backend/banner/page",e)},getBannerDetail:function(e){return i["a"].get("/cms/backend/banner/getById",e)},saveBanner:function(e){return i["a"].post("/cms/backend/banner/save",e)},deleteBannerByid:function(e){return i["a"].get("/cms/backend/banner/delete",e)},getViewBannerByTime:function(e){return i["a"].get("/cms/backend/banner/getByTime",e)}}},"2f6c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,title:"文章管理",width:"80%"},on:{"update:visible":function(t){e.visible=t},close:e.close}},["add"==e.method?a("div",{staticClass:"form-page"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"7em",disabled:"view"==e.method},on:{validate:e.formValidated}},[a("el-form-item",{attrs:{label:"文章标题：",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入文章标题",clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"作者:",prop:"author"}},[a("el-input",{attrs:{placeholder:"请输入文章作者",clearable:""},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),a("el-form-item",{attrs:{label:"副标题:",prop:"subtitle"}},[a("el-input",{attrs:{placeholder:"请输入副标题",clearable:""},model:{value:e.form.subtitle,callback:function(t){e.$set(e.form,"subtitle",t)},expression:"form.subtitle"}})],1),a("el-form-item",{attrs:{label:"来源名称:",prop:"sourceName"}},[a("el-input",{attrs:{placeholder:"请输入来源名称",clearable:""},model:{value:e.form.sourceName,callback:function(t){e.$set(e.form,"sourceName",t)},expression:"form.sourceName"}})],1),a("el-form-item",{attrs:{label:"密级:",prop:"secretGrade"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择",size:e.size},model:{value:e.form.secretGrade,callback:function(t){e.$set(e.form,"secretGrade",t)},expression:"form.secretGrade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"部门:"}},[a("el-col",{staticClass:"margin-t-20",attrs:{span:8}},[a("el-cascader",{staticStyle:{width:"250px"},attrs:{options:e.options2,props:e.expandTrigger},model:{value:e.inputs1,callback:function(t){e.inputs1=t},expression:"inputs1"}})],1)],1),a("el-form-item",{attrs:{label:"是否置顶:",prop:"topping"}},[a("el-col",{attrs:{span:12}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form.topping,callback:function(t){e.$set(e.form,"topping",t)},expression:"form.topping"}},[e._v("是")]),a("el-radio",{attrs:{label:"0"},model:{value:e.form.topping,callback:function(t){e.$set(e.form,"topping",t)},expression:"form.topping"}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"标题图:"}},[a("kr-upload",{attrs:{"http-request":e.httpRequest,action:e.$BASE_URL+"/source/upload","auto-upload":!0,accept:".png,.jpg,.gif","list-type":"picture-card","on-remove":e.handleImgRemove,imgEditEnable:!0,imgCutOption:e.imgCutOption,"before-upload":e.beforeupload}})],1),a("el-form-item",{attrs:{label:"正文:",prop:"content"}},[e.visible?a("Editor",{ref:"editor",attrs:{readonly:"view"==e.method,height:300},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}}):e._e()],1),a("el-form-item",{staticStyle:{"text-align":"center"}})],1)],1):e._e(),"edit"==e.method?a("div",{staticClass:"form-page"},[a("el-form",{ref:"form1",attrs:{model:e.form1,rules:e.rules,"label-width":"7em",disabled:"view"==e.method},on:{validate:e.formValidated}},[a("el-form-item",{attrs:{label:"文章标题：",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入文章标题",clearable:""},model:{value:e.form1.title,callback:function(t){e.$set(e.form1,"title",t)},expression:"form1.title"}})],1),a("el-form-item",{attrs:{label:"作者:",prop:"author"}},[a("el-input",{attrs:{placeholder:"请输入文章作者",clearable:""},model:{value:e.form1.author,callback:function(t){e.$set(e.form1,"author",t)},expression:"form1.author"}})],1),a("el-form-item",{attrs:{label:"副标题:",prop:"subtitle"}},[a("el-input",{attrs:{placeholder:"请输入副标题",clearable:""},model:{value:e.form1.subtitle,callback:function(t){e.$set(e.form1,"subtitle",t)},expression:"form1.subtitle"}})],1),null!=e.form1.sourceName?a("el-form-item",{attrs:{label:"来源名称:",prop:"sourceName"}},[a("el-input",{attrs:{placeholder:"请输入来源名称",clearable:""},model:{value:e.form1.sourceName,callback:function(t){e.$set(e.form1,"sourceName",t)},expression:"form1.sourceName"}})],1):e._e(),a("el-form-item",{attrs:{label:"密级:",prop:"secretGrade"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择",size:e.size},model:{value:e.form1.secretGrade,callback:function(t){e.$set(e.form1,"secretGrade",t)},expression:"form1.secretGrade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"部门:"}},[a("el-col",{staticClass:"margin-t-20",attrs:{span:8}},[a("el-cascader",{staticStyle:{width:"250px"},attrs:{options:e.options2,props:e.expandTrigger},model:{value:e.inputs2,callback:function(t){e.inputs2=t},expression:"inputs2"}})],1)],1),a("el-form-item",{attrs:{label:"是否置顶:",prop:"topping"}},[a("el-col",{attrs:{span:12}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form1.topping,callback:function(t){e.$set(e.form1,"topping",t)},expression:"form1.topping"}},[e._v("是")]),a("el-radio",{attrs:{label:"0"},model:{value:e.form1.topping,callback:function(t){e.$set(e.form1,"topping",t)},expression:"form1.topping"}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"标题图:"}},[a("kr-upload",{attrs:{action:e.$BASE_URL+"/source/upload","auto-upload":!0,accept:".png,.jpg,.gif","list-type":"picture-card","on-remove":e.handleImgRemove,imgEditEnable:!0,imgCutOption:e.imgCutOption,"file-list":e.fileList1,"before-upload":e.beforeupload}})],1),a("el-form-item",{attrs:{label:"正文:",prop:"content"}},[e.visible?a("Editor",{ref:"editor",attrs:{readonly:"view"==e.method,height:300},model:{value:e.form1.content,callback:function(t){e.$set(e.form1,"content",t)},expression:"form1.content"}}):e._e()],1),a("el-form-item",{staticStyle:{"text-align":"center"}})],1)],1):e._e(),"view"==e.method?a("div",{staticClass:"form-page"},[a("el-form",{ref:"form1",attrs:{model:e.form1,rules:e.rules,"label-width":"7em",disabled:"view"==e.method},on:{validate:e.formValidated}},[a("el-form-item",{attrs:{label:"文章标题：",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入文章标题",clearable:""},model:{value:e.form1.title,callback:function(t){e.$set(e.form1,"title",t)},expression:"form1.title"}})],1),a("el-form-item",{attrs:{label:"作者:",prop:"author"}},[a("el-input",{attrs:{placeholder:"请输入文章作者",clearable:""},model:{value:e.form1.author,callback:function(t){e.$set(e.form1,"author",t)},expression:"form1.author"}})],1),a("el-form-item",{attrs:{label:"副标题:",prop:"subtitle"}},[a("el-input",{attrs:{placeholder:"请输入副标题",clearable:""},model:{value:e.form1.subtitle,callback:function(t){e.$set(e.form1,"subtitle",t)},expression:"form1.subtitle"}})],1),null!=e.form1.sourceName?a("el-form-item",{attrs:{label:"来源名称:",prop:"sourceName"}},[a("el-input",{attrs:{placeholder:"请输入来源名称",clearable:""},model:{value:e.form1.sourceName,callback:function(t){e.$set(e.form1,"sourceName",t)},expression:"form1.sourceName"}})],1):e._e(),a("el-form-item",{attrs:{label:"密级:",prop:"secretGrade"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择",size:e.size},model:{value:e.form1.secretGrade,callback:function(t){e.$set(e.form1,"secretGrade",t)},expression:"form1.secretGrade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),null!=e.form1.image?a("el-form-item",{attrs:{label:"标题图:",prop:"image"}},[a("img",{staticStyle:{width:"148px",height:"148px"},attrs:{src:e.previewUrl,alt:""}})]):e._e(),a("el-form-item",{attrs:{label:"正文:",prop:"content"}},[e.visible?a("Editor",{ref:"editor",attrs:{readonly:"view"==e.method,height:300},model:{value:e.form1.content,callback:function(t){e.$set(e.form1,"content",t)},expression:"form1.content"}}):e._e()],1),a("el-form-item",{staticStyle:{"text-align":"center"}})],1)],1):e._e(),"view"!=e.method?a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),a("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"warning"},on:{click:function(t){return e.validForm(0)}}},[e._v(e._s("add"==e.method?"新增草稿":"保存草稿"))]),a("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:function(t){return e.validForm(1)}}},[e._v("立即发布")])],1):e._e()])},i=[],o=a("1da1"),n=a("5530"),l=(a("96cf"),a("c740"),a("a434"),a("b0c0"),a("b680"),a("d3b7"),a("25f0"),a("f477")),s=a("9f0d"),u=a("c19a"),c=a("038f"),d=a("85b6"),m=a("5444"),p=a("2f62"),f={components:{userSelect:s["a"],krUpload:d["a"]},props:{},data:function(){return{dictUtils:l["a"],visible:!1,data:null,form:new u["a"],form1:new u["a"],userIds:[],select1:"",organId:"",options:[{value:"核心",label:"核心"},{value:"绝密",label:"绝密"},{value:"机密",label:"机密"},{value:"秘密",label:"秘密"},{value:"公开",label:"公开"}],options1:[{value:1,label:"刊稿"},{value:0,label:"投稿"}],selectes:"",rules:{title:{required:!0,message:"请输入文章标题",trigger:"blur"},type:{required:!0,message:"请选择文章类型",trigger:"blur"},content:{required:!0,message:"请输入文章内容",trigger:"blur"},author:{required:!0,message:"请输入作者",trigger:"blur"},subtitle:{required:!0,message:"请输入副标题",trigger:"blur"},sourceName:{required:!0,message:"请输入来源名称",trigger:"blur"},secretGrade:{required:!0,message:"请输入来源密级",trigger:"blur"},inputs1:{required:!0,message:"请选择部门:",trigger:"blur"}},method:"",imgCutOption:{boxWidth:636,boxHeight:520,originalGraph:!1,rate:"4:3"},fileList1:[{url:""}],fileListimg:[],fileList2:[],inputs1:"",inputs2:"",size:"",fileSysType:"",currentFolderId:"",acceptFormate:"",previewUrl:"",cupload:{name:"",percent:0},options2:[{}],expandTrigger:{label:"name",value:"organId",children:"children"},pid:0,source:"file",duration:""}},computed:Object(n["a"])({},Object(p["c"])({user:function(e){return e.user.user}})),watch:{"form.fullFlag":{handler:function(e){0==e&&(this.form.notifyRecordIds=[])}}},created:function(){},mounted:function(){function e(){var e=new Date,a=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),o=e.getHours(),n=e.getMinutes(),l=e.getSeconds(),s=a+"-"+t(r)+"-"+t(i)+" "+t(o)+":"+t(n)+":"+t(l);return s}function t(e){return e<10?"0"+e:e}this.form.publishTime=e(this.form.publishTime),this.optiones()},methods:{optiones:function(){var e=this;c["a"].getOaDeptTree().then((function(t){e.options2=t.data.data}))},httpRequest:function(e){setTimeout((function(){e.onProgress({percent:25})}),1e3),setTimeout((function(){e.onProgress({percent:65})}),2e3),setTimeout((function(){e.onProgress({percent:100})}),3e3),setTimeout((function(){e.onSuccess()}),4e3)},handleImgRemove:function(e,t){var a=t.findIndex((function(t){return t.uid===e.uid}));a>=0&&t.splice(a,1)},beforeupload:function(e){var t=this,a="image/jpeg"===e.type||"image/png"==e.type,r=e.size/1024/1024<20;if(a){if(r)return console.log(e),m["d"].uploadFile({file:e,pid:this.pid,source:this.source}).then((function(e){console.log(e,"res"),t.form.image=e.data.data.path,t.form.articleFiles[0].fileId=e.data.data.id,t.form.articleFiles[0].name=e.data.data.name,t.form.articleFiles[0].size=e.data.data.size,t.form.articleFiles[0].path=e.data.data.path,t.form.articleFiles[0].type=1}));this.$message.error("上传头像图片大小不能超过 20MB")}else this.$message.error("上传图片只能是JPG或PNG格式")},init:function(e,t){var a=this;this.method=e,this.visible=!0,this.userIds=[],this.from1=new u["a"],this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("add"==e){r.next=12;break}return r.next=3,c["a"].detail({articleId:t.id});case 3:i=r.sent,a.form1=i.data.data,console.log(i),a.previewUrl=a.form1.image,console.log(a.previewUrl),a.fileList1[0].url=a.form1.image,console.log(a.form1,"form1"),console.log(a.fil),a.form1.type=String(a.form.type);case 12:case"end":return r.stop()}}),r)}))))},close:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.method="",e.visible=!1;case 2:case"end":return t.stop()}}),t)})))()},converseSize:function(e){var t="";return t=e>=1073741824?(e/1073741824).toFixed(2)+"G":e>=1048576?(e/1024/1024).toFixed(0)+"M":e>=1024?(e/1024).toFixed(0)+"kb":e&&e+"B",t},validForm:function(e){var t=this;if(console.log(this.form.deptId),"add"==this.method){if(1==this.inputs1.length)return void(this.form.deptId=this.inputs1.toString());if(this.inputs1.length>1){var a=this.inputs1.splice(0,1);this.form.deptId=a.toString()}this.$refs.form.validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(r,"v"),!r){a.next=14;break}return t.form.status=e,a.next=5,c["a"].save(t.form);case 5:if(i=a.sent,o=i.data,0==o.code){a.next=9;break}return a.abrupt("return",t.$message.error(o.msg));case 9:t.$message.success(o.msg),t.$parent.$refs.table.init(),t.close(),a.next=15;break;case 14:return a.abrupt("return",!1);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}else{if(1==this.inputs2.length)return void(this.form1.deptId=this.inputs2.toString());if(this.inputs2.length>1){var r=this.inputs2.splice(0,1);this.form1.deptId=r.toString()}this.$refs.form1.validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(r,"v"),!r){a.next=14;break}return t.form1.status=e,a.next=5,c["a"].save(t.form1);case 5:if(i=a.sent,o=i.data,0==o.code){a.next=9;break}return a.abrupt("return",t.$message.error(o.msg));case 9:t.$message.success(o.msg),t.$parent.$refs.table.init(),t.close(),a.next=15;break;case 14:return a.abrupt("return",!1);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},formValidated:function(e,t,a){console.log(e,t,a)},getDictList:function(e){return l["a"].getDictList(e)}}},g=f,b=(a("ecb1"),a("3f52"),a("2877")),h=Object(b["a"])(g,r,i,!1,null,"4a494050",null);t["default"]=h.exports},"3f52":function(e,t,a){"use strict";a("f1b9")},6395:function(e,t,a){"use strict";a("c502")},"7ae97":function(e,t,a){},"85b6":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload",style:{"--drag-width":e.dragOption.width||"360px","--drag-height":e.dragOption.height||"220px"}},["picture-card"===e.$attrs["list-type"]?a("el-upload",e._b({ref:"upload",attrs:{"on-change":e.uploadImgsChange,"on-success":e.uploadSuccess,headers:{token:e.$store.state.user.user.token}},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:r.url,alt:""}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(r)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e.imgEditEnable&&e.isView?a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleEditImg(r)}}},[a("i",{staticClass:"el-icon-edit-outline"})]):e._e(),e.isView?a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(r)}}},[a("i",{staticClass:"el-icon-delete"})]):e._e()])])}}],null,!1,863019275)},"el-upload",e.$attrs,!1),[a("i",{staticClass:"el-icon-plus"})]):a("el-upload",e._b({ref:"upload",attrs:{headers:{token:e.$store.state.user.user.token}},on:{"on-success":e.uploadImgsSuccess}},"el-upload",e.$attrs,!1),[e.$attrs.drag?a("div",{staticClass:"drag-tooltip"},[a("i",{staticClass:"el-icon-upload drag-tooltip-icon"}),a("div",{staticClass:"drag-tooltip-text"},[e._v(" 将文件拖到此处，或 "),a("em",[e._v("点击上传")])]),e.tooltip?a("div",{staticClass:"tooltip-text"},[e._v("支持扩展名："+e._s(e.tooltip))]):e._e()]):e._e(),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),!e.$attrs.drag&&e.tooltip?a("div",{staticClass:"tooltip-text",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.tooltip))]):e._e()],1),a("el-dialog",{attrs:{title:"图片预览",visible:e.dialogVisible,top:"3vh","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-dialog",{attrs:{title:"图片剪裁",visible:e.ImgCutterData.visible,"append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.ImgCutterData,"visible",t)}}},[e.ImgCutterData.visible?a("img-cutter",e._b({ref:"ImgCutter",attrs:{showChooseBtn:!1,isModal:!1},on:{loaded:e.imgCutterLoaded,cutDown:e.imgCutDown,onClearAll:function(t){e.ImgCutterData.visible=!1},changeAllreadyCut:e.changeAllreadyCut}},"img-cutter",e.imgCutOption,!1)):e._e()],1)],1)},i=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),function(){return a.e("ImgCutter").then(a.bind(null,"447d"))}),n={name:"kr-upload",components:{ImgCutter:o},props:{tooltip:String,isView:{type:Boolean,default:!0},uploadType:{type:String,default:"file"},dragOption:{type:Object,default:function(){return{width:"360px",height:"220px"}}},imgCutOption:{type:Object,default:function(){return{boxHeight:400,boxWidth:800,originalGraph:!1,rate:null}}},imgEditEnable:{type:Boolean,default:!1}},data:function(){return{isAlreadyCut:!1,dialogImageUrl:"",dialogVisible:!1,ImgCutterData:{loadImgCutter:!1,visible:!1,file:null},uid:""}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{changeAllreadyCut:function(e){this.isAlreadyCut=e},uploadSuccess:function(e,t,a){this.loading=!1},uploadImgsChange:function(e,t){!0!==this.$attrs.multiple&&(this.$refs.upload._data.uploadFiles=[e]),this.isAlreadyCut||this.uid===e.uid||(this.ImgCutterData.visible=!0,this.ImgCutterData.file=e),this.uid=e.uid},handleRemove:function(e){this.$attrs["on-remove"](e,this.$refs.upload._data.uploadFiles),this.$emit("remove")},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleEditImg:function(e){e.name||(e.name="无名称.png"),this.ImgCutterData.file=e,this.ImgCutterData.visible=!0},imgCutterLoaded:function(){console.log(),this.$refs.ImgCutter.handleOpen(this.ImgCutterData.file)},imgCutDown:function(e){this.ImgCutterData.file.raw=e.file,this.ImgCutterData.file.raw.uid=this.ImgCutterData.file.uid,this.ImgCutterData.file.url=e.dataURL,this.ImgCutterData.file.size=e.file.size,this.ImgCutterData.file.status="ready",this.ImgCutterData.visible=!1,!1!==this.$attrs["auto-upload"]&&this.$refs.upload.submit(),this.$emit("cutDown",this.ImgCutterData.file)}}},l=n,s=(a("6395"),a("2877")),u=Object(s["a"])(l,r,i,!1,null,"b560955c",null);t["a"]=u.exports},c19a:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("d4ec"),i=a("ade3"),o=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(r["a"])(this,e),Object(i["a"])(this,"allowComment",1),Object(i["a"])(this,"allowSearch",1),Object(i["a"])(this,"articleCustoms",[]),Object(i["a"])(this,"articleFiles",[]),Object(i["a"])(this,"author",""),Object(i["a"])(this,"content",""),Object(i["a"])(this,"contributeFlag",1),Object(i["a"])(this,"deptId",""),Object(i["a"])(this,"editor",""),Object(i["a"])(this,"id",""),Object(i["a"])(this,"image",""),Object(i["a"])(this,"linkUrl",""),Object(i["a"])(this,"menuId",""),Object(i["a"])(this,"orgId",""),Object(i["a"])(this,"publishTime",""),Object(i["a"])(this,"secretGrade","秘密"),Object(i["a"])(this,"sort",100),Object(i["a"])(this,"sourceName",""),Object(i["a"])(this,"status",0),Object(i["a"])(this,"tags",""),Object(i["a"])(this,"title",""),Object(i["a"])(this,"topping",0),Object(i["a"])(this,"type",0),Object(i["a"])(this,"video",""),Object(i["a"])(this,"videoDuration",0),Object(i["a"])(this,"videoName",""),Object(i["a"])(this,"pdf",""),Object(i["a"])(this,"pdfName",""),Object(i["a"])(this,"pdfPage",0),this.menuId=t,this.articleCustoms=a}},c502:function(e,t,a){},d4ec:function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return r}))},ecb1:function(e,t,a){"use strict";a("7ae97")},f1b9:function(e,t,a){}}]);