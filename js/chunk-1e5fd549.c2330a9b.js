(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e5fd549"],{"4d1c":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-dialog",{attrs:{visible:e.visible,title:e.title,width:e.width},on:{"update:visible":function(r){e.visible=r},close:function(r){e.visible=!1}}},[t("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.form,size:"medium",rules:e.rules},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submit.apply(null,arguments)}}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"主机",prop:"ip"}},[t("el-input",{attrs:{placeholder:"请输入主机"},model:{value:e.form.ip,callback:function(r){e.$set(e.form,"ip",r)},expression:"form.ip"}})],1),t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),t("el-form-item",{attrs:{label:"端口",prop:"port"}},[t("el-input",{attrs:{placeholder:"请输入端口"},model:{value:e.form.port,callback:function(r){e.$set(e.form,"port",r)},expression:"form.port"}})],1),t("el-form-item",{attrs:{label:"数据库名",prop:"dbname"}},[t("el-input",{attrs:{placeholder:"请输入数据库名"},model:{value:e.form.dbname,callback:function(r){e.$set(e.form,"dbname",r)},expression:"form.dbname"}})],1)],1)],1)],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},o=[],i=t("1da1"),a=t("5530"),s=(t("96cf"),t("4de4"),t("d81d"),t("2f62")),u=t("ec26"),l={props:{width:{type:String,default:"30%"}},data:function(){return{visible:!1,method:"",title:"",form:{ip:"",username:"",password:"",port:"",dbname:""},curl:"",rules:{ip:[{required:!0,message:"主机不能为空",trigger:"blur"}],username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],port:[{required:!0,message:"端口不能为空",trigger:"blur"}],dbname:[{required:!0,message:"数据库名不能为空",trigger:"blur"}]}}},computed:Object(a["a"])({},Object(s["c"])({dbs:function(e){return e.dblink.dbs}})),methods:Object(a["a"])(Object(a["a"])({},Object(s["b"])({saveDb:"dblink/saveDb"})),{},{init:function(e,r){var t=this;this.method=e,this.form={id:"",ip:"",username:"",password:"",port:"",dbname:""},this.title="add"===e?"添加数据源":"编辑数据源",this.visible=!0,this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$refs.form.resetFields(),"add"!==e&&(o=t.dbs.filter((function(e){return e.id===r}))[0],t.form=JSON.parse(JSON.stringify(o)));case 2:case"end":return n.stop()}}),n)}))))},submit:function(){var e=this;this.$refs.form.validate(function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(t){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=5;break}"add"===e.method?(e.form.id=Object(u["a"])(),e.form.url="jdbc:mysql://"+e.form.ip+":"+e.form.port+"/"+e.form.dbname,e.dbs.push(e.form),e.saveDb(e.dbs)):(n=e.dbs.map((function(r){return r.id==e.form.id&&(r=e.form),r})),e.saveDb(n)),e.visible=!1,r.next=6;break;case 5:return r.abrupt("return",!1);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}})},d=l,p=t("2877"),m=Object(p["a"])(d,n,o,!1,null,null,null);r["default"]=m.exports},ec26:function(e,r,t){"use strict";var n,o=new Uint8Array(16);function i(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(e){return"string"===typeof e&&a.test(e)}for(var u=s,l=[],d=0;d<256;++d)l.push((d+256).toString(16).substr(1));function p(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[e[r+0]]+l[e[r+1]]+l[e[r+2]]+l[e[r+3]]+"-"+l[e[r+4]]+l[e[r+5]]+"-"+l[e[r+6]]+l[e[r+7]]+"-"+l[e[r+8]]+l[e[r+9]]+"-"+l[e[r+10]]+l[e[r+11]]+l[e[r+12]]+l[e[r+13]]+l[e[r+14]]+l[e[r+15]]).toLowerCase();if(!u(t))throw TypeError("Stringified UUID is invalid");return t}var m=p;function f(e,r,t){e=e||{};var n=e.random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return m(n)}r["a"]=f}}]);