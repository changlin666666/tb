(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cb91b48"],{"02b8":function(e,t,i){"use strict";i("c892")},"0407":function(e,t,i){},"0ac7":function(e,t,i){e.exports=i.p+"img/u4741.4e7e7fa3.png"},"0d28":function(e,t,i){"use strict";i("f6df")},1951:function(e,t,i){},"1fe7":function(e,t,i){"use strict";i("8033")},"2dfe":function(e,t,i){},4152:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return n}));var o=i("7bc1"),a=function(e){return o["a"].post("/form/page",e)},n=function(e){return o["a"].get("/form/struct",e)};t["a"]={groupList:function(e){return o["a"].post("/category/page",e)},delGroup:function(e){return o["a"].delete("/category/delete",e)},addGroup:function(e){return o["a"].post("/category/create",e)},saveGroup:function(e){return o["a"].post("/category/update",e)},detailGroup:function(e){return o["a"].get("/category/select",e)},list:function(e){return o["a"].post("/form/page",e)},add:function(e){return o["a"].post("/form/create",e)},del:function(e){return o["a"].delete("/form/delete",e)},detail:function(e){return o["a"].get("/form/select",e)},save:function(e){return o["a"].post("/form/update",e)},getStruct:function(e){return o["a"].get("/form/struct",e)},saveStruct:function(e){return o["a"].post("/form/struct",e)},tableConfig:function(e){return o["a"].post("/table/page",e)},saveTable:function(e){return o["a"].post("/table/update",e)}}},4568:function(e,t,i){"use strict";i("d4ec"),i("ade3")},4614:function(e,t,i){},"4dd6":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return a})),i.d(t,"f",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return r}));var o=[{type:"input",name:"单行文本",labelWidth:void 0,hidden:!1,icon:"regular/keyboard",options:{width:"100%",defaultValue:"",readonly:!1,disabled:!1,showWordLimit:!1,required:!1,dataType:"string",pattern:"",maxLength:"",placeholder:"",hiddenLabel:!1,appendButton:!1}},{type:"textarea",name:"多行文本",icon:"regular/keyboard",labelWidth:void 0,hidden:!1,options:{width:"100%",defaultValue:"",readonly:!1,disabled:!1,showWordLimit:!1,required:!1,maxLength:"",pattern:"",placeholder:"",hiddenLabel:!1}},{type:"number",name:"计数器",icon:"sort-numeric-up",labelWidth:void 0,hidden:!1,options:{width:"100%",required:!1,defaultValue:0,min:"",max:"",step:1,disabled:!1,controlsPosition:"",hiddenLabel:!1}},{type:"radio",name:"单选框组",icon:"regular/dot-circle",labelWidth:void 0,hidden:!1,options:{inline:!0,defaultValue:"",showLabel:!1,hiddenLabel:!1,options:[{value:"选项1",label:"选项1"},{value:"选项2",label:"选项2"},{value:"选项3",label:"选项3"}],required:!1,disabled:!1,width:"100%",remote:"static",remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"checkbox",name:"多选框组",icon:"regular/check-square",labelWidth:void 0,hidden:!1,options:{inline:!0,buttonStyle:!1,defaultValue:[],showLabel:!1,disabled:!1,min:null,max:null,hiddenLabel:!1,options:[{value:"选项1"},{value:"选项2"},{value:"选项3"}],required:!1,width:"100%",remote:"static",remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"date",name:"日期选择器",labelWidth:void 0,hidden:!1,icon:"regular/calendar-alt",options:{hiddenLabel:!1,defaultValue:!1,readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"date",format:"yyyy-MM-dd",timestamp:!1,required:!1,width:"100%",relevantParameter:""}},{type:"time",name:"时间选择器",labelWidth:void 0,hidden:!1,icon:"clock",options:{hiddenLabel:!1,defaultValue:!1,readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"datetime",format:"hh:mm:ss",timestamp:!1,required:!1,width:"100%",relevantParameter:""}},{type:"rate",name:"评分",icon:"regular/star",labelWidth:void 0,hidden:!1,options:{hiddenLabel:!1,defaultValue:null,max:5,disabled:!1,allowHalf:!1,required:!1}},{type:"color",name:"颜色选择器",icon:"palette",labelWidth:void 0,hidden:!1,options:{hiddenLabel:!1,defaultValue:"",disabled:!1,showAlpha:!1,required:!1}},{type:"select",name:"下拉选择框",labelWidth:void 0,hidden:!1,icon:"regular/caret-square-down",options:{hiddenLabel:!1,defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,allowCreate:!1,width:"100%",options:[{value:"下拉框1"},{value:"下拉框2"},{value:"下拉框3"}],remote:"static",remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"switch",name:"开关",labelWidth:void 0,hidden:!1,icon:"toggle-off",options:{hiddenLabel:!1,defaultValue:!1,required:!1,disabled:!1}},{type:"slider",name:"滑块",icon:"sliders-h",labelWidth:void 0,hidden:!1,options:{hiddenLabel:!1,defaultValue:0,disabled:!1,required:!1,min:0,max:100,step:1,showInput:!1,range:!1,width:"100%"}},{type:"text",name:"文本",icon:"language",options:{defaultValue:"",remoteFunc:"",align:"center",fontSize:"16px",hiddenLabel:!1}},{type:"html",name:"HTML",icon:"heading",labelWidth:void 0,options:{html:null,hiddenLabel:!1}},{type:"cascader",name:"级联选择器",icon:"random",labelWidth:void 0,options:{defaultValue:[],width:"100%",separator:"/",placeholder:"",required:!1,multiple:!1,disabled:!1,clearable:!1,checkStrictly:!1,remote:"custom",remoteOptions:[],options:[{value:"A",label:"A",children:[{value:"AA",label:"AA",children:[{value:"AAA",label:"AAA"}]}]}],props:{value:"id",label:"name",children:"children"},remoteFunc:"",hiddenLabel:!1}},{type:"treeselect",name:"树形下拉框",icon:"tree",labelWidth:void 0,options:{remoteFunc:"",placeholder:"",width:"100%",defaultValue:null,maxHeight:300,multiple:!1,remote:"custom",appendToBody:!1,props:{value:"value",label:"label",children:"children"},clearable:!0,searchable:!0,noChildrenText:"暂无数据",noOptionsText:"暂无数据",noResultsText:"暂无数据",searchNested:!0,required:!1,showValueLabelSlot:!1,disabled:!1,showCount:!1,disableBranchNodes:!0,remoteOptions:[{value:"测试数据A",label:"测试数据A",children:[{value:"测试数据AA",label:"测试数据AA"},{value:"测试数据AB",label:"测试数据AB"}]},{value:"测试数据B",label:"测试数据B"},{value:"测试数据C",label:"测试数据C"}],hiddenLabel:!1}},{type:"richtext",name:"富文本",icon:"text-width",labelWidth:void 0,hidden:!1,options:{defaultValue:"",readonly:!1,hiddenLabel:!1,required:!1}}],a=[{type:"button",name:"按钮",icon:"mouse-pointer",labelWidth:void 0,hidden:!1,options:{text:"确认",eventName:"btnCallback",btnType:"primary",hiddenLabel:!0}},{type:"upload",name:"附件",icon:"upload",labelWidth:void 0,options:{value:"",fileType:"",defaultValue:"",readonly:!1,hiddenLabel:!1}},{type:"avatar",name:"头像",icon:"user",labelWidth:void 0,options:{resourceId:"id",uploadUrl:"/source/upload",width:"180px",hiddenLabel:!0}},{type:"form",name:"子表单",icon:"file-word",labelWidth:void 0,tableColumns:[],options:{hiddenLabel:!0,remote:"custom",remoteFunc:"",tableParams:"",prefill:"",tableName:""}},{type:"user",name:"用户",icon:"people-carry",labelWidth:void 0,options:{hiddenLabel:!1,remote:"custom",multiple:!1}},{type:"office",name:"组织架构",icon:"poop",labelWidth:void 0,options:{hiddenLabel:!1,remote:"custom",multiple:!1,companyId:"",treeData:[]}},{type:"remote_table",name:"关联表单",icon:"atom",labelWidth:void 0,options:{hiddenLabel:!1,remote:"custom",formId:"",formLabel:"",formVersion:"",formList:[]}}],n=[{type:"grid",name:"栅格布局",icon:"th",columns:[{span:24,list:[]}],options:{gutter:0,justify:"start",align:"top"}},{type:"grid-table",name:"表格布局",icon:"table",beta:!0,options:{borderWidth:1,borderColor:"#999",width:"100%",sumColSpan:1,sumRowSpan:1},rows:[{columns:[]}]},{type:"tabs",name:"标签页",icon:"tags",beta:!0,items:[{name:"标签页1",label:"标签页1",list:[]}],options:{type:"",hiddenLabel:!0,position:"top"}},{type:"divider",name:"分割线",icon:"divide",labelWidth:void 0,options:{align:"center",hiddenLabel:!0}}],s=[],l={tabs:{type:[{label:"普通",value:""},{label:"选项卡",value:"card"},{label:"卡片化",value:"border-card"}],position:[{label:"顶部",value:"top"},{label:"左侧",value:"left"},{label:"右侧",value:"right"},{label:"底部",value:"bottom"}]}},r=["input","textarea","number","radio","checkbox","date","time","rate","color","select","switch","slider","cascader","text","html","treeselect","richtext"]},6099:function(e,t,i){},"66c6":function(e,t,i){"use strict";i("6099")},"7a19":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.onlyLabel?i("el-form-item",{class:e.widget.options.className,attrs:{rules:e.getRules,prop:e.formElement.includes(e.widget.type)?e.widget.model:void 0,"label-width":e.widget.options.hiddenLabel?"0":e.labelWidth},scopedSlots:e._u([{key:"label",fn:function(){return[!e.widget.options.hiddenLabel&&e.label?[i("span",{domProps:{innerHTML:e._s(e.label)}}),e.widget.options.tips?i("el-popover",{attrs:{placement:"top-start",title:"输入提示",width:"200",trigger:"hover"}},[i("i",{staticClass:"el-icon el-icon-question",attrs:{slot:"reference"},slot:"reference"}),i("div",{staticStyle:{color:"#8492a6"},domProps:{innerHTML:e._s(e.widget.options.tips)}})]):e._e()]:e._e()]},proxy:!0}])},["blank"===e.widget.type?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.widget.hidden,expression:"!widget.hidden"}],key:e.widget.key,attrs:{"label-width":e.widget.options.hiddenLabel?"0":e.labelWidth,prop:e.widget.model}},[e._t(e.widget.model,null,{model:e.models,widget:e.widget})],2):e._e(),"html"===e.widget.type?[i("div",{staticStyle:{"margin-left":"10px"},domProps:{innerHTML:e._s(e.widget.options.html)}})]:e._e(),"divider"===e.widget.type?[i("el-divider",{attrs:{"content-position":e.widget.options.align}},[e._v(e._s(e.widget.name))])]:e._e(),"input"==e.widget.type?[i("div",[e._v(e._s(e.models[e.widget.model]))])]:e._e(),"button"==e.widget.type?[i("el-button",{attrs:{type:e.widget.options.btnType},on:{click:function(t){return e.btnOnClick(e.widget)}}},[e._v(e._s(e.widget.options.text))])]:e._e(),"text"==e.widget.type?[i("h3",{staticStyle:{padding:"10px","font-family":"KaiTi, STKaiti",margin:"0"},style:{"text-align":e.widget.options.align,"font-size":e.widget.options.fontSize}},[e._v(" "+e._s(e.widget.name)+" ")])]:e._e(),"label"==e.widget.type?[i("p",[e._v(e._s(e.models[e.widget.model]))])]:e._e(),"select"==e.widget.type?[i("div",[e._v(e._s(e.getSelectLabel))])]:e._e(),"textarea"==e.widget.type?[i("div",[e._v(e._s(e.models[e.widget.model]))])]:e._e(),"number"==e.widget.type?[i("div",[e._v(e._s(e.models[e.widget.model]))])]:e._e(),"radio"==e.widget.type?[i("div",[e._v(e._s(e.getRadioLabel))])]:e._e(),"checkbox"==e.widget.type?[i("div",[e._v(e._s(e.getCheckboxLabel))])]:e._e(),"time"==e.widget.type?[i("div",[e._v(e._s(e.models[e.widget.model]))])]:e._e(),"date"==e.widget.type?[i("div",[e._v(" "+e._s(e.models[e.widget.model]instanceof Array?e.models[e.widget.model].join(" - "):e.models[e.widget.model])+" ")])]:e._e(),"rate"==e.widget.type?[i("el-rate",e._g({attrs:{max:e.widget.options.max,disabled:e.readOnly||e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"color"==e.widget.type?[i("el-color-picker",e._g({attrs:{disabled:e.readOnly||e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"switch"==e.widget.type?[i("el-switch",e._g({attrs:{disabled:e.readOnly||e.widget.options.disabled},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"slider"==e.widget.type?[i("el-slider",e._g({style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.readOnly||e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"cascader"==e.widget.type?[i("el-cascader",e._g({ref:"cascader",style:{width:e.widget.options.width},attrs:{value:e.models[e.widget.model].split(","),disabled:e.readOnly||e.widget.options.disabled,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,separator:null==e.widget.options.separator?"/":e.widget.options.separator,options:e.optionsList,filterable:"",props:{checkStrictly:e.widget.options.checkStrictly,multiple:e.widget.options.multiple,expandTrigger:"hover",value:e.widget.options.props.value,label:e.widget.options.props.label}}},e._$listeners))]:e._e(),"table"==e.widget.type?[i("CrudTable",{ref:"table",attrs:{closeOnClickModal:!1,tableName:e.widget.options.tableName,tableDesignerName:e.widget.options.tableDesignerName,dialogFormDesignerName:e.widget.options.dialogFormDesignerName,dialogAppendToBody:"",readOnly:e.readOnly||e.widget.options.readonly,visibleList:e.tableVisibleList,showPagination:e.widget.options.showPagination,isMultiple:e.widget.options.isMultiple,tableParams:e.getTableParams,prefill:e.getTablePrefill,remoteFuncs:e.remote,border:"",stripe:""},on:{"selection-change":e.getTableSelection}})]:e._e(),"treeselect"===e.widget.type?[e.visible?i("treeselect",e._g({attrs:{placeholder:e.widget.options.placeholder,maxHeight:+e.widget.options.maxHeight,multiple:e.widget.options.multiple,normalizer:e.normalizer,"append-to-body":e.widget.options.appendToBody,loadOptions:function(e){e.action;var t=e.parentNode,i=e.callback;t.children&&(t.children=[]),i()},valueConsistsOf:"ALL",clearable:e.widget.options.clearable,searchable:e.widget.options.searchable,noChildrenText:e.widget.options.noChildrenText,noOptionsText:e.widget.options.noOptionsText,noResultsText:e.widget.options.noResultsText,disabled:e.readOnly||e.widget.options.disabled,showCount:e.widget.options.showCount,"disable-branch-nodes":e.widget.options.disableBranchNodes,options:e.widget.options.remoteOptions,searchNested:e.widget.options.searchNested},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners)):e._e()]:e._e(),"richtext"==e.widget.type?[i("div",{domProps:{innerHTML:e._s(e.models[e.widget.model])}})]:e._e(),"upload"==e.widget.type?[i("FileUpload",{attrs:{fileType:e.widget.options.fileType,readOnly:e.readOnly||e.widget.options.readonly,value:e.models[e.widget.model]},on:{uploadSuccess:e.uploadSuccess}})]:e._e(),"avatar"===e.widget.type?[i("AvatarUpload",{attrs:{readOnly:e.readOnly,widget:e.widget},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}})]:e._e(),"form"===e.widget.type?[i("SubForm",{attrs:{widget:e.widget,models:e.models,readOnly:e.readOnly},on:{subFormUpdate:e.subFormUpdate}})]:e._e(),"chart-pie"===e.widget.type?[i("PieChart",{attrs:{height:e.widget.options.height,data:e.widget.options.data,title:e.widget.name,hollow:e.widget.options.hollow},on:{click:e.chartOnClick}})]:e._e(),"chart-line"===e.widget.type?[i("LineChart",{attrs:{height:e.widget.options.height,data:e.widget.options.data,title:e.widget.name,rotate:e.widget.options.rotate,type:e.widget.options.type,yAxisMax:e.widget.options.yAxisMax,xUnit:e.widget.options.xUnit,yUnit:e.widget.options.yUnit},on:{click:e.chartOnClick}})]:e._e(),"chart-common"===e.widget.type?[i("Echarts",{attrs:{title:e.widget.name,height:e.widget.options.height,option:e.widget.options.option,loop:e.widget.options.loop}})]:e._e(),"user"===e.widget.type?[i("userSelect",{attrs:{readonly:e.onlyLabel||e.widget.options.disabled,placeholder:"请选择用户"},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}})]:e._e(),"office"===e.widget.type?[e._v(" "+e._s(e.getOfficeLabel)+" ")]:e._e(),"remote_table"===e.widget.type?[e.widget.options.formList.length>0?i("el-row",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},e._l(e.widget.options.formList,(function(t,o){return i("el-row",{key:o,staticStyle:{display:"flex","align-items":"center"}},[i("el-col",{staticStyle:{margin:"5px 0"},attrs:{span:e.readOnly?24:23}},[i("ProForm",{ref:"proform"+o,refInFor:!0,attrs:{readOnly:e.readOnly,data:e.widget.options.source,rules:e.remoteRules,value:t,method:e.method}})],1)],1)})),1):i("el-empty")]:e._e()],2):i("el-form-item",{class:e.widget.options.className,attrs:{rules:e.getRules,prop:e.formElement.includes(e.widget.type)?e.widget.model:void 0,"label-width":e.widget.options.hiddenLabel?"0":e.labelWidth},scopedSlots:e._u([{key:"label",fn:function(){return[!e.widget.options.hiddenLabel&&e.label?[i("span",{domProps:{innerHTML:e._s(e.label)}}),e.widget.options.tips?i("el-popover",{attrs:{placement:"top-start",title:"输入提示",width:"200",trigger:"hover"}},[i("i",{staticClass:"el-icon el-icon-question",attrs:{slot:"reference"},slot:"reference"}),i("div",{staticStyle:{color:"#8492a6"},domProps:{innerHTML:e._s(e.widget.options.tips)}})]):e._e()]:e._e()]},proxy:!0}],null,!1,1229375200)},["blank"===e.widget.type?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.widget.hidden,expression:"!widget.hidden"}],key:e.widget.key,attrs:{"label-width":e.widget.options.hiddenLabel?"0":e.labelWidth,prop:e.widget.model}},[e._t(e.widget.model,null,{model:e.models,widget:e.widget})],2):e._e(),"html"===e.widget.type?[i("div",{staticStyle:{"margin-left":"10px"},domProps:{innerHTML:e._s(e.widget.options.html)}})]:e._e(),"divider"===e.widget.type?[i("el-divider",{attrs:{"content-position":e.widget.options.align}},[e._v(e._s(e.widget.name))])]:e._e(),"input"==e.widget.type?[["number","integer","float"].includes(e.widget.options.dataType)?i("el-input",e._g({style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,placeholder:e.widget.options.placeholder,readonly:e.readOnly||e.widget.options.readonly,disabled:e.readOnly||e.widget.options.disabled},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,e._n(t))},expression:"models[widget.model]"}},e._$listeners)):i("el-input",e._g({style:{width:e.widget.options.width},attrs:{type:"text","show-word-limit":e.widget.options.showWordLimit,maxlength:e.widget.options.maxLength,placeholder:e.widget.options.placeholder,readonly:e.readOnly||e.widget.options.readonly,disabled:e.readOnly||e.widget.options.disabled,"suffix-icon":e.widget.options.suffix,"prefix-icon":e.widget.options.prefix},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners),[e.widget.options.prepend?i("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(" "+e._s(e.widget.options.prepend)+" ")]):e._e(),e.widget.options.append||e.widget.options.appendButton?i("template",{slot:"append"},[e.widget.options.appendButton?i("el-button",{attrs:{icon:"el-icon-info"},on:{click:function(t){return e.btnOnClick(e.widget)}}},[e._v(" "+e._s(e.widget.options.append)+" ")]):i("span",[e._v(" "+e._s(e.widget.options.append)+" ")])],1):e._e()],2)]:e._e(),"button"==e.widget.type?[i("el-button",{attrs:{type:e.widget.options.btnType},on:{click:function(t){return e.btnOnClick(e.widget)}}},[e._v(e._s(e.widget.options.text))])]:e._e(),"text"==e.widget.type?[i("h3",{staticStyle:{padding:"10px","font-family":"KaiTi, STKaiti",margin:"0"},style:{"text-align":e.widget.options.align,"font-size":e.widget.options.fontSize}},[e._v(" "+e._s(e.widget.name)+" ")])]:e._e(),"label"==e.widget.type?[i("p",[e._v(e._s(e.models[e.widget.model]))])]:e._e(),"select"==e.widget.type?["static"==e.widget.options.remote?i("el-select",e._g({style:{width:e.widget.options.width||"100%"},attrs:{"default-first-option":"",disabled:e.readOnly||e.widget.options.disabled,readonly:e.readOnly||e.widget.options.readonly,multiple:e.widget.options.multiple,"allow-create":"",clearable:"",placeholder:e.widget.options.placeholder,filterable:""},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners),e._l(e.optionsList,(function(t,o){return i("el-option",{key:o,attrs:{value:t.value,label:e.widget.options.showLabel||e.widget.options.remote?t.label:t.value}},[i("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),t.rightLabel?i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"1em"}},[e._v(e._s(t.rightLabel))]):e._e()])})),1):"dict"==e.widget.options.remote?i("el-select",e._g({style:{width:e.widget.options.width||"100%"},attrs:{"default-first-option":"",disabled:e.readOnly||e.widget.options.disabled,readonly:e.readOnly||e.widget.options.readonly,multiple:e.widget.options.multiple,"allow-create":"",clearable:"",placeholder:e.widget.options.placeholder,filterable:""},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners),e._l(e.dictUtils.getDictList(e.widget.options.dictType),(function(t,o){return i("el-option",{key:o,attrs:{value:t.code,label:t.value}},[i("span",{staticStyle:{float:"left"}},[e._v(e._s(t.value))]),t.rightLabel?i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"1em"}},[e._v(e._s(t.rightLabel))]):e._e()])})),1):e._e()]:e._e(),"textarea"==e.widget.type?[i("el-input",e._g({style:{width:e.widget.options.width},attrs:{type:"textarea",autosize:{minRows:5},"show-word-limit":e.widget.options.showWordLimit,maxlength:e.widget.options.maxLength,disabled:e.readOnly||e.widget.options.disabled,readonly:e.readOnly||e.widget.options.readonly,placeholder:e.widget.options.placeholder},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"number"==e.widget.type?[i("el-input-number",e._g({style:{width:e.widget.options.width},attrs:{step:e.widget.options.step,disabled:e.readOnly||e.widget.options.disabled,readonly:e.readOnly||e.widget.options.readonly,"controls-position":"right"},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"radio"==e.widget.type?[i("el-radio-group",e._g({style:{width:e.widget.options.width},attrs:{disabled:e.readOnly||e.widget.options.disabled},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners),e._l(e.optionsList,(function(t,o){return i("el-radio",{key:o,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.showLabel?[e._v(e._s(t.label))]:e._e()],2)})),1)]:e._e(),"checkbox"==e.widget.type?[i("el-checkbox-group",e._g({style:{width:e.widget.options.width},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners),[e.widget.options.buttonStyle?e._l(e.optionsList,(function(t,o){return i("el-checkbox-button",{key:t.value+o,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v(" "+e._s(e.widget.options.showLabel?t.label:t.value)+" ")])})):e._l(e.optionsList,(function(t,o){return i("el-checkbox",{key:t.value+o,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value,min:e.widget.options.min,max:e.widget.options.max}},[e._v(" "+e._s(e.widget.options.showLabel?t.label:t.value)+" ")])}))],2)]:e._e(),"time"==e.widget.type?[i("el-time-picker",e._g({style:{width:e.widget.options.width},attrs:{"is-range":e.widget.options.isRange,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.readOnly||e.widget.options.readonly,disabled:e.readOnly||e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,arrowControl:e.widget.options.arrowControl,"value-format":e.widget.options.format},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"date"==e.widget.type?[i("el-date-picker",e._g({style:{width:e.widget.options.width},attrs:{type:e.widget.options.type,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.readOnly||e.widget.options.readonly,disabled:e.readOnly||e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"value-format":e.widget.options.timestamp?"timestamp":e.widget.options.format,format:e.widget.options.format,"picker-options":e.pickerOptions,"default-value":new Date},on:{change:e.getComputedDate},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"rate"==e.widget.type?[i("el-rate",e._g({attrs:{max:e.widget.options.max,disabled:e.readOnly||e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"color"==e.widget.type?[i("el-color-picker",e._g({attrs:{disabled:e.readOnly||e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"switch"==e.widget.type?[i("el-switch",e._g({attrs:{disabled:e.readOnly||e.widget.options.disabled},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"slider"==e.widget.type?[i("el-slider",e._g({style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.readOnly||e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners))]:e._e(),"cascader"==e.widget.type?[i("el-cascader",e._g({ref:"cascader",style:{width:e.widget.options.width},attrs:{value:e.models[e.widget.model].split(","),disabled:e.readOnly||e.widget.options.disabled,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,separator:null==e.widget.options.separator?"/":e.widget.options.separator,options:e.optionsList,filterable:"",props:{checkStrictly:e.widget.options.checkStrictly,multiple:e.widget.options.multiple,expandTrigger:"hover",value:e.widget.options.props.value,label:e.widget.options.props.label}}},e._$listeners))]:e._e(),"table"==e.widget.type?[i("CrudTable",{ref:"table",attrs:{closeOnClickModal:!1,tableName:e.widget.options.tableName,tableDesignerName:e.widget.options.tableDesignerName,dialogFormDesignerName:e.widget.options.dialogFormDesignerName,dialogAppendToBody:"",readOnly:e.readOnly||e.widget.options.readonly,visibleList:e.tableVisibleList,showPagination:e.widget.options.showPagination,isMultiple:e.widget.options.isMultiple,tableParams:e.getTableParams,prefill:e.getTablePrefill,remoteFuncs:e.remote,border:"",stripe:""},on:{"selection-change":e.getTableSelection}})]:e._e(),"treeselect"===e.widget.type?[e.visible?i("treeselect",e._g({attrs:{placeholder:e.widget.options.placeholder,maxHeight:+e.widget.options.maxHeight,multiple:e.widget.options.multiple,normalizer:e.normalizer,"append-to-body":e.widget.options.appendToBody,loadOptions:function(e){e.action;var t=e.parentNode,i=e.callback;t.children&&(t.children=[]),i()},valueConsistsOf:"ALL",clearable:e.widget.options.clearable,searchable:e.widget.options.searchable,noChildrenText:e.widget.options.noChildrenText,noOptionsText:e.widget.options.noOptionsText,noResultsText:e.widget.options.noResultsText,disabled:e.readOnly||e.widget.options.disabled,showCount:e.widget.options.showCount,"disable-branch-nodes":e.widget.options.disableBranchNodes,options:e.widget.options.remoteOptions,searchNested:e.widget.options.searchNested},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}},e._$listeners)):e._e()]:e._e(),"richtext"==e.widget.type?["richtext"==e.widget.type?i("Tinymce",{attrs:{height:400,readonly:e.readOnly||e.widget.options.readonly},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}}):e._e()]:e._e(),"upload"==e.widget.type?[i("FileUpload",{attrs:{fileType:e.widget.options.fileType,readOnly:e.readOnly||e.widget.options.readonly,value:e.models[e.widget.model]},on:{uploadSuccess:e.uploadSuccess}})]:e._e(),"avatar"===e.widget.type?[i("AvatarUpload",{attrs:{readOnly:e.readOnly,widget:e.widget},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}})]:e._e(),"form"===e.widget.type?[i("SubForm",{attrs:{widget:e.widget,models:e.models,readOnly:e.readOnly},on:{subFormUpdate:e.subFormUpdate}})]:e._e(),"chart-pie"===e.widget.type?[i("PieChart",{attrs:{height:e.widget.options.height,data:e.widget.options.data,title:e.widget.name,hollow:e.widget.options.hollow},on:{click:e.chartOnClick}})]:e._e(),"chart-line"===e.widget.type?[i("LineChart",{attrs:{height:e.widget.options.height,data:e.widget.options.data,title:e.widget.name,rotate:e.widget.options.rotate,type:e.widget.options.type,yAxisMax:e.widget.options.yAxisMax,xUnit:e.widget.options.xUnit,yUnit:e.widget.options.yUnit},on:{click:e.chartOnClick}})]:e._e(),"chart-common"===e.widget.type?[i("Echarts",{attrs:{title:e.widget.name,height:e.widget.options.height,option:e.widget.options.option,loop:e.widget.options.loop}})]:e._e(),"user"===e.widget.type?[i("userSelect",{attrs:{disabled:e.readOnly||e.widget.options.disabled,placeholder:"请选择用户"},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}})]:e._e(),"office"===e.widget.type?[i("krTreeSelect",{staticStyle:{width:"100%"},attrs:{disabled:e.readOnly||e.widget.options.disabled,placeholder:"请选择组织架构",nodeKey:"nodeIds",props:e.treeProps,data:e.officeData},model:{value:e.models[e.widget.model],callback:function(t){e.$set(e.models,e.widget.model,t)},expression:"models[widget.model]"}})]:e._e(),"remote_table"===e.widget.type?[e.readOnly?e._e():i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addForm(e.widget)}}},[e._v("添加一条")]),e.widget.options.formList.length>0?i("el-row",{staticStyle:{display:"flex","flex-direction":"column"}},e._l(e.widget.options.formList,(function(t,o){return i("el-row",{key:o,staticStyle:{display:"flex","align-items":"center"}},[i("el-col",{staticStyle:{margin:"5px 0"},attrs:{span:e.readOnly?24:23}},[i("ProForm",{ref:"proform"+o,refInFor:!0,attrs:{readOnly:e.readOnly,rules:e.remoteRules,data:e.widget.options.source,value:t,method:e.method}})],1),e.readOnly?e._e():i("el-col",{key:o,staticStyle:{"text-align":"center"},attrs:{span:1}},[i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.delForm(e.widget,o)}}})],1)],1)})),1):i("el-empty")]:e._e()],2)},a=[],n=i("91b6"),s=n["a"],l=(i("b378"),i("2877")),r=Object(l["a"])(s,o,a,!1,null,"1d36cccf",null);t["default"]=r.exports},8033:function(e,t,i){},9022:function(e,t,i){"use strict";i.r(t),i.d(t,"getArea",(function(){return a}));var o=i("7bc1");function a(e){o["a"].get("/sys/area/getAreaTree").then((function(t){var i=t.data;e([i.data])}))}},"91b6":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3835"),_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5530"),_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b85c"),_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1da1"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_18__),_kr_components_form_designer_utils_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("fcf5"),_kr_components_form_designer_form_designer_src_componentsConfig__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("4dd6"),_kr_components_form_designer_modules_index__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("f05f"),_kr_components_Tinymce_index__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("4649"),_api_modules_sys_office__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("3074"),_plugins_dictUtils__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("f477"),_kr_components_kr_user_select_index__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("9f0d"),_api_modules_table__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("9fcf"),_kr_components_form_designer_utils_remoteFuncs__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("9022"),vuex__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("2f62");__webpack_exports__["a"]={components:{Tinymce:_kr_components_Tinymce_index__WEBPACK_IMPORTED_MODULE_22__["a"],FileUpload:_kr_components_form_designer_modules_index__WEBPACK_IMPORTED_MODULE_21__["c"],ProForm:function(){return Promise.resolve().then(__webpack_require__.bind(null,"d48d"))},SubForm:function(){return __webpack_require__.e("chunk-3028381a").then(__webpack_require__.bind(null,"b3cf"))},Echarts:_kr_components_form_designer_modules_index__WEBPACK_IMPORTED_MODULE_21__["b"],PieChart:_kr_components_form_designer_modules_index__WEBPACK_IMPORTED_MODULE_21__["e"],LineChart:_kr_components_form_designer_modules_index__WEBPACK_IMPORTED_MODULE_21__["d"],AvatarUpload:_kr_components_form_designer_modules_index__WEBPACK_IMPORTED_MODULE_21__["a"],userSelect:_kr_components_kr_user_select_index__WEBPACK_IMPORTED_MODULE_25__["a"]},name:"ProFormItem",props:{widget:{type:Object,default:function(){return{}}},models:{type:Object,default:function(){return{}}},remote:{type:Object,default:function(){return{}}},formTableConfig:{type:Object,default:function(){return{}}},readOnly:{type:Boolean,default:!1},method:{type:String,default:""},onlyLabel:{type:Boolean,default:!1}},data:function(){return{copyOption:[],visible:!1,officeData:[],normalizer:null,treeProps:{children:"children",label:"name",disabled:"disabled"},formElement:_kr_components_form_designer_form_designer_src_componentsConfig__WEBPACK_IMPORTED_MODULE_20__["e"],dictUtils:_plugins_dictUtils__WEBPACK_IMPORTED_MODULE_24__["a"],childrenData:{},rangeDate:[],rangeDay:0}},methods:{getComputedDate:function(e){if(e instanceof Array){var t=new Date(e[1]).getTime()-new Date(e[0]).getTime(),i=Math.ceil(t/1e3/60/60/24);this.widget.options.relevantParameter&&(this.models[this.widget.options.relevantParameter]=i)}},subFormUpdate:function(e){this.models[this.widget.model]=JSON.stringify(e.tableData)},addForm:function(e){e.options.formList=e.options.formList?e.options.formList:[],e.options.formList.push({})},delForm:function(e,t){e.options.formList.splice(t,1)},getCompanyTree:function(e){var t=this;return Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function i(){var o,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,_api_modules_sys_office__WEBPACK_IMPORTED_MODULE_23__["a"].tree({companyId:e||t.user.company.id});case 2:o=i.sent,a=o.data,t.officeData=[a.data],t.$EventBus.$emit("getCompanyTree",[a.data]);case 6:case"end":return i.stop()}}),i)})))()},initData:function(){var e,t=this.widget,i=t.type,o=t.model;if("treeselect"===i){var a=this.widget.options.props,n=a.value,s=a.label;e=function(e){return null!==e.children&&"null"!==e.children||delete e.children,{id:e[n],label:e[s]}}}else i.includes("chart-")&&("chart-common"===i?this.models[o]&&(this.widget.options.option=this.models[o]):this.models[o]&&(this.widget.options.data=this.models[o]));this.normalizer=e},diGuiTree:function(e){var t=this;e.forEach((function(e){""===e.children||void 0===e.children||null===e.children?delete e.children:t.diGuiTree(e.children)}))},uploadSuccess:function(e){this.models[this.widget.model]=JSON.stringify(e)},btnOnClick:function(e){this.$emit("btnOnClick",e.options.eventName)},chartOnClick:function(e){this.$emit("chartOnClick",e)},getTableSelection:function(e){this.$emit("selection-change",e)},getchildFormData:function(){var e=this;return Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function t(){var i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i={},i[e.widget.model]=[],"remote_table"==e.widget.type){t.next=6;break}return e.$EventBus.$emit("getchildFormData",!1),t.abrupt("return");case 6:o=0;case 7:if(!(o<e.widget.options.formList.length)){t.next=16;break}return console.log(e.$refs["proform"+o]),t.next=11,e.$refs["proform"+o][0].getData();case 11:a=t.sent,i[e.widget.model].push(a);case 13:o++,t.next=7;break;case 16:e.$EventBus.$emit("getchildFormData",i),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),e.$EventBus.$emit("getchildFormData",!1);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()}},mounted:function(){window.addEventListener("getchildFormData",this.getchildFormData),this.$nextTick(Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))},created:function(){var e=this;return Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("office"!=e.widget.type){t.next=3;break}return t.next=3,e.getCompanyTree(e.widget.options.companyId);case 3:return t.next=5,e.initData();case 5:if(e.copyOption=e.widget.options.options,e.visible=!1,!"radio,select,checkbox,cascader".includes(e.widget.type)||"dict"!==e.widget.options.remote||!e.widget.options.dictType){t.next=14;break}return t.next=10,_plugins_dictUtils__WEBPACK_IMPORTED_MODULE_24__["a"].getDictList(e.widget.options.dictType);case 10:e.widget.options.remoteOptions=t.sent,e.visible=!0,t.next=20;break;case 14:if("custom"!==e.widget.options.remote||!e.widget.options.remoteFunc){t.next=19;break}return t.next=17,_kr_components_form_designer_utils_remoteFuncs__WEBPACK_IMPORTED_MODULE_27__[e.widget.options.remoteFunc](function(){var t=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function t(i){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=function(e){var t,i=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__["a"])(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.children&&a.children.length>0?o(a.children):delete a.children}}catch(n){i.e(n)}finally{i.f()}},t.next=3,o(i);case 3:return t.next=5,i;case 5:return e.widget.options.remoteOptions=t.sent,t.next=8,e.widget.options.remoteOptions;case 8:e.copyOption=t.sent,e.visible=!0;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 17:t.next=20;break;case 19:"custom"===e.widget.options.remote&&(e.visible=!0);case 20:case"end":return t.stop()}}),t)})))()},computed:Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_28__["c"])({user:function(e){return e.user.user}})),{},{remoteRules:function(){if(this.widget.options.source.rules&&this.widget.options.source.rules.length>0){var e,t=[],i=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__["a"])(this.widget.options.source.rules);try{for(i.s();!(e=i.n()).done;){var o=e.value,a={};a.field=o.field,a.control=[{value:o.value,way:o.way,rule:{operator:o.remoteAction,field:o.remoteField}}],t.push(a)}}catch(n){i.e(n)}finally{i.f()}return t}return[]},getRules:function getRules(){var _this5=this,arr=this.widget.rules||[];return arr&&arr.forEach((function(element){if(element.pattern)try{element.pattern=eval(_this5.widget.options.pattern)}catch(error){}})),arr},tableVisibleList:function(){var e=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__["a"])({},this.widget.options.visibleList),{},{btnAdd:!1,btnAddOnColumnHeader:this.widget.options.visibleList.btnAdd});return e},fileVisibleList:function(){var e={};return(this.readOnly||this.widget.options.readonly)&&(e.upload=!1,e.btnEdit=!1,e.btnDel=!1),e},optionsList:function(){return"dict"===this.widget.options.remote?_plugins_dictUtils__WEBPACK_IMPORTED_MODULE_24__["a"].getDictList(this.widget.options.dictType):"custom"==this.widget.options.remote?this.widget.options.remoteOptions:"string"===typeof this.widget.options.options?JSON.parse(this.widget.options.options):this.widget.options.options},label:function(){return"text".includes(this.widget.type)?"":this.widget.name},pickerOptions:function(){var e=this.widget.options.range;return null!=e&&""!==e?{disabledDate:function(t){return"smaller"===e?t.getTime()>=Date.now():"greater"!==e||t.getTime()<=Date.now()-864e5}}:{}},labelWidth:function(){var e=this.widget,t=e.type,i=e.labelWidth,o="text,comment".includes(t)?"0px":i||void 0;return o&&(o=o.toString(),o.includes("px")||(o+="px")),o},getTableParams:function(){var e=this.formTableConfig[this.widget.model];if(e){var t=e.tableParams;if(t)return t}var i={},o=this.widget.options.tableParams;if(o){var a,n=o.split("|"),s=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__["a"])(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l){var r=l.split(","),d=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["a"])(r,2),_=d[0],c=d[1];Object(_kr_components_form_designer_utils_utils__WEBPACK_IMPORTED_MODULE_19__["b"])(c)?i[_]=c:i[_]=this.models[c]}}}catch(u){s.e(u)}finally{s.f()}}return i},getTablePrefill:function(){if(this.formTableConfig[this.widget.model]&&this.formTableConfig[this.widget.model].prefill)return this.formTableConfig[this.widget.model].prefill;var e={},t=this.widget.options.prefill;if(t&&""!==t){var i,o=t.split("|"),a=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__["a"])(o);try{for(a.s();!(i=a.n()).done;){var n=i.value;if(n){var s=n.split(","),l=Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["a"])(s,2),r=l[0],d=l[1];Object(_kr_components_form_designer_utils_utils__WEBPACK_IMPORTED_MODULE_19__["b"])(d)?e[r]=d:e[r]=this.models[d]}}}catch(_){a.e(_)}finally{a.f()}}return e},_$listeners:function(){var e=this,t={};return Object.keys(this.$listeners).forEach((function(i){i.includes(e.widget.model)&&(t[i.split(":")[1]]=e.$listeners[i])})),t},getOfficeLabel:function(){var e=this,t=this.models[this.widget.model],i=[],o=function o(a){for(var n=0;n<a.length;n++)Array.isArray(t)?(-1!==t.indexOf(a[n].nodeIds)&&i.push(a[n][e.treeProps.label]),a[n][e.treeProps.children]&&a[n][e.treeProps.children].length&&o(a[n][e.treeProps.children])):a[n].nodeIds===t?i.push(a[n][e.treeProps.label]):a[n][e.treeProps.children]&&a[n][e.treeProps.children].length&&o(a[n][e.treeProps.children])};return o(this.officeData),i.join(",")},getSelectLabel:function(){var e=[],t=[],i=this.models[this.widget.model];return e="dict"===this.widget.options.remote?_plugins_dictUtils__WEBPACK_IMPORTED_MODULE_24__["a"].getDictList(this.widget.options.dictType).map((function(e){return{value:e.code,label:e.value}})):"custom"==this.widget.options.remote?this.widget.options.remoteOptions:"string"===typeof this.widget.options.options?JSON.parse(this.widget.options.options):this.widget.options.options,Array.isArray(i)?e.map((function(e){i.includes(e.value)&&t.push(e.label)})):e.map((function(e){i==e.value&&t.push(e.label)})),t.join(",")},getRadioLabel:function(){var e=this,t=this.models[this.widget.model],i="";return this.optionsList.map((function(o){o.value==t&&(i=e.widget.options.showLabel?o.label:o.value)})),i},getCheckboxLabel:function(){var e=this,t=this.models[this.widget.model],i=[];return this.optionsList.map((function(o){t.includes(o.value)&&(e.widget.options.showLabel?i.push(o.label):i.push(o.value))})),i}}),watch:{getTableParams:{deep:!0,handler:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.$refs.table.tableReload()}},models:{immediate:!0,handler:function(e){var t=this;return Object(_Users_changlin_Library_Containers_com_tencent_xinWeChat_Data_Library_Application_Support_com_tencent_xinWeChat_2_0b4_0_9_c1d7d306fc3858d1ccba7a272eba2fda_Message_MessageTemp_d9aa6ab2bad5fa57480172b6b4dbb5da_OpenData_6_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("remote_table"!=t.widget.type||"add"==t.method||!t.models[t.widget.model]){e.next=8;break}return e.next=3,_api_modules_table__WEBPACK_IMPORTED_MODULE_26__["a"].detailMore({formId:t.widget.options.formId,dataId:t.models[t.widget.model].split(",")});case 3:i=e.sent,o=i.data,t.widget.options.formList=o.data,e.next=9;break;case 8:t.widget.options.formList=[];case 9:case"end":return e.stop()}}),e)})))()}}}}},"9fcf":function(e,t,i){"use strict";var o=i("7bc1");t["a"]={list:function(e){return o["a"].post("/data/page",e)},detail:function(e){return o["a"].get("/data/select",e)},delete:function(e){return o["a"].delete("/data/delete",e)},add:function(e){return o["a"].post("/data/create",e)},save:function(e){return o["a"].post("/data/update",e)},uploadTemplate:function(e){return o["a"].postBlob("/data/template",e)},exportData:function(e){return o["a"].postBlob("/data/export",e)},detailMore:function(e){return o["a"].get("/data/find",e)}}},a5de:function(e,t,i){"use strict";i("0407")},acb7:function(e,t,i){"use strict";i("4614")},b378:function(e,t,i){"use strict";i("1951")},c892:function(e,t,i){},ca5e:function(e,t,i){"use strict";i("2dfe")},d48d:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-form-wrapper"},[i("el-form",{ref:"proForm",staticClass:"form",class:{pad:"pad"===e.deviceMode,mobile:"mobile"===e.deviceMode},attrs:{model:e.models,"label-position":e.data&&e.data.config&&e.data.config.labelPosition,"label-width":e.data&&e.data.config&&e.data.config.labelWidth?e.data.config.labelWidth+"px":"140px",size:e.data&&e.data.config&&e.data.config.size}},[e._l(e.data&&e.data.list||[],(function(t,o){return[i("ProLayout",e._g({key:o,attrs:{models:e.models,data:e.data,item:t,readOnly:e.readOnly,onlyLabel:e.onlyLabel,rules:e.rules,remote:e.remote,formTableConfig:e.formTableConfig,method:e.method},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},e.$listeners))]}))],2)],1)},a=[],n=i("53ca"),s=i("5530"),l=i("b85c"),r=(i("159b"),i("4de4"),i("a9e3"),i("caad"),i("2532"),i("b0c0"),i("b64b"),i("d3b7"),i("25f0"),i("ac1f"),i("1276"),i("5319"),i("4dd6")),d=i("5a0c"),_=i.n(d),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"grid"==e.item.type?i("div",[i("el-row",{key:e.item.key,attrs:{type:"flex",gutter:e.item.options.gutter?e.item.options.gutter:0,justify:e.item.options.justify,align:e.item.options.align}},e._l(e.item.columns,(function(t,o){return i("el-col",{key:o,attrs:{span:t.span}},[e._l(t.list,(function(t){return[t.type.includes("grid")||t.type.includes("tabs")?i("ProLayout",e._g({key:t.key,attrs:{item:t,readOnly:e.readOnly,models:e.models,rules:e.rules,remote:e.remote,formTableConfig:e.formTableConfig},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},e.$listeners)):t.hidden?e._e():i("ProFormItem",e._g({key:t.key,attrs:{models:e.models,remote:e.remote,widget:t,readOnly:e.readOnly,onlyLabel:e.onlyLabel,formTableConfig:e.formTableConfig},on:{"selection-change":function(i){return e.getTableSelection(i,t)},btnOnClick:e.btnOnClick,chartOnClick:e.chartOnClick},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},e.$listeners))]}))],2)})),1)],1):"grid-table"===e.item.type?i("div",[i("table",{key:e.item.key,staticClass:"grid-table",staticStyle:{width:"100%",border:"solid"},style:{"border-width":e.item.options.borderWidth.toString()+"px",borderColor:e.item.options.borderColor}},e._l(e.item.rows,(function(t,o){return i("tr",{key:o},e._l(t.columns,(function(t,o){return i("td",{key:o,staticClass:"grid-table-td",style:{"border-width":e.item.options.borderWidth.toString()+"px",borderColor:e.item.options.borderColor,width:t.options.width,height:t.options.height,display:t.list.every((function(e){return e.hidden}))?"none":""},attrs:{colspan:t.options.colspan||1,rowspan:t.options.rowspan||1,valign:"middle",align:"left"},on:{click:function(i){return i.stopPropagation(),e.clickTdAutoFocus(i,t)}}},[e._l(t.list,(function(o){return[o.type.includes("grid")||t.type.includes("tabs")?i("ProLayout",{key:o.key,attrs:{item:o,readOnly:e.readOnly,models:e.models,rules:e.rules,remote:e.remote,formTableConfig:e.formTableConfig},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)}):o.hidden?e._e():i("ProFormItem",e._g({key:o.key,attrs:{models:e.models,remote:e.remote,method:e.method,widget:o,readOnly:e.readOnly,onlyLabel:e.onlyLabel,formTableConfig:e.formTableConfig},on:{"selection-change":function(t){return e.getTableSelection(t,o)},btnOnClick:e.btnOnClick,chartOnClick:e.chartOnClick},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},e.$listeners))]}))],2)})),0)})),0)]):"tabs"===e.item.type?i("div",[i("Tabs",e._g({attrs:{widget:e.item,models:e.models,remote:e.remote,readOnly:e.readOnly,formTableConfig:e.formTableConfig},on:{"selection-change":e.getTableSelection,chartOnClick:e.chartOnClick,btnOnClick:e.btnOnClick},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},e.$listeners))],1):i("div",[e.item.hidden?e._e():i("ProFormItem",e._g({key:e.item.key,attrs:{models:e.models,remote:e.remote,widget:e.item,readOnly:e.readOnly,onlyLabel:e.onlyLabel,method:e.method,formTableConfig:e.formTableConfig},on:{"selection-change":function(t){return e.getTableSelection(t,e.item)},chartOnClick:e.chartOnClick,btnOnClick:e.btnOnClick},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},e.$listeners))],1)},u=[],p=i("3835"),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tabs",{staticClass:"tabs",staticStyle:{width:"100%"},attrs:{"tab-position":e.widget.options.position,type:e.widget.options.type},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.widget.items,(function(t){return i("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name,lazy:""}},[e._l(t.list,(function(t,o){return[i("ProLayout",e._g(e._b({key:o,attrs:{item:t},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,{model:i.model,widget:i.widget})]}}}))],null,!0)},"ProLayout",e.$attrs,!1),e.$listeners))]}))],2)})),1)},h=[],b={components:{ProLayout:D},props:{widget:{type:Object,default:function(){return{}}}},data:function(){return{activeName:this.widget.items[0].name}}},f=b,g=i("2877"),w=Object(g["a"])(f,m,h,!1,null,"4c5ba46e",null),y=w.exports,O=i("7a19"),v={name:"ProLayout",components:{Tabs:y,ProFormItem:O["default"]},props:{item:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},models:{type:Object,default:function(){return{}}},readOnly:{type:Boolean,default:!1},rules:{type:Array,default:function(){return[]}},remote:{type:Object,default:function(){return{}}},formTableConfig:{type:Object,default:function(){return{}}},method:{type:String,default:""},onlyLabel:{type:Boolean,default:!1}},methods:{getTableSelection:function(e,t){var i={};i[t.model]=e,this.$emit("table-selections",i)},btnOnClick:function(e){this.$emit("btn-on-click",{event:e,model:this.models})},chartOnClick:function(e){this.$emit("chart-on-click",{chart:e,model:this.value})},clickTdAutoFocus:function(e,t){if(t.list.length>0){var i=e.target,o=Object(p["a"])(t.list,1),a=o[0];if("TD"===i.tagName)switch(a.type){case"input":i.getElementsByTagName("INPUT")[0].focus();break;case"select":i.getElementsByTagName("INPUT")[0].focus();break;case"textarea":i.getElementsByTagName("TEXTAREA")[0].focus();break;default:return!1}return!1}return!1}}},E=v,L=(i("ca5e"),Object(g["a"])(E,c,u,!1,null,"d82bb620",null)),D=L.exports,x={components:{ProLayout:D},name:"ProForm",props:{data:{type:Object,default:function(){return{config:{},list:[]}}},value:{type:Object,default:function(){return{}}},entity:{type:Object,default:function(){return{}}},readOnly:{type:Boolean,default:!1},rules:{type:Array,default:function(){return[]}},remote:{type:Object,default:function(){return{}}},formTableConfig:{type:Object,default:function(){return{}}},deviceMode:{type:String,default:"pc"},method:{type:String,default:""},onlyLabel:{type:Boolean,default:!1}},data:function(){return{models:{},fieldMap:{},linkEffect:{}}},methods:{controlFieldHandler:function(){var e=this;this.rules.forEach((function(t){var i=String(e.models[t.field]);if(i){var o=t.control.filter((function(e){switch(e.way){case"=":return i==e.value;case">":return!(!Number(i)||!Number(e.value))&&Number(i)>Number(e.value);case"<":return!(!Number(i)||!Number(e.value))&&Number(i)<Number(e.value);case">=":return!(!Number(i)||!Number(e.value))&&Number(i)>=Number(e.value);case"<=":return!(!Number(i)||!Number(e.value))&&Number(i)<=Number(e.value);case"contains":return i.includes(e.value);case"!=":return i!=e.value}}));if(o.length>0){var a,n=[],s=Object(l["a"])(o);try{for(s.s();!(a=s.n()).done;){var r=a.value;n.push(r.rule)}}catch(d){s.e(d)}finally{s.f()}n.length>0&&(e.linkEffect[t.field]=[],n.forEach((function(i){var o=e.fieldMap[i.field];if(o){switch(i.operator){case"show":e.$set(o,"hidden",!1),e.models[i.field]&&0!==e.models[i.field].length||!i.value||(Array.isArray(e.models[i.field])?e.models[i.field].push(i.value):e.models[i.field]=i.value);break;case"hidden":e.$set(o,"hidden",!0);break;case"required":e.setRequired(o);break;case"unrequired":e.setUnRequired(o);break;default:break}e.linkEffect[t.field].push(i)}})))}}}))},setRequired:function(e){e.options.required||(e.options.required=!0,e.rules.push({message:"".concat(e.name,"必须填写"),required:!0}))},resetComponent:function(e){var t=this;e.forEach((function(e){var i=t.fieldMap[e.field];if(i)switch(e.operator){case"show":t.$set(i,"hidden",!0);break;case"hidden":t.$set(i,"hidden",!1),t.models[e.field]=e.value?e.value:null;break;case"required":t.setUnRequired(i);break;case"unrequired":t.setRequired(i);break;default:break}}))},setUnRequired:function(e){e.options.required=!1,e.rules=e.rules.filter((function(e){return!e.required}))},generateModel:function(e){for(var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=0;o<e.length;o+=1)if("grid"===e[o].type)e[o].columns.forEach((function(e){t.generateModel(e.list)}));else if("grid-table"===e[o].type)e[o].rows.forEach((function(e){t.generateModel(e.columns)}));else if("td"===e[o].type)this.generateModel(e[o].list);else if("form"===e[o].type)this.generateModel(e[o].tableColumns,!1);else{var a=e[o];Object.keys(this.value).indexOf(a.model)>=0&&r["e"].includes(a.type)?this.initFormValue(a):r["e"].includes(a.type)&&i&&this.setDefaultValue(a),this.$set(this.fieldMap,a.model,a)}this.models=Object(s["a"])(Object(s["a"])({},this.value),this.models)},filterFormData:function(){var e=Object(s["a"])({},this.models);return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].toString())})),e},initFormValue:function(e){e.options.multiple||"cascader,checkbox".includes(e.type)||e.options.type&&e.options.type.includes("range")?null!=this.value[e.model]&&""!==this.value[e.model]?this.models[e.model]=this.value[e.model].split(","):this.models[e.model]=[]:null==this.value[e.model]||""===this.value[e.model]?this.setDefaultValue(e):this.models[e.model]=this.value[e.model]},setDefaultValue:function(e){if("date"===e.type||"time"===e.type)if(e.options.defaultValue){var t=e.options.format;t&&(console.log(t),this.models[e.model]=_()().format("time"===e.type?t:t.toUpperCase()))}else this.models[e.model]=null;else{var i=e.options.defaultValue;"string"===typeof i&&i.includes("$")?i=this.$store.getters[i.replace("$","")]:""===i&&(i=null),this.models[e.model]=i}},getData:function(e){var t=this;return new Promise((function(i,o){t.$refs.proForm.validate((function(a,n){a?i(e?JSON.parse(JSON.stringify(t.models)):t.filterFormData()):(setTimeout((function(){var e=document.getElementsByClassName("is-error");e[0].querySelector("input")?e[0].querySelector("input").focus():e[0].querySelector("textarea")&&e[0].querySelector("textarea").focus()}),100),o(n))}))}))},resetForm:function(){this.models={},this.$refs.proForm.resetFields()},validate:function(){var e=this;return new Promise((function(t,i){e.$refs.proForm.validate((function(e,o){e?t():i(o)}))}))},getDataWithoutValidate:function(e){var t=this;return new Promise((function(i){return i(e?JSON.parse(JSON.stringify(t.models)):t.filterFormData())}))},setFieldValue:function(e,t){var i=this;"object"===Object(n["a"])(e)?Object.keys(e).forEach((function(t){i.$set(i.models,t,e[t])})):this.$set(this.models,e,t)},getFieldValue:function(e){return this.models[e]},setFormValue:function(e){this.$refs.proForm&&this.$refs.proForm.clearValidate(),this.models=JSON.parse(JSON.stringify(e))},_changeFieldStatus:function(e,t,i){var o,a=this;o=t?"string"===typeof t?[t]:t:Object.keys(this.fieldMap),o.forEach((function(t){switch(i){case"hidden":a.$set(a.fieldMap[t],"hidden",e);break;case"disabled":a.$set(a.fieldMap[t].options,"disabled",e);break;default:console.error("设置失败")}}))},disabled:function(e,t){this._changeFieldStatus(e,t,"disabled")},hidden:function(e,t){this._changeFieldStatus(e,t,"hidden")}},watch:{value:{deep:!0,immediate:!0,handler:function(e){e.id&&(this.$refs.proForm&&this.$refs.proForm.clearValidate(),this.models=Object(s["a"])(Object(s["a"])({},this.models),e))}},models:{deep:!0,handler:function(e){this.rules.length>0&&(this.controlFieldHandler(e),this.$refs.proForm&&this.$refs.proForm.clearValidate()),this.$emit("update:entity",e)}},data:{immediate:!0,handler:function(e){this.data&&this.data.list&&this.generateModel(this.data.list)}}}},k=x,M=Object(g["a"])(k,o,a,!1,null,null,null);t["default"]=M.exports},d4ec:function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",(function(){return o}))},efee:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4e82"),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_5__),_kr_components_form_designer_utils_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("fcf5"),echarts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("313e");__webpack_exports__["a"]={props:{className:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"300px"},data:{type:Array,default:function(){return[]}},title:{type:String,default:"饼图"},option:{type:Object,default:null},hollow:{type:Boolean,default:!1}},data:function(){return{chart:null}},computed:{legand:function(){var e=[];return this.data.forEach((function(t){e.push(t.name)})),e},chartOption:function chartOption(){var defaultOption={color:["#82C7E4","#A1AFFB","#7190FF","#163abe"],title:{text:"总数".concat(eval(this.data.map((function(e){return e.value})).join("+"))||0),top:"10%",left:"50%",textAlign:"center",textStyle:{fontSize:16,color:"#fff"}},tooltip:{textStyle:{fontSize:18},trigger:"item",formatter:"{a}{b} : {c}人 ({d}%)"},visualMap:{show:!1,min:0,max:Math.max.apply(null,this.data.map((function(e){return e.value}))),inRange:{colorLightness:[1.1,.2]}},legend:{type:"scroll",icon:"circle",orient:"vertical",show:!1,itemWidth:10,itemHeight:10,right:0,top:40,bottom:20,textStyle:{fontSize:16,color:"#fff"},data:this.legand,formatter:function(e){return 6===e.length?"".concat(e.substring(0,4),"\n").concat(e.substring(4,6)):e.length>5?"".concat(e.substring(0,4),"\n").concat(e.substring(4,6),"..."):e}},series:[{name:"",type:"pie",center:["50%","50%"],data:this.data.map((function(e){return e})).sort((function(e,t){return e.value-t.value})),label:{color:"#fff",position:"outer",alignTo:"labelLine",bleedMargin:15,normal:{textStyle:{fontWeight:"normal",color:"#fff"},show:!0,formatter:"{a}{b}"}},labelLine:{normal:{show:!0}},itemStyle:{color:"#91e7ff",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(){return 200*Math.random()}}]};return this.hollow&&(defaultOption.series[0].radius=["46%","66%"]),defaultOption.series[0].center=["50%","50%"],defaultOption.series[0].label.normal.textStyle.color="#000",defaultOption.series[0].label.normal.formatter="{a}{b}\n占比:{d}%",defaultOption.series[0].itemStyle={},defaultOption.title.top="center",defaultOption.title.right="38.5%",defaultOption.title.textStyle.color="#000",defaultOption.visualMap.inRange={},defaultOption}},mounted:function(){var e=this;this.resizeHanlder=function(){e.chart&&e.chart.resize()},window.addEventListener("resize",Object(_kr_components_form_designer_utils_utils__WEBPACK_IMPORTED_MODULE_6__["a"])(this.resizeHanlder)),this.initChart()},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.resizeHanlder),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var e=this;this.chart=echarts__WEBPACK_IMPORTED_MODULE_7__["b"](this.$refs.chart),this.chart.setOption(this.chartOption,!0),this.chart.off("click"),this.chart.on("click",(function(t){e.$emit("click",t)})),this.chart.resize()}},watch:{data:{deep:!0,immediate:!0,handler:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},chartOption:{deep:!0,handler:function(){var e=this;this.$nextTick((function(){e.initChart()}))}}}}},f05f:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return f})),i.d(t,"d",(function(){return E})),i.d(t,"e",(function(){return P})),i.d(t,"c",(function(){return U}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-upload",{staticClass:"avatar-uploader",class:{"is-disabled":e.readOnly},style:{width:e.widget.options.width,height:e.widget.options.width},attrs:{accept:".png,.jpg,.jpeg",headers:e.headers,action:e.action,data:e.data,disabled:e.readOnly,"before-upload":e.beforeUpload,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.value?i("img",{staticClass:"avatar",staticStyle:{"object-fit":"cover"},attrs:{src:e.imageUrl}}):i("div",{staticClass:"uploader-container"},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])},a=[],n={name:"AvatarUpload",model:{prop:"value",event:"change"},data:function(){return{hasImage:!1,data:{pid:0,source:"file"}}},props:{value:{type:String,default:""},widget:{type:Object,default:function(){return{options:{width:""}}}},readOnly:{type:Boolean,default:!1}},created:function(){},computed:{imageUrl:function(){return i("0ac7")},action:function(){return this.$BASE_URL+this.widget.options.uploadUrl},headers:function(){return{token:this.$store.state.user.user.token}}},methods:{handleAvatarSuccess:function(e){this.value=e.data.id,this.hasImage=!0,this.$emit("change",e.data.id)},beforeUpload:function(){return!this.readOnly}}},s=n,l=(i("acb7"),i("2877")),r=Object(l["a"])(s,o,a,!1,null,"d78cece6",null),d=r.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"card",attrs:{shadow:"hover","body-style":{height:e.height,width:"100%",padding:0}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(e.title))])]),i("div",{ref:"native-echarts-wrap",staticClass:"native-echarts-wrap",class:e.className,style:{height:"100%",width:"100%",padding:"20px"},on:{mouseover:function(t){return t.stopPropagation(),e.clearLoop.apply(null,arguments)},mouseout:function(t){return t.stopPropagation(),e.startLoop.apply(null,arguments)}}},[i("div",{ref:"native-echarts",staticClass:"native-echarts"})])])},c=[],u=(i("a9e3"),i("d81d"),i("159b"),i("b64b"),i("fcf5")),p=i("313e"),m={name:"Echarts",props:{option:{type:Object,required:!1,default:function(){return{}}},className:{type:String},height:{type:String,default:"300px"},title:{type:String,default:""},map:{type:Object,default:null},loop:{type:Boolean,default:!1},wait:{type:Number,default:1e4}},data:function(){return{chart:null,resizeTimer:null,loopTimer:[]}},computed:{eDom:function(){return this.$refs["native-echarts"]}},mounted:function(){var e=this;this.initEcharts(),this.resizeHanlder=function(){e.chart&&e.chart.resize()},window.addEventListener("resize",Object(u["a"])(this.resizeHanlder))},methods:{initEcharts:function(){this.map&&p["c"](this.map.type,this.map.json),this.chart=p["b"](this.eDom),this.initEvent(),this.setOption()},initLoopFn:function(){var e=this,t=setInterval((function(){e.chart.clear(),e.setOption(!0)}),this.wait);this.loopTimer.push(t)},clearLoop:function(){this.loopTimer.forEach((function(e){window.clearInterval(e)})),this.loopTimer=[]},startLoop:function(){var e=this,t=setTimeout((function(){e.initLoopFn()}));this.loopTimer.push(t)},initEvent:function(){var e=this;Object.keys(this.$listeners).forEach((function(t){e.chart.on(t,e.$listeners[t])}))},setOption:function(){var e=this;this.chart&&(this.chart.setOption(this.option,!0),this.chart.on("click",(function(t){e.$emit("click",t)})),this.chart.resize())}},watch:{option:{deep:!0,handler:function(){this.setOption(!0)}},loop:function(e){e?this.initLoopFn():this.clearLoop()}},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.resizeHanlder),this.chart.dispose(),this.chart=null,this.loop&&this.clearLoop())}},h=m,b=(i("02b8"),Object(l["a"])(h,_,c,!1,null,"0fd20df7",null)),f=b.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"card",attrs:{shadow:"hover","body-style":{height:e.height,width:e.width,padding:0}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(e.title))])]),i("div",{ref:"chart",class:e.className,style:{height:"100%",width:e.width,padding:"20px"}})])},w=[],y=(i("b0c0"),i("99af"),{props:{className:{type:String},yAxisMax:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"300px"},type:{type:String,default:"bar"},data:{type:Array,default:function(){return[]}},title:{type:String,default:""},option:{type:Object,default:function(){}},rotate:{type:Boolean,default:!1},xUnit:{type:String,default:""},yUnit:{type:String,default:"个"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.resizeHanlder=function(){e.chart&&e.chart.resize()},window.addEventListener("resize",Object(u["a"])(this.resizeHanlder))},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.resizeHanlder),this.chart.dispose(),this.chart=null)},computed:{xData:function(){var e=this,t=[];return this.data.forEach((function(i){t.push(i.name+e.xUnit)})),t},chartOption:function(){var e={color:["#7190FF"],tooltip:{textStyle:{fontSize:18},trigger:"axis",formatter:"{b}：{c} ".concat(this.yUnit)},dataZoom:[{type:"inside",show:!0,start:0,endValue:this.xData.length>6?5:this.xData.length,xAxisIndex:[0],zoomLock:!0}],title:{left:"50%",top:"0",textAlign:"center",textStyle:{fontSize:16,color:"#000"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.xData,axisLine:{lineStyle:{color:"#2a343f"}},axisLabel:{interval:0,textStyle:{color:"#000"},formatter:function(e){return 6===e.length?"".concat(e.substring(0,4),"\n").concat(e.substring(4,6)):e.length>5?"".concat(e.substring(0,4),"\n").concat(e.substring(4,6),"..."):e}},splitLine:{lineStyle:{color:"#2a343f"}}}],yAxis:[{type:"value",name:this.yUnit,max:this.yAxisMax,minInterval:1,textStyle:{color:"#000"},axisLine:{lineStyle:{color:"#2a343f"}},axisLabel:{color:"#000",textStyle:{color:"#000"}},splitLine:{lineStyle:{color:"#2a343f"}}}],series:[{barWidth:30,name:this.yUnit,type:this.type,data:this.data.map((function(e){return e.value})),itemStyle:{normal:{lineStyle:{color:"#66e0ef"},label:{show:!0,color:"#fff"}}}}]};if(e.series[0].itemStyle.normal.lineStyle.color="#0B8A82",e.grid={top:"8%",left:"3%",right:"4%",bottom:"8%",containLabel:!0},"bar"===this.type&&(e.tooltip.axisPointer={type:"shadow"}),this.rotate){var t=[e.yAxis,e.xAxis];e.xAxis=t[0],e.yAxis=t[1],e.yAxis[0].data=e.yAxis[0].data.reverse(),e.series[0].data=e.series[0].data.reverse(),e.xAxis[0].position="top",e.dataZoom[0]={type:"inside",show:!0,startValue:4,endValue:7,yAxisIndex:[0],zoomLock:!0},e.series[0].barWidth=null}return e}},methods:{initChart:function(){var e=this;this.$refs.chart&&(this.chart=p["b"](this.$refs.chart),this.chart.setOption(this.chartOption,!0),this.chart.off("click"),this.chart.on("click",(function(t){e.$emit("click",t)})),this.chart.resize())}},watch:{data:{deep:!0,immediate:!0,handler:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},chartOption:{handler:function(){var e=this;this.$nextTick((function(){e.initChart()}))}}}}),O=y,v=(i("1fe7"),Object(l["a"])(O,g,w,!1,null,"66ccac2a",null)),E=v.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"card",attrs:{shadow:"hover","body-style":{height:e.height,width:e.width,padding:0}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(e.title))])]),i("div",{ref:"chart",class:e.className,style:{height:"100%",width:e.width,padding:"20px"}})])},D=[],x=i("efee"),k=x["a"],M=(i("66c6"),Object(l["a"])(k,L,D,!1,null,"43a8a5f4",null)),P=M.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[e.readOnly?e._e():i("el-upload",{ref:"upload",attrs:{action:e.$BASE_URL+e.uploadUrl,data:e.uploadParams,accept:e.accept,headers:{token:e.$store.state.user.user.token},"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,multiple:""},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传附件",placement:"bottom"}},[i("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",loading:e.btnSaveIsLoading,type:"primary"}},[e._v("上传附件")])],1)],1),i("el-table",{attrs:{data:e.fileList,size:"mini"}},[i("el-table-column",{attrs:{label:"文件名",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"avtiveName",on:{click:function(i){return e.preview(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e.readOnly?e._e():i("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-download",size:"mini"},on:{click:function(i){return e.download(t.row)}}},[e._v("下载")]),i("el-button",{staticStyle:{color:"red"},attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return e.del(t.row)}}},[e._v("删除")])]}}],null,!1,1478837536)})],1)],1)},T=[],j=i("5530"),A=(i("c740"),i("a434"),i("4568"),{components:{},data:function(){return{API_URL:this.API_URL,btnSaveIsLoading:!1,fileList:[]}},props:{value:{type:String,default:""},fullHeight:{type:Boolean,default:!1},listField:{type:String,default:"data.list"},accept:{type:String,default:".doc,.docx,.xls,.xlsx,.PDF,.pdf"},showPagination:{type:Boolean,default:!1},resourceid:{type:String,default:""},myTask:{type:Object,default:null},visibleList:{type:Object,default:function(){return{}}},tableTitle:{type:String,default:""},uploadUrl:{type:String,default:"/source/upload"},tableName:{type:String,default:"file"},paginationLayout:{type:String,default:"sizes,total,prev, pager, next"},isMultiple:{type:Boolean,default:!1},fileType:{type:String,default:""},readOnly:{type:Boolean,default:!1}},computed:{view:function(){return Object(j["a"])({btnAdd:!1,btnDel:!0,btnEdit:!1,upload:!0,list:!0,tableTitle:!1},this.visibleList)},tableParams:function(){var e={};return this.resourceid&&(e.resourceid=this.resourceid),this.fileType&&(e.type=this.fileType),e},uploadParams:function(){var e=this.resourceid,t=this.fileType,i={userid:this.$store.getters.userid};return e&&(i.resourceid=e),t&&(i.filetype=t),i.pid=0,i.source="file",i}},mounted:function(){this.value?this.fileList=JSON.parse(this.value):this.fileList=[]},methods:{beforeUpload:function(){return this.btnSaveIsLoading=!0,this.$message({type:"info",message:"文件上传中……"}),!0},uploadSuccess:function(e){var t=e.code;0!=t?this.$message({type:"error",message:"上传失败"}):(this.$message({type:"success",message:"上传成功"}),this.fileList.push(e.data),this.$emit("uploadSuccess",this.fileList)),this.btnSaveIsLoading=!1},preview:function(e){var t="http://130.0.1.1:33400/source/download?id="+e.id+"&fullfilename="+e.name;this.previewUrl=this.$FILE_URL+"/onlinePreview?url="+encodeURIComponent(t),window.open(this.previewUrl)},del:function(e){var t=this.fileList.findIndex((function(t){return t.id==e.id}));this.fileList.splice(t,1),this.$emit("uploadSuccess",this.fileList)},download:function(e){var t=this.$BASE_URL+"/source/download?id="+e.id,i=document.createElement("a"),o=new MouseEvent("click");i.download=e.name,i.href=t,i.dispatchEvent(o)},getSelection:function(e){this.$emit("selection",e)}},watch:{value:function(e){this.fileList=e?JSON.parse(e):[]}}}),S=A,W=(i("a5de"),i("0d28"),Object(l["a"])(S,C,T,!1,null,"2e46f2c6",null)),U=W.exports;i("4649")},f6df:function(e,t,i){},fcf5:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return a}));i("b85c"),i("fb6a"),i("4568");function o(e){var t=/[^\u4e00-\u9fa5]/;return!t.test(e)}function a(e,t){var i=null;return function(){clearTimeout(i),i=setTimeout((function(){e(t)}),300)}}}}]);