(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd57118e"],{6395:function(t,e,i){"use strict";i("c502")},"85b6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload",style:{"--drag-width":t.dragOption.width||"360px","--drag-height":t.dragOption.height||"220px"}},["picture-card"===t.$attrs["list-type"]?i("el-upload",t._b({ref:"upload",attrs:{"on-change":t.uploadImgsChange,"on-success":t.uploadSuccess,headers:{token:t.$store.state.user.user.token}},scopedSlots:t._u([{key:"file",fn:function(e){var a=e.file;return i("div",{},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handlePictureCardPreview(a)}}},[i("i",{staticClass:"el-icon-zoom-in"})]),t.imgEditEnable&&t.isView?i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){return t.handleEditImg(a)}}},[i("i",{staticClass:"el-icon-edit-outline"})]):t._e(),t.isView?i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){return t.handleRemove(a)}}},[i("i",{staticClass:"el-icon-delete"})]):t._e()])])}}],null,!1,863019275)},"el-upload",t.$attrs,!1),[i("i",{staticClass:"el-icon-plus"})]):i("el-upload",t._b({ref:"upload",attrs:{headers:{token:t.$store.state.user.user.token}},on:{"on-success":t.uploadImgsSuccess}},"el-upload",t.$attrs,!1),[t.$attrs.drag?i("div",{staticClass:"drag-tooltip"},[i("i",{staticClass:"el-icon-upload drag-tooltip-icon"}),i("div",{staticClass:"drag-tooltip-text"},[t._v(" 将文件拖到此处，或 "),i("em",[t._v("点击上传")])]),t.tooltip?i("div",{staticClass:"tooltip-text"},[t._v("支持扩展名："+t._s(t.tooltip))]):t._e()]):t._e(),i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),!t.$attrs.drag&&t.tooltip?i("div",{staticClass:"tooltip-text",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.tooltip))]):t._e()],1),i("el-dialog",{attrs:{title:"图片预览",visible:t.dialogVisible,top:"3vh","append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})]),i("el-dialog",{attrs:{title:"图片剪裁",visible:t.ImgCutterData.visible,"append-to-body":!0},on:{"update:visible":function(e){return t.$set(t.ImgCutterData,"visible",e)}}},[t.ImgCutterData.visible?i("img-cutter",t._b({ref:"ImgCutter",attrs:{showChooseBtn:!1,isModal:!1},on:{loaded:t.imgCutterLoaded,cutDown:t.imgCutDown,onClearAll:function(e){t.ImgCutterData.visible=!1},changeAllreadyCut:t.changeAllreadyCut}},"img-cutter",t.imgCutOption,!1)):t._e()],1)],1)},s=[],l=(i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),function(){return i.e("ImgCutter").then(i.bind(null,"447d"))}),o={name:"kr-upload",components:{ImgCutter:l},props:{tooltip:String,isView:{type:Boolean,default:!0},uploadType:{type:String,default:"file"},dragOption:{type:Object,default:function(){return{width:"360px",height:"220px"}}},imgCutOption:{type:Object,default:function(){return{boxHeight:400,boxWidth:800,originalGraph:!1,rate:null}}},imgEditEnable:{type:Boolean,default:!1}},data:function(){return{isAlreadyCut:!1,dialogImageUrl:"",dialogVisible:!1,ImgCutterData:{loadImgCutter:!1,visible:!1,file:null},uid:""}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{changeAllreadyCut:function(t){this.isAlreadyCut=t},uploadSuccess:function(t,e,i){this.loading=!1},uploadImgsChange:function(t,e){!0!==this.$attrs.multiple&&(this.$refs.upload._data.uploadFiles=[t]),this.isAlreadyCut||this.uid===t.uid||(this.ImgCutterData.visible=!0,this.ImgCutterData.file=t),this.uid=t.uid},handleRemove:function(t){this.$attrs["on-remove"](t,this.$refs.upload._data.uploadFiles),this.$emit("remove")},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleEditImg:function(t){t.name||(t.name="无名称.png"),this.ImgCutterData.file=t,this.ImgCutterData.visible=!0},imgCutterLoaded:function(){console.log(),this.$refs.ImgCutter.handleOpen(this.ImgCutterData.file)},imgCutDown:function(t){this.ImgCutterData.file.raw=t.file,this.ImgCutterData.file.raw.uid=this.ImgCutterData.file.uid,this.ImgCutterData.file.url=t.dataURL,this.ImgCutterData.file.size=t.file.size,this.ImgCutterData.file.status="ready",this.ImgCutterData.visible=!1,!1!==this.$attrs["auto-upload"]&&this.$refs.upload.submit(),this.$emit("cutDown",this.ImgCutterData.file)}}},n=o,r=(i("6395"),i("2877")),u=Object(r["a"])(n,a,s,!1,null,"b560955c",null);e["a"]=u.exports},"92e9":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fileUpload-example"},[i("div",{staticClass:"left-side"},[i("div",{staticClass:"card"},[t._m(0),i("div",{staticClass:"component"},[i("kr-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!0,multiple:!0,"file-list":t.fileList,accept:".png,.jpg,.gif",tooltip:"只能上传jpg/png/gif 文件，且不超过500kb"}})],1)]),i("div",{staticClass:"card"},[t._m(1),i("div",{staticClass:"component"},[i("kr-upload",{attrs:{"http-request":t.httpRequest,action:"#","auto-upload":!0,multiple:!0,accept:".png,.jpg,.gif","file-list":t.fileList,tooltip:"只能上传jpg/png/gif 文件，且不超过500kb"}})],1)]),i("div",{staticClass:"card"},[t._m(2),i("div",{staticClass:"component"},[i("kr-upload",{attrs:{"http-request":t.httpRequest,action:"#","auto-upload":!0,accept:".png,.jpg,.gif","file-list":[t.fileList[0]],"list-type":"picture-card","on-remove":t.handleImgRemove,imgEditEnable:!0,imgCutOption:t.imgCutOption}})],1)]),i("div",{staticClass:"card"},[t._m(3),i("div",{staticClass:"component"},[i("kr-upload",{ref:"imgUploadBatch",attrs:{"http-request":t.httpRequest,action:t.$BASE_URL+"/source/upload","auto-upload":!1,multiple:!0,accept:".png,.jpg,.gif","file-list":t.fileList,"list-type":"picture-card","on-remove":t.handleImgRemove,imgEditEnable:!0,imgCutOption:t.imgCutOption}}),i("el-button",{staticStyle:{"margin-top":"8px"},attrs:{size:"small",type:"primary"},on:{click:t.printBatchImgRes}},[t._v("打印批量图片的上传结果 ")])],1)])]),i("div",{staticClass:"right-side"},[i("div",{staticClass:"card"},[t._m(4),i("div",{staticClass:"component"},[i("kr-upload",{attrs:{dragOption:{width:"100%",height:"500px"},"http-request":t.httpRequest,action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!0,multiple:!0,accept:".png,.jpg,.gif","file-list":t.fileList,drag:!0,tooltip:"只能上传jpg/png/gif 文件，且不超过500kb"}})],1)])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"title"},[i("span",{staticClass:"border-left"}),t._v("普通文件上传")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"title"},[i("span",{staticClass:"border-left"}),t._v("普通文件上传(自定义上传方法) ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"title"},[i("span",{staticClass:"border-left"}),t._v("单张图片上传")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"title"},[i("span",{staticClass:"border-left"}),t._v("图片批量上传")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"title"},[i("span",{staticClass:"border-left"}),t._v("拖拽上传")])}],l=(i("c740"),i("a434"),i("85b6")),o={name:"fileUpload-example",components:{krUpload:l["a"]},props:{},data:function(){return{imgCutOption:{boxWidth:920,boxHeight:520,originalGraph:!1,rate:"4:3"},fileList:[]}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{customUpload:function(t){var e=new FormData;e.append("file",t.file),this.$axios({url:"http://192.168.1.5:8889/upload",method:"post",data:e,onUploadProgress:function(e){var i=e.loaded/e.total*100|0;t.onProgress({percent:i})}}).then((function(e){t.onSuccess()}))},httpRequest:function(t){setTimeout((function(){t.onProgress({percent:25})}),1e3),setTimeout((function(){t.onProgress({percent:65})}),2e3),setTimeout((function(){t.onProgress({percent:100})}),3e3),setTimeout((function(){t.onSuccess()}),4e3)},handleImgRemove:function(t,e){var i=e.findIndex((function(e){return e.uid===t.uid}));i>=0&&e.splice(i,1)},printBatchImgRes:function(){var t=this.$refs.imgUploadBatch.$refs.upload._data.uploadFiles;console.log(t)}}},n=o,r=(i("c411"),i("2877")),u=Object(r["a"])(n,a,s,!1,null,"681ae82e",null);e["default"]=u.exports},c411:function(t,e,i){"use strict";i("d675")},c502:function(t,e,i){},d675:function(t,e,i){}}]);