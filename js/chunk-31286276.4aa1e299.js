(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31286276","chunk-1c01c9c8"],{"165c":function(e,t,i){"use strict";i("33df")},"1e7b":function(e,t,i){},"33df":function(e,t,i){},"3d40":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filters-container"},[i("div",{staticStyle:{"margin-bottom":"20px"}},[i("el-radio-group",{on:{change:e.search},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-radio-button",{attrs:{label:"登录日志"}}),i("el-radio-button",{attrs:{label:"操作日志"}}),i("el-radio-button",{attrs:{label:"错误日志"}})],1)],1),i("KrSearch",{attrs:{searchProps:e.searchProps},on:{search:e.search}}),i("div",{staticClass:"table-box"},[i("kr-table",{ref:"table",attrs:{columns:e.getColums,rows:e.tableData,fetchFunc:e.getList,searchParams:e.searchParams}})],1),i("detail",{ref:"refInfo"})],1)},l=[],a=(i("159b"),i("4de4"),i("7bc1")),n={list:function(e){return a["a"].post("/sysLog/list",e)}},o=i("4143"),r={name:"filter-container",props:{},components:{detail:o["default"]},computed:{getList:function(){return n.list},searchParams:function(){var e={};return this.searchProps.forEach((function(t){e[t.field]=t.value})),e.type="登录日志"==this.activeName?"1":"操作日志"==this.activeName?"2":"3",e},getColums:function(){this.$createElement;var e=this,t=[{prop:"moduleName",label:"模块名称",ctype:0},{prop:"url",label:"请求URL",ctype:0},{ctype:1,prop:"method",label:"请求类型"},{prop:"username",label:"用户姓名",ctype:0},{prop:"ip",label:"ip",ctype:0},{prop:"spendTime",label:"耗时（毫秒）",ctype:0},{ctype:0,label:"日志类型",width:80,render:function(e,t,i){return"1"==t.type?e("span",["登录日志"]):"2"==t.type?e("span",["操作日志"]):e("span",["错误日志"])}},{prop:"createTime",label:"创建时间",sortable:"custom",ctype:0},{ctype:2,label:"操作",width:100,render:function(t,i,s){return t("div",[t("el-button",{on:{click:function(){return e.detail(i,s)}},attrs:{type:"text",icon:"el-icon-view"}},["查看详情"])])}}];return"登录日志"==this.activeName?t.filter((function(e){return 0==e.ctype})):"操作日志"==this.activeName?t.filter((function(e){return 0==e.ctype||1==e.ctype||2==e.ctype})):t.filter((function(e){return 0==e.ctype||2==e.ctype}))}},data:function(){var e=this;return{activeName:"登录日志",searchProps:[{isShow:!0,type:"input",field:"username",value:"",model:"请输入用户姓名"},{isShow:!0,type:"input",field:"moduleName",value:"",model:"请输入模块名称"}],loginForm:{keyWord:"",date:[]},oprateForm:{keyWord:"",date:[]},tableData:[],selection:[],pickerOptions1:{shortcuts:[{text:"最近一天",onClick:function(t){var i=new Date;t.$emit("pick",[e.$getTime.getYestoday(i),i])}},{text:"最近一周",onClick:function(t){var i=new Date;t.$emit("pick",[e.$getTime.getWeek(i),i])}},{text:"最近一个月",onClick:function(t){var i=new Date;t.$emit("pick",[e.$getTime.getLastMonthYestdy(i),i])}},{text:"最近三个月",onClick:function(t){var i=new Date;t.$emit("pick",[e.$getTime.getLastThreeMonthYestdy(i),i])}},{text:"最近一年",onClick:function(t){var i=new Date;t.$emit("pick",[e.$getTime.getLastYearYestdy(i),i])}}]}}},methods:{search:function(e){this.$refs.table.insidePage=1,this.$refs.table.init()},detail:function(e){this.$refs.refInfo.showInfo(e,this.activeName)}}},c=r,p=(i("dbe9"),i("2877")),m=Object(p["a"])(c,s,l,!1,null,"28b44900",null);t["default"]=m.exports},4143:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"日志详情",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"container"},[i("el-descriptions",{staticClass:"margin-top",attrs:{column:2,border:""}},[i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 根路径 ")]),e._v(" "+e._s(e.info.basePath)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 创建时间 ")]),e._v(" "+e._s(e.info.createTime)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 创建人ID ")]),e._v(" "+e._s(e.info.createUser)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 描述 ")]),e._v(" "+e._s(e.info.description)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 主键 ")]),e._v(" "+e._s(e.info.id)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 请求类型 ")]),e._v(" "+e._s(e.info.method)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 模块名称 ")]),e._v(" "+e._s(e.info.moduleName)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 请求参数 ")]),i("json-viewer",{attrs:{value:e.info.parameter,"expand-depth":3,copyable:""}})],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" IP地址 ")]),e._v(" "+e._s(e.info.ip)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 结果 ")]),"操作日志"==e.type?i("json-viewer",{attrs:{value:JSON.parse(e.info.result),"expand-depth":3,copyable:""}}):i("span",[e._v(e._s(e.info.result))])],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 操作消耗时间 ")]),e._v(" "+e._s(e.info.spendTime)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 操作时间 ")]),e._v(" "+e._s(e.info.startTime)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 请求结果 ")]),e._v(" "+e._s(0==e.info.success?"成功":"失败")+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 日志类型 ")]),e._v(" "+e._s(1==e.info.type?"登录日志":2==e.info.type?"操作日志":"异常日志")+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 最后修改时间 ")]),e._v(" "+e._s(e.info.updateTime)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 最后修改人ID ")]),e._v(" "+e._s(e.info.updateUser)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 请求URI ")]),e._v(" "+e._s(e.info.uri)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 请求URL ")]),e._v(" "+e._s(e.info.url)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 用户id ")]),e._v(" "+e._s(e.info.userId)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[e._v(" 用户姓名 ")]),e._v(" "+e._s(e.info.username)+" ")],2)],1)],1)])},l=[],a=i("2b0e"),n=i("349e"),o=i.n(n);a["default"].use(o.a);var r={data:function(){return{dialogVisible:!1,info:{},type:""}},methods:{showInfo:function(e,t){this.type=t,this.dialogVisible=!0,this.info=e}}},c=r,p=(i("165c"),i("2877")),m=Object(p["a"])(c,s,l,!1,null,"1d26dbb2",null);t["default"]=m.exports},dbe9:function(e,t,i){"use strict";i("1e7b")}}]);