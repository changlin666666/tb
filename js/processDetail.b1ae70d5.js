(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["processDetail"],{"6c42":function(t,n,e){},"83bb":function(t,n,e){"use strict";e.d(n,"I",(function(){return o})),e.d(n,"w",(function(){return i})),e.d(n,"l",(function(){return s})),e.d(n,"o",(function(){return u})),e.d(n,"K",(function(){return a})),e.d(n,"F",(function(){return c})),e.d(n,"g",(function(){return f})),e.d(n,"p",(function(){return d})),e.d(n,"L",(function(){return l})),e.d(n,"f",(function(){return p})),e.d(n,"G",(function(){return m})),e.d(n,"z",(function(){return g})),e.d(n,"A",(function(){return w})),e.d(n,"r",(function(){return b})),e.d(n,"B",(function(){return y})),e.d(n,"J",(function(){return h})),e.d(n,"b",(function(){return v})),e.d(n,"y",(function(){return x})),e.d(n,"t",(function(){return k})),e.d(n,"N",(function(){return D})),e.d(n,"D",(function(){return C})),e.d(n,"i",(function(){return F})),e.d(n,"n",(function(){return O})),e.d(n,"u",(function(){return E})),e.d(n,"c",(function(){return j})),e.d(n,"j",(function(){return K})),e.d(n,"O",(function(){return L})),e.d(n,"q",(function(){return R})),e.d(n,"a",(function(){return S})),e.d(n,"h",(function(){return P})),e.d(n,"M",(function(){return _})),e.d(n,"e",(function(){return I})),e.d(n,"Q",(function(){return A})),e.d(n,"m",(function(){return B})),e.d(n,"C",(function(){return M})),e.d(n,"x",(function(){return N})),e.d(n,"d",(function(){return U})),e.d(n,"P",(function(){return J})),e.d(n,"k",(function(){return q})),e.d(n,"v",(function(){return $})),e.d(n,"s",(function(){return H})),e.d(n,"E",(function(){return T})),e.d(n,"H",(function(){return V}));var r=e("7bc1"),o=function(t){return r["a"].post("/processDefinition/model/save",t)},i=function(t){return r["a"].post("/processDefinition/model/list",t)},s=function(t){return r["a"].post("/processDefinition/model/delete",t,!0)},u=function(t){return r["a"].post("/processDefinition/deploy",t,!0)},a=function(t){return r["a"].post("/instance/start",t)},c=function(t){return r["a"].post("/task/todo/list",t)},f=function(t){return r["a"].post("/task/complete",t)},d=function(t){return r["a"].post("/task/end/task",t)},l=function(t){return r["a"].post("/task/turnTask",t)},p=function(t){return r["a"].post("/task/back/task",t)},m=function(t){return r["a"].post("/copy/insert",t)},g=function(t){return r["a"].post("/history/process/mys",t)},w=function(t){return r["a"].get("/task/get/nodeList",t)},b=function(t){return r["a"].post("/history/current/list",t)},y=function(t){return r["a"].get("/workflow/setting/list/processDefinitionId",t)},h=function(t){return r["a"].post("/workflow/setting/saveAll",t)},v=function(t){return r["a"].post("/workflow/draft/add",t)},x=function(t){return r["a"].get("/workflow/draft/list",t)},k=function(t){return r["a"].get("/workflow/draft/id?id="+t)},D=function(t){return r["a"].post("/workflow/draft/update",t)},C=function(t){return r["a"].post("/processDefinition/deployment",t)},F=function(t){return r["a"].post("/workflow/draft/delete",t,!0)},O=function(t){return r["a"].post("/instance/delete/processInstance/id",t,!0)},E=function(t){return r["a"].get("/actExtensionCondition",t)},j=function(t){return r["a"].post("/actExtensionCondition/add",t)},K=function(t){return r["a"].post("/actExtensionCondition/delete",t,!0)},L=function(t){return r["a"].post("/actExtensionCondition/update",t)},R=function(t){return r["a"].get("/actExtensionButton/list",t)},S=function(t){return r["a"].post("/actExtensionButton",t)},P=function(t){return r["a"].post("/actExtensionButton/delete",t,!0)},_=function(t){return r["a"].post("/actExtensionButton/update",t)},I=function(t){return r["a"].post("/actExtensionCategory/add",t)},A=function(t){return r["a"].post("/actExtensionCategory/update",t)},B=function(t){return r["a"].post("/actExtensionCategory/delete",t,!0)},M=function(t){return r["a"].get("/actExtensionCategory/list",t)},N=function(t){return r["a"].get("/listener/list",t)},U=function(t){return r["a"].post("/listener/add",t)},J=function(t){return r["a"].post("/listener/update",t)},q=function(t){return r["a"].post("/listener/delete",t,!0)},$=function(t){return r["a"].get("/history/get/instance/id",t)},H=function(t){return r["a"].post("/copy/list",t)},T=function(t){return r["a"].post("/history/all/user",t)},V=function(t){return r["a"].post("/processDefinition/suspend/id",t,!0)}},a775:function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"task-container"},[e("KrPanel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"common-shadow",attrs:{title:"【"+t.$route.query.name+"】內容"}},[e("ProForm",{ref:"form",attrs:{data:t.formData,rules:t.remoteRules,value:t.process.dataMap,readOnly:!0,onlyLabel:!0}})],1),e("KrPanel",{staticClass:"common-shadow",staticStyle:{"margin-top":"20px"},attrs:{title:"审核信息"}},[e("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{"label-width":"140px",model:t.ruleForm}},[e("el-form-item",{attrs:{label:"标题",prop:"title"}},[e("div",[t._v(t._s(t.ruleForm.title))])]),e("el-form-item",{attrs:{label:"抄送"}},[e("KrUserSelect",{staticStyle:{width:"400px"},attrs:{readonly:!0},model:{value:t.cc,callback:function(n){t.cc=n},expression:"cc"}})],1),e("el-form-item",{attrs:{label:"审批意见"}},[e("div",[t._v(t._s(t.ruleForm.comment))])])],1)],1)],1)},o=[],i=e("1da1"),s=e("b85c"),u=e("5530"),a=(e("96cf"),e("d81d"),e("83bb")),c=e("4152"),f=e("2f62"),d=e("d48d"),l={components:{ProForm:d["default"]},name:"processDetail",data:function(){return{ruleForm:{isNextHandler:!1,nextAssigne:"",comment:"",title:""},type:"",id:"",cc:[],formData:{},initData:{},formSetList:[],processDefinitionKey:"",process:{},loading:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(f["c"])({user:function(t){return t.user.user}})),{},{remoteRules:function(){if(this.formData.rules&&this.formData.rules.length>0){var t,n=[],e=Object(s["a"])(this.formData.rules);try{for(e.s();!(t=e.n()).done;){var r=t.value,o={};o.field=r.field,o.control=[{value:r.value,way:r.way,rule:{operator:r.remoteAction,field:r.remoteField}}],n.push(o)}}catch(i){e.e(i)}finally{e.f()}return n}return[]}}),created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.id=t.$route.query.id,t.loading=!0,n.next=4,t.getProcess();case 4:return t.ruleForm.title=t.process.processVariables.title,t.process.copyUser&&t.process.copyUser.length&&(e=[],t.process.copyUser&&t.process.copyUser.map((function(t){e.push(t.id)})),t.cc=e),n.next=8,t.getProcessFormSetList();case 8:t.formSetList.map((function(n){n.taskDefKey===t.process.processVariables.FLOW_DATA_KEY.firstNodeId&&t.getFormConfig(n.formKey)})),t.loading=!1;case 10:case"end":return n.stop()}}),n)})))()},methods:{getFormConfig:function(t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n.formData={},e.abrupt("return");case 3:return e.next=5,Object(c["b"])({id:t});case 5:r=e.sent,o=r.data,0===o.code&&(i=JSON.parse(o.data.structContent),n.formData=i);case 8:case"end":return e.stop()}}),e)})))()},getProcessFormSetList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.formSetList=[],n.next=3,Object(a["B"])({processDefinitionKey:t.process.definitionKey});case 3:e=n.sent,r=e.data,0===r.code&&(t.formSetList=r.data);case 6:case"end":return n.stop()}}),n)})))()},getProcess:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var e,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(a["v"])({processInstanceId:t.id});case 2:e=n.sent,r=e.data,0===r.code&&(o=r.data,o.length?(t.process=o[o.length-1],t.process.dataMap=t.process.dataMap?t.process.dataMap:{},t.process.comments&&t.process.comments.map((function(n){n.taskId===t.process.id&&(t.ruleForm.comment=n.message)}))):t.process={dataMap:{}});case 5:case"end":return n.stop()}}),n)})))()}}},p=l,m=(e("beb3"),e("2877")),g=Object(m["a"])(p,r,o,!1,null,"08dfcac3",null);n["default"]=g.exports},beb3:function(t,n,e){"use strict";e("6c42")}}]);