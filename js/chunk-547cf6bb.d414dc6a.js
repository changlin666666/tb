(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-547cf6bb"],{"31d6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return u}));var i=n("5530"),a={template:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",subdomains:"1234"},o={template:"http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]},l={contextmenu:!0,contextmenuWidth:140,contextmenuItems:[{text:"删除标记1",callback:function(e){e.relatedTarget.remove()}},{text:"取消"},{text:"获取标记",callback:function(e){console.log(e)}}]},s={autoClose:!1,closeOnClick:!1},c={color:"#F00",fillColor:"#F00",fillOpacity:.2},r=Object(i["a"])(Object(i["a"])({},c),l),f=Object(i["a"])({draggable:!0},l),u={color:"#2767f1",fillColor:"#2767f1",fillOpacity:.2,dashArray:"5, 10"}},"5ba7":function(e,t,n){"use strict";n("6d37")},"6d37":function(e,t,n){},"6fb1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var i=n("d4ec"),a=n("bee2"),o=(n("ac1f"),n("1276"),n("498a"),n("d81d"),n("a9e3"),n("5319"),function(){function e(t){var n=this;if(Object(i["a"])(this,e),this.invert=0,this.brightness=100,this.contrast=100,this.grayscale=0,this["hue-rotate"]=0,this.opacity=100,this.saturate=100,this.sepia=0,t){var a=t.trim().split(" ");a.map((function(e){var t=Number(e.split("(")[1].replace(/%|deg|\)/g,"")),i=e.split("(")[0];n[i]=t}))}}return Object(a["a"])(e,[{key:"getStyleString",value:function(){var e=this.invert,t=this.brightness,n=this.contrast,i=this.grayscale,a=this.opacity,o=this.saturate,l=this.sepia,s="";return e&&(s+="invert(".concat(e>100?100:e,"%) ")),100!==t&&(s+="brightness(".concat(t,"%) ")),100!==n&&(s+="contrast(".concat(n,"%) ")),i&&(s+="grayscale(".concat(i>100?100:i,"%) ")),this["hue-rotate"]%360!==0&&(s+="hue-rotate(".concat(this["hue-rotate"]%360,"deg) ")),a<100&&(s+="opacity(".concat(a,"%) ")),o<100&&(s+="saturate(".concat(o,"%) ")),l&&(s+="sepia(".concat(l>100?100:l,"%) ")),s.trim()}}]),e}()),l=[{key:"brightness",name:"明暗度",tooltip:"调整地图明暗度",suffix:"%",max:100,default:100},{key:"contrast",name:"对比度",tooltip:"调整图像的对比度",suffix:"%",max:100,default:100},{key:"grayscale",name:"灰度",tooltip:"将图像转换为灰度图像",suffix:"%",max:100,default:0},{key:"hue-rotate",name:"色相旋转",tooltip:"给图像应用色相旋转",suffix:"deg",max:360,default:0},{key:"invert",name:"反转颜色",tooltip:"设置地图颜色反转",suffix:"%",max:100,default:0},{key:"opacity",name:"透明度",tooltip:"转化图像的透明程度",suffix:"deg",max:100,default:100},{key:"saturate",name:"饱和度",tooltip:"转换图像饱和度",suffix:"%",max:100,default:100},{key:"sepia",name:"褐度",tooltip:"将图像转换为深褐色",suffix:"%",max:100,default:0}],s=function e(t){Object(i["a"])(this,e),this.baseConfigs=[{name:"放大、缩小",toolKey:"scale"},{name:"全屏",toolKey:"fullscreem"},{name:"指北针",toolKey:"north-arrow"}],this.searchConfigs=[{name:"城市切换",toolKey:"cityChange"},{name:"地址搜索",toolKey:"poiSearch"}],this.lngLatConfigs=[{name:"显示经/纬度",toolKey:"showLngLat"}],this.spacialFnConfigs=[{name:"测距",toolKey:"meaureDistance"},{name:"测面积",toolKey:"measureArea"},{name:"图标标记",toolKey:"draw-marker"},{name:"文本标记",toolKey:"draw-text"},{name:"折线标记",toolKey:"draw-polyline"},{name:"矩形标记",toolKey:"draw-rectangle"},{name:"圆形标记",toolKey:"draw-circle"},{name:"多边形标记",toolKey:"draw-polygon"}],this.form={baseConfig:t&&t.baseConfig||[],searchConfig:t&&t.searchConfig||[],lngLatConfig:t&&t.lngLatConfig||[],spacialFnConfig:t&&t.functionConfig||[]}}},bee2:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}))},ca6d:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-for-develope"},[n("div",{staticClass:"filerOptions"},[n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"样式配置",name:"styleConfig"}},[n("p",{staticClass:"line form-title"},[e._v("地图样式选择")]),n("el-checkbox-group",{model:{value:e.mapStyle.origins,callback:function(t){e.$set(e.mapStyle,"origins",t)},expression:"mapStyle.origins"}},e._l(e.originTiles,(function(t,i){return n("p",{key:i,staticClass:"line custom-filter"},[n("el-checkbox",{attrs:{label:t.name}},[e._v(e._s(t.name))]),n("el-tooltip",{attrs:{effect:"dark",content:"预览",placement:"right"}},[n("i",{staticClass:"el-icon-view",staticStyle:{"font-size":"1em",cursor:"pointer","line-height":"1em","margin-left":"8px"},on:{click:function(n){e.filterConfig=new e.DEFAULT_FILTER,e.changeMapTile(t)}}})])],1)})),0),n("el-checkbox-group",{model:{value:e.mapStyle.filters,callback:function(t){e.$set(e.mapStyle,"filters",t)},expression:"mapStyle.filters"}},e._l(e.diyFilterTemplates,(function(t,i){return n("p",{key:i,staticClass:"line custom-filter"},[n("el-checkbox",{attrs:{label:t.name}},[e._v(e._s(t.name)+" ")]),n("el-tooltip",{attrs:{effect:"dark",content:"预览",placement:"right"}},[n("i",{staticClass:"el-icon-view",staticStyle:{"font-size":"1em",cursor:"pointer","line-height":"1em","margin-left":"8px"},on:{click:function(n){e.filterConfig=new e.DEFAULT_FILTER(t.filter)}}})])],1)})),0),n("p",{staticClass:"line border-line"}),n("p",{staticClass:"line form-title"},[e._v("自定义地图配置")]),e._l(e.MAP_CONFIG_CONDITIONS,(function(t){return n("div",{key:t.key,staticClass:"config"},[n("p",{staticClass:"config-label"},[e._v(" "+e._s(t.name)+"("+e._s(t.suffix)+") "),n("el-tooltip",{attrs:{effect:"dark",content:t.tooltip,placement:"right"}},[n("i",{staticClass:"el-icon-question"})])],1),n("div",{staticClass:"slider-line"},[n("el-slider",{attrs:{"format-tooltip":function(e){return e},step:.01,min:0,max:e.filterConfig[t.key]>=t.max?e.filterConfig[t.key]+1:t.max},model:{value:e.filterConfig[t.key],callback:function(n){e.$set(e.filterConfig,t.key,n)},expression:"filterConfig[item.key]"}}),n("el-input-number",{staticClass:"input-number",attrs:{size:"small","controls-position":"right",precision:2,step:.01},model:{value:e.filterConfig[t.key],callback:function(n){e.$set(e.filterConfig,t.key,n)},expression:"filterConfig[item.key]"}}),n("el-tooltip",{attrs:{effect:"dark",content:"重置",placement:"right"}},[n("i",{staticClass:"el-icon-refresh",on:{click:function(n){e.filterConfig[t.key]=t.default}}})])],1)])})),n("div",{staticClass:"btns"},[n("el-button",[e._v("重置")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveTileFilter}},[e._v("确认保存")])],1)],2),n("el-tab-pane",{attrs:{label:"功能配置",name:"functionConfig"}},[n("p",{staticClass:"line form-title"},[e._v("基本功能")]),n("el-checkbox-group",{staticClass:"line",model:{value:e.functionConfig.form.baseConfig,callback:function(t){e.$set(e.functionConfig.form,"baseConfig",t)},expression:"functionConfig.form.baseConfig"}},e._l(e.functionConfig.baseConfigs,(function(t,i){return n("el-checkbox",{key:i,attrs:{label:t.toolKey}},[e._v(e._s(t.name))])})),1),n("p",{staticClass:"line form-title"},[e._v("搜索定位")]),n("el-checkbox-group",{staticClass:"line",model:{value:e.functionConfig.form.searchConfig,callback:function(t){e.$set(e.functionConfig.form,"searchConfig",t)},expression:"functionConfig.form.searchConfig"}},e._l(e.functionConfig.searchConfigs,(function(t,i){return n("el-checkbox",{key:i,attrs:{label:t.toolKey}},[e._v(e._s(t.name))])})),1),n("p",{staticClass:"line form-title"},[e._v("经纬度显示")]),n("el-checkbox-group",{staticClass:"line",model:{value:e.functionConfig.form.lngLatConfig,callback:function(t){e.$set(e.functionConfig.form,"lngLatConfig",t)},expression:"functionConfig.form.lngLatConfig"}},e._l(e.functionConfig.lngLatConfigs,(function(t,i){return n("el-checkbox",{key:i,attrs:{label:t.toolKey}},[e._v(e._s(t.name))])})),1),n("p",{staticClass:"line form-title"},[e._v("特殊功能")]),n("el-checkbox-group",{staticClass:"line",model:{value:e.functionConfig.form.spacialFnConfig,callback:function(t){e.$set(e.functionConfig.form,"spacialFnConfig",t)},expression:"functionConfig.form.spacialFnConfig"}},e._l(e.functionConfig.spacialFnConfigs,(function(t,i){return n("p",{key:i,staticClass:"line"},[n("el-checkbox",{attrs:{label:t.toolKey}},[e._v(e._s(t.name))])],1)})),0),n("p",{staticClass:"line form-title"},[e._v("手绘地图")])],1)],1)],1),n("kr-map",{ref:"krMap",staticClass:"mapbox",attrs:{mapId:"map12",defaultZoom:13,tileTemplate:e.tileTemplate,selectMapPlugin:e.selectedTools,selectedMapTiles:e.selectedMapTiles},on:{"shape-added":e.shapeAdded}})],1)},a=[],o=n("2909"),l=n("5530"),s=(n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("4de4"),n("caad"),n("2532"),n("b0c0"),n("31d6")),c=n("6fb1"),r=(window.L,function(){return n.e("kr-map").then(n.bind(null,"8aeb"))}),f={name:"map-for-develope",components:{krMap:r},mixins:[],props:{},data:function(){return{activeName:"functionConfig",tileTemplate:s["a"],originTiles:[Object(l["a"])(Object(l["a"])({},s["a"]),{},{name:"普通地图",type:"origin"}),Object(l["a"])(Object(l["a"])({},s["b"]),{},{name:"卫星地图",type:"origin"})],mapStyle:{origins:["普通地图","卫星地图"],filters:[]},MAP_CONFIG_CONDITIONS:c["c"],DEFAULT_FILTER:c["a"],filterConfig:new c["a"],diyFilterTemplates:[Object(l["a"])(Object(l["a"])({},s["a"]),{},{name:"暗黑地图",type:"filter",filter:"invert(100%) grayscale(100%)"}),Object(l["a"])(Object(l["a"])({},s["a"]),{},{name:"路况地图",type:"filter",filter:"hue-rotate(60deg)"})],functionConfig:new c["b"]({baseConfig:["fullscreem"],searchConfig:["cityChange","poiSearch"],functionConfig:["meaureDistance","measureArea","draw-marker","draw-text","draw-polyline","draw-rectangle","draw-circle","draw-polygon"]})}},computed:{selectedTools:function(){var e=this.functionConfig.form,t=e.baseConfig,n=e.searchConfig,i=e.lngLatConfig,a=e.spacialFnConfig;return[t,n,i].concat(Object(o["a"])(a))},selectedMapTiles:function(){var e=this.originTiles,t=this.diyFilterTemplates,n=this.mapStyle,i=n.origins,a=void 0===i?[]:i,o=n.filters,l=void 0===o?[]:o,s=e.filter((function(e){return a.includes(e.name)})),c=t.filter((function(e){return l.includes(e.name)}));return[].concat(s,c)}},watch:{filterConfig:{handler:function(e){window.tileFilter=e.getStyleString(),this.filterConfig.getStyleString()?this.$refs.krMap.resetMapTile(s["a"]):this.$refs.krMap.resetMapTile(this.tileTemplate)},deep:!0}},filter:{},created:function(){},mounted:function(){},methods:{changeMapTile:function(e){this.filterConfig=new c["a"],window.tileFilter="",this.tileTemplate=e||this.tileTemplate,this.$refs.krMap.resetMapTile(e)},saveTileFilter:function(){var e=this,t=this;this.$prompt("请输入自定义地图样式名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnPressEscape:!1,closeOnClickModal:!1,inputValidator:function(e){var n=t.diyFilterTemplates.some((function(t){return t.name===e}));if(n)return"已存在同名的自定义地图样式"}}).then((function(n){var i=n.value;t.diyFilterTemplates.push(Object(l["a"])(Object(l["a"])({},s["a"]),{},{filter:e.filterConfig.getStyleString(),type:"filter",name:i})),e.$message({type:"success",message:"保存成功！"})})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},shapeAdded:function(e){console.log(e)}}},u=f,m=(n("5ba7"),n("2877")),p=Object(m["a"])(u,i,a,!1,null,"1df0be06",null);t["default"]=p.exports},d4ec:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))}}]);