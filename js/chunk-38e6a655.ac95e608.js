(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38e6a655"],{2803:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{fullscreen:"",title:"执行历史",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"mainview"},[a("kr-table",{ref:"table",attrs:{columns:e.columns,rows:e.tableData,fetchFunc:e.getList,searchParams:e.searchParams},on:{"selection-change":e.handleSelectionChange}})],1)])},s=[],i=(a("ac1f"),a("5319"),a("4de4"),a("7dca")),r={computed:{getList:function(){return i["a"].history}},data:function(){this.$createElement;var e=this;return{dialogVisible:!1,tableData:[],selection:[],columns:[{prop:"scriptContent",label:"脚本内容"},{label:"执行开始时间",render:function(e,t,a){return e("span",[new Date(parseInt(t.startTime)).toLocaleString().replace(/:\d{1,2}$/," ")])}},{prop:"spendTime",label:"耗时"},{prop:"result",label:"结果"},{label:"是否成功",render:function(e,t,a){return e("span",[0==t.success?"成功":"失败"])}},{label:"任务类型",render:function(t,a,n){return t("span",[e.getTypeText(a.jobType)])}},{prop:"description",label:"描述"}],typeList:[{code:"0",value:"java方法"},{code:"1",value:"SQL脚本"},{code:"2",value:"SQL脚本文件"},{code:"3",value:"LINUX脚本"},{code:"4",value:"LINUX脚本文件"},{code:"5",value:"WINDOWS脚本"},{code:"6",value:"WINDOWS脚本文件"},{code:"7",value:"JS脚本"},{code:"8",value:"JS脚本文件"},{code:"9",value:"python脚本"},{code:"10",value:"python脚本文件"}],searchParams:{}}},methods:{showInfo:function(e){var t=this;this.searchParams={id:e.id},this.dialogVisible=!0,this.$nextTick((function(){t.$refs.table.init()}))},handleSelectionChange:function(e){this.selection=e},getTypeText:function(e){return this.typeList.filter((function(t){return t.code==e}))[0].value}}},o=r,c=(a("7ec2"),a("2877")),u=Object(c["a"])(o,n,s,!1,null,"34f87314",null);t["default"]=u.exports},"7dca":function(e,t,a){"use strict";var n=a("7bc1");t["a"]={list:function(e){return n["a"].post("/task/list",e)},add:function(e){return n["a"].post("/task/add",e)},edit:function(e){return n["a"].post("/task/edit",e)},delete:function(e){return n["a"].get("/task/delete",e)},stop:function(e){return n["a"].post("/task/stop?id="+e.id,e)},resume:function(e){return n["a"].post("/task/resume?id="+e.id,e)},startNow:function(e){return n["a"].post("/task/startNow?id="+e.id,e)},existsClass:function(e){return n["a"].get("/task/existsClass",e)},existsJobPath:function(e){return n["a"].get("/task/existsJobPath",e)},isOver:function(e){return n["a"].get("/task/get/variables",e)},history:function(e){return n["a"].get("/task/history",e)}}},"7ec2":function(e,t,a){"use strict";a("f2a3")},f2a3:function(e,t,a){}}]);