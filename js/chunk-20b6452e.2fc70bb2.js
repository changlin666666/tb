(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b6452e"],{6632:function(e,t,r){"use strict";r.d(t,"b",(function(){return a}));var n=r("7bc1"),a=function(e){return n["a"].post("/sys/role/list",e)},s=function(e){return n["a"].get("/sys/role/queryById",e)},i=function(e){return n["a"].post("/sys/role/saveRole",e)},o=function(e){return n["a"].post("/sys/role/delete",e)},l=function(e){return n["a"].get("/sys/role/useableList",e)},u=function(e){return n["a"].post("/sys/bind/queryBindRoles",e)};t["a"]={getRoleList:a,getRoleByID:s,saveRole:i,deleteRoleByID:o,useableList:l,userRoleList:u,use:function(e){return n["a"].get("/sys/role/enableRole",e)}}},d4ec:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},dffc2:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.visible,title:e.title,width:e.width},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[r("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.form,size:"medium",rules:e.rules,disabled:"view"===e.method},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[r("el-form-item",{attrs:{label:"角色名称：",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"排序",prop:"sort"}},[r("el-input-number",{attrs:{min:1,label:"排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),r("el-form-item",{attrs:{label:"状态：",prop:"useable"}},[r("el-radio-group",{model:{value:e.form.useable,callback:function(t){e.$set(e.form,"useable",t)},expression:"form.useable"}},[r("el-radio-button",{attrs:{label:"1"}},[e._v("正常")]),r("el-radio-button",{attrs:{label:"0"}},[e._v("停用")])],1)],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),r("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},a=[],s=r("1da1"),i=(r("96cf"),r("a9e3"),r("f477")),o=r("6632"),l=r("d4ec"),u=r("ade3"),c=function e(){Object(l["a"])(this,e),Object(u["a"])(this,"name",""),Object(u["a"])(this,"code",""),Object(u["a"])(this,"id",""),Object(u["a"])(this,"companyId",""),Object(u["a"])(this,"sort",10),Object(u["a"])(this,"type","2"),Object(u["a"])(this,"useable",1)},m={components:{},props:{width:{type:String,default:"50%"},companyId:{type:[Number,String],default:""}},watch:{},data:function(){return{visible:!1,method:"",form:new c,rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],type:[{required:!0,message:"类型不能为空",trigger:"blur"}]},id:"",title:"",dictUtils:i["a"],disabled:!1}},computed:{},methods:{init:function(e,t,r){var n=this;this.method=e,"add"===e?(this.form=new c,this.title="新建"):this.title="编辑",this.id=t,this.visible=!0,this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("edit"!==e&&"view"!==e){r.next=9;break}return r.next=3,o["a"].getRoleByID({roleId:t});case 3:if(a=r.sent,s=a.data,0==s.code){r.next=8;break}return n.$message.error("获取数据失败"),r.abrupt("return");case 8:n.form=s.data;case 9:case"end":return r.stop()}}),r)}))))},submit:function(){var e=this;try{this.$refs.form.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=14;break}return e.form.companyId=e.companyId,n=e.form,t.next=5,o["a"].saveRole(n);case 5:if(a=t.sent,s=a.data,0==s.code){t.next=9;break}return t.abrupt("return",e.$message.error(s.msg));case 9:e.$message.success(s.msg),e.$emit("update"),e.visible=!1,t.next=15;break;case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){this.$message.error(t)}}}},f=m,d=r("2877"),b=Object(d["a"])(f,n,a,!1,null,null,null);t["default"]=b.exports}}]);