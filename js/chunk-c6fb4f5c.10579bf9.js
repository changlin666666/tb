(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6fb4f5c"],{2108:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"content",attrs:{span:24}},[n("kr-table",{ref:"table",attrs:{columns:e.columns,fetchFunc:e.getTree,selection:!1,showPagination:!1,getTree:""},on:{getData:e.getData,"selection-change":e.handleSelectionChange}},[n("div",{attrs:{slot:"handleButtons"},slot:"handleButtons"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.add()}}},[e._v("新增")])],1)])],1),n("listForm",{ref:"listForm",attrs:{treeData:e.tableData},on:{update:function(t){return e.$refs.table.init()}}})],1)},i=[],a=n("1da1"),c=n("5530"),o=(n("96cf"),n("b20a")),s=n("038f"),u=n("2f62"),l={components:{listForm:o["default"]},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])({size:function(e){return e.config.defaultSize}})),{},{getTree:function(){return s["a"].getRightSubjectMenuTree}}),data:function(e){this.$createElement;return{columns:[{prop:"name",label:"名称"},{prop:"usable",sortable:!0,label:"是否启用",render:function(t,n){return t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",value:1==n.usable,disabled:"000/003/001"===n.nodeIds||"000/003/002"===n.nodeIds||"000/003/003"===n.nodeIds||"000/003/004"===n.nodeIds,size:e.size},on:{change:function(){return e.changeUse(n)}}})}},{prop:"sort",label:"排序",sortable:!0,align:"center"},{fixed:"right",align:"right",width:300,render:function(t,n,r){return t("div",[t("el-button",{attrs:{icon:" kr-tianxie krIconfont",size:e.size,type:"text"},on:{click:function(){return e.edit(n,r)}}},["编辑"]),t("el-button",{attrs:{icon:" krIconfont kr-icon_yulan",size:e.size,type:"text"},on:{click:function(){return e.view(n,r)}}},["查看"]),t("el-button",{attrs:{icon:" kr-shanchu krIconfont",size:e.size,type:"text"},on:{click:function(){return e.del(n,r)}},style:"color:red"},["删除"])])}}],tableData:[],selection:[]}},methods:{getData:function(e){this.tableData=e},changeSort:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},changeUse:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.usable=0==e.usable?"1":"0",delete e.children,n.next=4,s["a"].saveMenu(e);case 4:if(r=n.sent,i=r.data,0==i.code){n.next=8;break}return n.abrupt("return",t.$message.error(i.msg));case 8:t.$refs.table.init(),t.$message.success(i.msg);case 10:case"end":return n.stop()}}),n)})))()},allocate:function(e){this.$refs.AuthForm.init(e.id)},handleSelectionChange:function(e){this.selection=e},add:function(){this.$refs.listForm.init("add")},view:function(e){this.$refs.listForm.init("view",e.id,e)},edit:function(e){this.$refs.listForm.init("edit",e.id,e)},del:function(e){var t,n=this,r="";r=(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0?"该分类存在子分类，是否确认删除？":"确定要删除选择项？",this.$confirm(r,"提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"error"}).then(Object(a["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].delMenu({menuId:e.id});case 2:if(r=t.sent,i=r.data,0==i.code){t.next=6;break}return t.abrupt("return",n.$message.error(i.msg));case 6:n.$message.success(i.msg),n.$refs.table.init();case 8:case"end":return t.stop()}}),t)})))).catch((function(e){e.type}))}}},d=l,f=(n("8436"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"3321dc3c",null);t["default"]=h.exports},8436:function(e,t,n){"use strict";n("bd6c")},bd6c:function(e,t,n){}}]);