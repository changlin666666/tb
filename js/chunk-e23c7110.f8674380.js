(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e23c7110"],{"3da7":function(e,t,r){},5678:function(e,t,r){"use strict";r("3da7")},b87c:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,top:"3vh",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px",rules:e.rules}},[r("el-form-item",{attrs:{label:"服务状态查询名",prop:"appName"}},[r("el-input",{model:{value:e.form.appName,callback:function(t){e.$set(e.form,"appName",t)},expression:"form.appName"}})],1),r("el-form-item",{attrs:{label:"服务名",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"服务分组",prop:"group"}},[r("el-input",{model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1),r("el-form-item",{attrs:{label:"服务程序路径",prop:"jobPath"}},[r("el-input",{model:{value:e.form.jobPath,callback:function(t){e.$set(e.form,"jobPath",t)},expression:"form.jobPath"}})],1),r("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[r("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),r("el-form-item",{attrs:{label:"服务控制类型",prop:"scriptType"}},[r("el-select",{staticClass:"wid100",attrs:{placeholder:"请选择服务控制类型"},model:{value:e.form.scriptType,callback:function(t){e.$set(e.form,"scriptType",t)},expression:"form.scriptType"}},[r("el-option",{attrs:{label:"通过脚本文件控制",value:"0"}}),r("el-option",{attrs:{label:"通过命令控制",value:"1"}})],1)],1),"0"===e.form.scriptType?r("el-form-item",{attrs:{label:"控制脚本文件",prop:"scriptName"}},[r("el-input",{model:{value:e.form.scriptName,callback:function(t){e.$set(e.form,"scriptName",t)},expression:"form.scriptName"}})],1):e._e(),1==e.form.scriptType?r("el-form-item",{attrs:{label:"服务启动命令",prop:"scriptStart"}},[r("el-input",{model:{value:e.form.scriptStart,callback:function(t){e.$set(e.form,"scriptStart",t)},expression:"form.scriptStart"}})],1):e._e(),1==e.form.scriptType?r("el-form-item",{attrs:{label:"服务重启命令",prop:"scriptRestart"}},[r("el-input",{model:{value:e.form.scriptRestart,callback:function(t){e.$set(e.form,"scriptRestart",t)},expression:"form.scriptRestart"}})],1):e._e(),1==e.form.scriptType?r("el-form-item",{attrs:{label:"服务停止命令",prop:"scriptStop"}},[r("el-input",{model:{value:e.form.scriptStop,callback:function(t){e.$set(e.form,"scriptStop",t)},expression:"form.scriptStop"}})],1):e._e()],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.clickSub}},[e._v("确 定")])],1)],1)},s=[],a=r("1da1"),o=(r("96cf"),r("d6cce")),n={data:function(){return{form:{name:"",description:"",group:"",scriptType:"",jobPath:"",scriptName:"",scriptRestart:"",scriptStart:"",scriptStop:""},dialogVisible:!1,title:"",type:"",rules:{appName:[{required:!0,message:"请输入服务状态查询名",trigger:"blur"}],name:[{required:!0,message:"请输入服务名",trigger:"blur"}],scriptType:[{required:!0,message:"请选择服务控制类型",trigger:"change"}],group:[{required:!0,message:"请填写服务分组",trigger:"blur"}]}}},methods:{initForm:function(e,t){var r=this;this.type=e,this.title="add"==e?"新增":"编辑",this.dialogVisible=!0,this.$nextTick((function(){r.$refs.form.resetFields(),"add"!=e&&(r.form=JSON.parse(JSON.stringify(t)))}))},clickSub:function(){var e=this;try{this.$refs.form.validate((function(t){if(!t)return!1;var r=JSON.parse(JSON.stringify(e.form));"add"==e.type?e.postAdd(r):e.postEdit(r)}))}catch(t){this.$message.error(t)}},postAdd:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o["a"].add(e);case 2:if(i=r.sent,s=i.data,0==s.code){r.next=7;break}return t.$message.error(s.msg),r.abrupt("return");case 7:t.$message.success(s.data),t.$parent.$refs.table.init(),t.dialogVisible=!1;case 10:case"end":return r.stop()}}),r)})))()},postEdit:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o["a"].edit(e);case 2:if(i=r.sent,s=i.data,0==s.code){r.next=7;break}return t.$message.error(s.msg),r.abrupt("return");case 7:t.$message.success(s.data),t.$parent.$refs.table.init(),t.dialogVisible=!1;case 10:case"end":return r.stop()}}),r)})))()}}},c=n,l=(r("5678"),r("2877")),p=Object(l["a"])(c,i,s,!1,null,"5f5bbf93",null);t["default"]=p.exports},d6cce:function(e,t,r){"use strict";var i=r("7bc1");t["a"]={list:function(e){return i["a"].post("/service/list",e)},add:function(e){return i["a"].post("/service/add",e)},edit:function(e){return i["a"].post("/service/edit",e)},delete:function(e){return i["a"].get("/service/delete",e)},restart:function(e){return i["a"].get("/service/control/restart",e)},start:function(e){return i["a"].get("/service/control/start",e)},stop:function(e){return i["a"].get("/service/control/stop",e)},status:function(e){return i["a"].get("/service/status",e)},history:function(e){return i["a"].get("/service/control/history",e)},queryById:function(e){return i["a"].get("/service/queryById",e)}}}}]);