(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["kr-map"],{"0a6d":function(t,e,a){},"131f":function(t,e,a){"use strict";a("0a6d")},"31d6":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return d})),a.d(e,"h",(function(){return u}));var n=a("5530"),i={template:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",subdomains:"1234"},o={template:"http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",subdomains:["1","2","3","4"]},l={contextmenu:!0,contextmenuWidth:140,contextmenuItems:[{text:"删除标记1",callback:function(t){t.relatedTarget.remove()}},{text:"取消"},{text:"获取标记",callback:function(t){console.log(t)}}]},r={autoClose:!1,closeOnClick:!1},s={color:"#F00",fillColor:"#F00",fillOpacity:.2},c=Object(n["a"])(Object(n["a"])({},s),l),d=Object(n["a"])({draggable:!0},l),u={color:"#2767f1",fillColor:"#2767f1",fillOpacity:.2,dashArray:"5, 10"}},5088:function(t,e,a){"use strict";a("e212")},"8aeb":function(t,e,a){"use strict";a.r(e);var n,i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"container"+t.mapId}},[a("div",{staticClass:"map-header"},[t._t("header-left",(function(){return[a("div",{staticClass:"header-left"},[t.toolViewControl["cityChange"]?a("el-select",{attrs:{placeholder:"城市选择",size:"small"},model:{value:t.mapHeaderData.city,callback:function(e){t.$set(t.mapHeaderData,"city",e)},expression:"mapHeaderData.city"}}):t._e(),t.toolViewControl.poiSearch?a("el-autocomplete",{attrs:{size:"small","fetch-suggestions":t.remoteSearchAddr,debounce:300,"value-key":"infoAddress","popper-append-to-body":!1,placeholder:"请输入地址"},on:{select:t.selectSearchItem},model:{value:t.mapHeaderData.searchAddr,callback:function(e){t.$set(t.mapHeaderData,"searchAddr",e)},expression:"mapHeaderData.searchAddr"}}):t._e()],1)]})),t._t("header-center",(function(){return[a("div",{staticClass:"header-center"},[t.toolViewControl.showLngLat?a("p",{staticClass:"formitem"},[a("span",{staticClass:"label"},[t._v("经度")]),a("el-input-number",{attrs:{placeholder:"经度",controls:!1,size:"small",precision:9},model:{value:t.mapHeaderData.longitude,callback:function(e){t.$set(t.mapHeaderData,"longitude",e)},expression:"mapHeaderData.longitude"}})],1):t._e(),t.toolViewControl.showLngLat?a("p",{staticClass:"formitem"},[a("span",{staticClass:"label"},[t._v("纬度")]),a("el-input-number",{attrs:{placeholder:"纬度",size:"small",precision:9,controls:!1},model:{value:t.mapHeaderData.latitude,callback:function(e){t.$set(t.mapHeaderData,"latitude",e)},expression:"mapHeaderData.latitude"}})],1):t._e()])]})),t._t("header-right",(function(){return[a("div",{staticClass:"header-right"},[a("el-input",{attrs:{placeholder:"关键词",size:"small"},model:{value:t.mapHeaderData.keyword,callback:function(e){t.$set(t.mapHeaderData,"keyword",e)},expression:"mapHeaderData.keyword"}}),a("el-date-picker",{attrs:{type:"daterange",size:"small","start-placeholder":"开始日期","end-placeholder":"结束日期","unlink-panels":!0,"popper-class":"date-select-poper"},model:{value:t.mapHeaderData.daterange,callback:function(e){t.$set(t.mapHeaderData,"daterange",e)},expression:"mapHeaderData.daterange"}}),a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("查询")])],1)]}))],2),a("div",{staticClass:"map-inside-controler"},[t.toolViewControl.meaureDistance||t.toolViewControl.measureArea?a("el-dropdown",{on:{command:t.selectMapTool}},[a("div",{staticClass:"menu"},[a("i",{staticClass:"el-icon-rank"}),t._v("测量工具"),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.toolViewControl["meaureDistance"]?a("el-dropdown-item",{attrs:{command:"meaureDistance"}},[t._v(" 测距")]):t._e(),t.toolViewControl["measureArea"]?a("el-dropdown-item",{attrs:{command:"measureArea"}},[t._v("测面积")]):t._e()],1)],1):t._e(),a("el-dropdown",{on:{command:t.selectMapTool}},[a("div",{staticClass:"menu"},[a("i",{staticClass:"el-icon-add-location"}),t._v("标记"),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.toolViewControl["draw-marker"]?a("el-dropdown-item",{attrs:{command:"draw-marker"}},[t._v("标记")]):t._e(),t.toolViewControl["draw-text"]?a("el-dropdown-item",{attrs:{command:"draw-text"}},[t._v("文字")]):t._e(),t.toolViewControl["draw-polyline"]?a("el-dropdown-item",{attrs:{command:"draw-polyline"}},[t._v("折线")]):t._e(),t.toolViewControl["draw-rectangle"]?a("el-dropdown-item",{attrs:{command:"draw-rectangle"}},[t._v("矩形")]):t._e(),t.toolViewControl["draw-circle"]?a("el-dropdown-item",{attrs:{command:"draw-circle"}},[t._v("圆形")]):t._e(),t.toolViewControl["draw-polygon"]?a("el-dropdown-item",{attrs:{command:"draw-polygon"}},[t._v("多边形")]):t._e()],1)],1),t.brushToolIsOpen?a("div",{staticClass:"menu",on:{click:t.closeAllBrush}},[a("i",{staticClass:"krIconfont kr-guanbi"}),t._v("关闭画刷 ")]):t._e(),a("div",{staticClass:"menu",on:{click:function(e){return t.clearAllShape()}}},[a("i",{staticClass:"krIconfont kr-qingkonghuancun"}),t._v("清除 ")])],1),a("el-select",{staticClass:"map-tile-select",attrs:{size:"medium",clearable:!1,"popper-append-to-body":!1},on:{change:t.tileChange},model:{value:t.selectMapTile,callback:function(e){t.selectMapTile=e},expression:"selectMapTile"}},t._l(t.selectedMapTiles,(function(t,e){return a("el-option",{key:e,attrs:{value:e,label:t.name}})})),1),t.toolViewControl.fullscreem?a("el-button",{staticClass:"fullscreen-btn",attrs:{size:"small"},on:{click:t.fullscreen}},[a("i",{staticClass:"krIconfont kr-quanping"})]):t._e(),t.showPaintConfig?a("div",{staticClass:"brush-config"},[a("div",{staticClass:"config"},[t._v(" 边框颜色："),a("el-color-picker",{attrs:{size:"small"},model:{value:t.fillOption.color,callback:function(e){t.$set(t.fillOption,"color",e)},expression:"fillOption.color"}})],1),a("div",{staticClass:"config"},[t._v(" 填充颜色："),a("el-color-picker",{attrs:{size:"small"},model:{value:t.fillOption.fillColor,callback:function(e){t.$set(t.fillOption,"fillColor",e)},expression:"fillOption.fillColor"}})],1),a("div",{staticClass:"config"},[t._v(" 填充透明度："),a("el-slider",{attrs:{size:"small",min:0,max:1,step:.01},model:{value:t.fillOption.fillOpacity,callback:function(e){t.$set(t.fillOption,"fillOpacity",e)},expression:"fillOption.fillOpacity"}})],1)]):t._e(),a("div",{staticClass:"map",attrs:{id:t.mapId}})],1)},l=[],r=a("5530"),s=a("2909"),c=(a("a9e3"),a("159b"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("99af"),a("a15b"),a("31d6")),d=window.L||{},u={name:"brush-tool-method",components:{},mixins:[],props:{selectMapPlugin:{type:Array,default:function(){return[]}},selectedMapTiles:{type:Array,default:function(){return[]}}},data:function(){return{map:null,selectMapTile:"普通地图",showPaintConfig:!1,allPaintShape:[],isMeasure:!1,isPainting:!1,defaultContextMenu:c["d"],defaultPopupOption:c["e"],customOption:c["c"],fillOption:c["f"],markerOption:c["g"],paintingFillOption:c["h"]}},computed:{toolViewControl:function(){var t={};return this.selectMapPlugin.map((function(e){t[e]=!0})),t}},watch:{},filter:{},created:function(){},mounted:function(){},methods:{selectMapTool:function(t){var e={measureArea:this.startMeasureArea,meaureDistance:this.startMeasureDistance,"draw-marker":this.startDrawMarker,"draw-text":this.startDrawText,"draw-polyline":this.startDrwaPolyline,"draw-rectangle":this.startDrawRectangle,"draw-circle":this.startDawCircle,"draw-polygon":this.startDrawPolygon};this.brushToolIsOpen=!0,this.showPaintConfig=!0,e[t]&&e[t]()},tileChange:function(t){var e=this.selectedMapTiles[t];window.tileFilter=e.filter||"",this.resetMapTile(e)},startMeasureDistance:function(){this.isMeasure=!0,this.startDrwaPolyline()},startMeasureArea:function(){this.isMeasure=!0,this.startDrawPolygon();d.polygon([[57.69,11.89],[57.697,11.88],[57.71,11.89],[57.71,11.91],[57.69,11.91]]).addTo(this.map).showMeasurements()},startDrawText:function(){var t=this,e=this.map,a=this;e.off("click"),e.off("mousemove"),e.off("dblclick"),e.on("click",(function(t){a.isPainting=!0;var n="",i=a.fillOption.color,o="18px";a.$prompt("请输入要绘制的文字？","提示",{confirmButtonText:"确定",inputPattern:/\s{0,}[\S]{1,}[\s\S]{0,}/,inputErrorMessage:"请输入内容"}).then((function(l){var s=l.value;n=s;var u="color:".concat(i,";font-size:").concat(o,";width:100px;height:20px;text-align:center;word-wrap:break-word"),p=d.divIcon({iconSize:[100,20],iconAnchor:[50,10],className:"text-marker",html:'<p  style="'.concat(u,'">').concat(n,"</p>")}),m=d.marker(t.latlng,Object(r["a"])(Object(r["a"])({},c["g"]),{},{icon:p})).addTo(e),f={latlng:t.latlng,option:{icon:p,draggable:!0},type:"text",mapOverlay:m};a.isPainting=!1,a.$emit("marker-added",f),a.$emit("shape-added",f),a.allPaintShape.push(f)}))})).catch((function(){t.$message({type:"info",message:"取消绘制"})}))},startDrawMarker:function(){var t=this.map,e=this;t.off("click"),t.off("mousemove"),t.off("dblclick"),t.on("click",(function(a){e.isPainting=!0;var n=d.marker(a.latlng,c["g"]).addTo(t),i={latlng:a.latlng,option:Object(r["a"])({},c["g"]),type:"marker",mapOverlay:n};e.isPainting=!1,e.$emit("marker-added",i),e.$emit("shape-added",i),e.allPaintShape.push(i)}))},startDrwaPolyline:function(){var t=this.map,e=this,a=[],n=new d.polyline(a,c["h"]),i=new d.polyline([],c["h"]);function o(i){e.isPainting=!0,t.doubleClickZoom.disable(),t.off({mousemove:l,dblclick:r}),n.remove(),n=new d.polyline(a,c["h"]),a.push([i.latlng.lat,i.latlng.lng]),n.addLatLng(i.latlng),t.addLayer(n),t.on({mousemove:l,dblclick:r})}function l(e){if(a.length>0){var n=[a[a.length-1],[e.latlng.lat,e.latlng.lng]];i.setLatLngs(n,c["h"]),t.addLayer(i)}}function r(){a.pop();var u=d.polyline(a,c["f"]).addTo(t),p={latlngs:Object(s["a"])(a),option:c["f"],type:"polyline",mapOverlay:u};if(a=[],n.remove(),i.remove(),t.doubleClickZoom.enable(),e.isPainting=!1,e.isMeasure){var m=u.showMeasurements({imperial:!0,showArea:!0});e.$emit("meaureDistance",m)}else e.$emit("polyline-added",p),e.$emit("shape-added",p),e.allPaintShape.push(p);t.off({mousemove:l,dblclick:r}),t.on({click:o})}t.off("click"),t.off("mousemove"),t.off("dblclick"),t.on({click:o})},startDawCircle:function(){var t=this.map,e=this;t.off("click"),t.off("mousemove"),t.off("dblclick");var a=0,n=null,i=new d.circle;function o(a){e.isPainting=!0,t.doubleClickZoom.disable(),n=a.latlng,t.on({mousemove:l,dblclick:s}),t.off({click:o})}function l(e){n&&(a=d.latLng(e.latlng).distanceTo(n),i.setLatLng(n),i.setRadius(a),i.setStyle(c["h"]),t.addLayer(i))}function s(u){a=d.latLng(u.latlng).distanceTo(n),i.remove();var p=Object(r["a"])({radius:a},c["f"]),m=d.circle(n,p).addTo(t),f={latlng:[n.lat,n.lng],option:p,type:"circle",mapOverlay:m};n=null,a=0,e.isPainting=!1,e.$emit("circle-added",f),e.$emit("shape-added",f),e.allPaintShape.push(f),t.doubleClickZoom.enable(),t.off({mousemove:l,dblclick:s}),t.on({click:o})}t.on({click:o})},startDrawRectangle:function(){var t,e=this.map,a=this,n=[];function i(r){a.isPainting=!0,e.doubleClickZoom.disable(),"undefined"!==typeof t&&t.remove(),n[0]=[r.latlng.lat,r.latlng.lng],e.on({mousemove:o,dblclick:l}),e.off({click:i})}function o(a){n[1]=[a.latlng.lat,a.latlng.lng],"undefined"!==typeof t&&t.remove(),t=d.rectangle(n,c["h"]).addTo(e)}function l(r){t.remove(),n[1]=[r.latlng.lat,r.latlng.lng];var s=d.rectangle(n,c["f"]).addTo(e),u={latlngs:n,option:c["f"],type:"rectangle",mapOverlay:s};a.isPainting=!1,a.$emit("rectangle-added",u),a.$emit("shape-added",u),a.allPaintShape.push(u),e.doubleClickZoom.enable(),e.off({mousemove:o,dblclick:l}),e.on({click:i})}e.off("click"),e.off("mousemove"),e.off("dblclick"),e.on({click:i,dblclick:l})},startDrawPolygon:function(){var t=this.map,e=this,a=[],n=new d.polyline(a,c["h"]),i=new d.polygon([],c["h"]);function o(i){e.isPainting=!0,t.doubleClickZoom.disable(),t.off({mousemove:l,dblclick:r}),n.remove(),n=new d.polyline(a,c["h"]),a.push([i.latlng.lat,i.latlng.lng]),n.addLatLng(i.latlng),t.addLayer(n),t.on({mousemove:l,dblclick:r})}function l(e){if(a.length>0){var n=[].concat(Object(s["a"])(a),[[e.latlng.lat,e.latlng.lng]]);i.setLatLngs(n,c["h"]),t.addLayer(i)}}function r(){var s=d.polygon(a,c["f"]).addTo(t),u={latlngs:a,option:c["f"],type:"polygon",mapOverlay:s};if(a=[],n.remove(),i.remove(),i=new d.polygon([],c["h"]),t.doubleClickZoom.enable(),e.isPainting=!1,e.isMeasure){var p=s.showMeasurements({imperial:!0});e.$emit("meaureArea",p)}else e.$emit("polygon-added",u),e.$emit("shape-added",u),e.allPaintShape.push(u);t.off({mousemove:l,dblclick:r}),t.on({click:o})}t.off("click"),t.off("mousemove"),t.off("dblclick"),t.on({click:o})},clearAllShape:function(){var t=this;this.allPaintShape.map((function(e){return t.map.removeLayer(e.mapOverlay)})),this.allPaintShape=[],this.closeAllBrush(),this.brushToolIsOpen=!1,this.showPaintConfig=!1}}},p=u,m=a("2877"),f=Object(m["a"])(p,n,i,!1,null,null,null),h=f.exports,g={PI:3.141592653589793,x_pi:52.35987755982988,delta:function(t,e){var a=6378245,n=.006693421622965943,i=this.transformLat(e-105,t-35),o=this.transformLon(e-105,t-35),l=t/180*this.PI,r=Math.sin(l);r=1-n*r*r;var s=Math.sqrt(r);return i=180*i/(a*(1-n)/(r*s)*this.PI),o=180*o/(a/s*Math.cos(l)*this.PI),{lat:i,lon:o}},gcj_encrypt:function(t,e){if(this.outOfChina(t,e))return{lat:t,lon:e};var a=this.delta(t,e);return{lat:t+a.lat,lon:e+a.lon}},gcj_decrypt:function(t,e){if(this.outOfChina(t,e))return{lat:t,lon:e};var a=this.delta(t,e);return{lat:t-a.lat,lon:e-a.lon}},gcj_decrypt_exact:function(t,e){var a,n,i=.01,o=1e-9,l=i,r=i,s=t-l,c=e-r,d=t+l,u=e+r,p=0;while(1){a=(s+d)/2,n=(c+u)/2;var m=this.gcj_encrypt(a,n);if(l=m.lat-t,r=m.lon-e,Math.abs(l)<o&&Math.abs(r)<o)break;if(l>0?d=a:s=a,r>0?u=n:c=n,++p>1e4)break}return{lat:a,lon:n}},bd_encrypt:function(t,e){var a=e,n=t,i=Math.sqrt(a*a+n*n)+2e-5*Math.sin(n*this.x_pi),o=Math.atan2(n,a)+3e-6*Math.cos(a*this.x_pi),l=i*Math.cos(o)+.0065,r=i*Math.sin(o)+.006;return{lat:r,lon:l}},bd_decrypt:function(t,e){var a=e-.0065,n=t-.006,i=Math.sqrt(a*a+n*n)-2e-5*Math.sin(n*this.x_pi),o=Math.atan2(n,a)-3e-6*Math.cos(a*this.x_pi),l=i*Math.cos(o),r=i*Math.sin(o);return{lat:r,lon:l}},mercator_encrypt:function(t,e){var a=20037508.34*e/180,n=Math.log(Math.tan((90+t)*this.PI/360))/(this.PI/180);return n=20037508.34*n/180,{lat:n,lon:a}},mercator_decrypt:function(t,e){var a=e/20037508.34*180,n=t/20037508.34*180;return n=180/this.PI*(2*Math.atan(Math.exp(n*this.PI/180))-this.PI/2),{lat:n,lon:a}},distance:function(t,e,a,n){var i=6371e3,o=Math.cos(t*this.PI/180)*Math.cos(a*this.PI/180)*Math.cos((e-n)*this.PI/180),l=Math.sin(t*this.PI/180)*Math.sin(a*this.PI/180),r=o+l;r>1&&(r=1),r<-1&&(r=-1);var s=Math.acos(r),c=s*i;return c},outOfChina:function(t,e){return e<72.004||e>137.8347||(t<.8293||t>55.8271)},transformLat:function(t,e){var a=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return a+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,a+=2*(20*Math.sin(e*this.PI)+40*Math.sin(e/3*this.PI))/3,a+=2*(160*Math.sin(e/12*this.PI)+320*Math.sin(e*this.PI/30))/3,a},transformLon:function(t,e){var a=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return a+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,a+=2*(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))/3,a+=2*(150*Math.sin(t/12*this.PI)+300*Math.sin(t/30*this.PI))/3,a}},v=window.L||{},y={name:"kr-leaflet-map",components:{},mixins:[h],props:{mapId:{type:String,default:window.btoa((new Date).getTime())},tileTemplate:{type:Object,default:function(){return c["a"]}},centerPoint:{type:Array,default:function(){return[30.659732568522735,104.06395912170412]}},defaultZoom:{type:Number,default:12},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:1},paintMode:{type:Boolean,default:!1}},data:function(){var t=this;return{searchMarker:null,mapHeaderData:{city:"",searchAddr:"",latitude:0,longitude:0,keyword:"",daterange:null},brushToolIsOpen:!1,brushTools:[{name:"标记",spritePositon:"-65px",isActive:!1,fn:function(){return t.startDrawMarker()}},{name:"圆",spritePositon:"-130px",isActive:!1,fn:function(){return t.startDawCircle()}},{name:"线",spritePositon:"-195px",isActive:!1,fn:function(){return t.startDrwaPolyline()}},{name:"多边形",spritePositon:"-260px",isActive:!1,fn:function(){return t.startDrawPolygon()}},{name:"矩形",spritePositon:"-325px",isActive:!1,fn:function(){return t.startDrawRectangle()}}],map:null,tileLayer:null}},computed:{},watch:{isPainting:{handler:function(t){if(!t);}}},created:function(){},mounted:function(){this.initMap()},methods:{closeAllBrush:function(){this.isPainting?this.$message.warning("请先完成当前图形绘制后再重试！"):(this.brushToolIsOpen=!this.brushToolIsOpen,this.brushTools.forEach((function(t){return t.isActive=!1})),this.map.off("click"),this.map.off("dblclick"),this.map.off("mousemove"))},toolSelect:function(t){if(this.isPainting)this.$message.warning("请先完成当前图形绘制后再重试！");else{this.map.off("click"),this.map.off("dblclick"),this.map.off("mousemove");var e=t.isActive;this.brushTools.forEach((function(t){return t.isActive=!1})),t.isActive=!e,t.isActive&&t.fn()}},initMap:function(){var t=this,e=this.centerPoint,a=this.mapId,n=this.defaultZoom,i=this.tileTemplate,o=this.minZoom,l=this.maxZoom;this.tileLayer=v.tileLayer(i.template,{subdomains:i.subdomains,attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});var r=v.map(a,{layers:[this.tileLayer],preferCanvas:!0,zoomControl:!1,attributionControl:!1,minZoom:o,maxZoom:l});r.setView(Object(s["a"])(e),n);var c=v.control.scale();c.addTo(r),r.on("mousemove",(function(e){t.mapHeaderData.longitude=e.latlng.lng,t.mapHeaderData.latitude=e.latlng.lat})),this.map=r},remoteSearchAddr:function(t,e){var a=[{infoAddress:"北京",detailedAddress:"医孟路附近",longitude:115.9801743,latitude:40.4719653,province:"北京市",city:"北京市",county:"延庆区"},{infoAddress:"北京",detailedAddress:"十八里店老君堂村青田联华超市向西500米",longitude:116.5131489,latitude:39.8472054,province:"北京市",city:"北京市",county:"朝阳区"},{infoAddress:"IN北京",detailedAddress:"兴贸一街12号",longitude:116.5844474,latitude:39.7711166,province:"北京市",city:"北京市",county:"通州区"},{infoAddress:"北京apm",detailedAddress:"王府井大街138号",longitude:116.4183663,latitude:39.9209929,province:"北京市",city:"北京市",county:"东城区"},{infoAddress:"北京站",detailedAddress:"毛家湾胡同甲13号",longitude:116.4343955,latitude:39.9089786,province:"北京市",city:"北京市",county:"东城区"},{infoAddress:"北京宴",detailedAddress:null,longitude:116.4465322,latitude:39.8565698,province:"北京市",city:"北京市",county:"丰台区"},{infoAddress:"北京北",detailedAddress:"立水桥北8号",longitude:116.4137366,latitude:40.0623909,province:"北京市",city:"北京市",county:"昌平区"},{infoAddress:"北京得",detailedAddress:"体育场路15号附近",longitude:116.1502626,latitude:39.7475639,province:"北京市",city:"北京市",county:"房山区"},{infoAddress:"北京仁",detailedAddress:"小汤山立汤路特菜大观园旁银霞旅游观光园(近九华山庄南)",longitude:116.4145005,latitude:40.1788703,province:"北京市",city:"北京市",county:"昌平区"},{infoAddress:"北京ONE",detailedAddress:"中山大街61号",longitude:116.661156,latitude:39.9130074,province:"北京市",city:"北京市",county:"通州区"}];return e(""===t?[]:a.filter((function(e){return e.infoAddress.includes(t)||e.detailedAddress.includes(t)})))},selectSearchItem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.longitude,a=t.latitude,n=t.infoAddress,i=t.detailedAddress;if(!e||!a)return this.$alert("未获取到经纬度","提示",{confirmButtonText:"确定"}),!1;this.searchMarker&&(this.map.removeLayer(this.searchMarker),this.searchMarker=null),this.searchAddr=n;var o=g.bd_decrypt(a,e),l=o.lat,r=o.lon;this.searchMarker=v.marker([l,r]).addTo(this.map).bindPopup("<p>地点：".concat(n,"</p><p>详细地址：").concat(i||"-","</p>")).openPopup(),this.map.setView([l,r],14)},resetMapTile:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.subdomains&&(this.tileLayer.options.subdomains=t.subdomains),this.tileLayer.setUrl(t.template,e)},drawShape:function(t){var e=t.type,a=t.dataArr,n=t.option;if(!Array.isArray(a))throw new Error('arguments "Object.dataArr" is must be the type of "Array"!');var i=["marker","polyline","circle","rectangle","polygon"];if(!i.includes(e))throw new Error('argument "Object.type" is illegal!" "'.concat(i.join(","),'" is valid!"'));return"marker"===e?this.drawMarkers(a,n):"polyline"===e?this.drawPolyLine(a,n):"circle"===e?this.drawCircle(a,n):"rectangle"===e?this.drawRectangle(a,n):"polygon"===e?this.drawPolygon(a,n):void 0},drawMarkers:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.map((function(t){var n=v.marker(t.latlng,a).addTo(e.map);return t.popupInfo&&n.bindPopup(t.popupInfo,e.defaultPopupOption),n}));return n},drawPolyLine:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=Object(r["a"])(Object(r["a"])({},this.fillOption),a);if(n){n=Object(r["a"])({patterns:[{offset:30,repeat:60,symbol:v.Symbol.arrowHead({pixelSize:5,headAngle:75,polygon:!1,pathOptions:{stroke:!0,weight:4,color:"#FFF"}})}]},n);var o=[];return t.map((function(t){var a=v.polyline(t.latlngs,{color:"#F00",weight:10}).addTo(e.map),i=v.polylineDecorator(a,n).addTo(e.map);t.popupInfo&&a.bindPopup(t.popupInfo,e.defaultPopupOption).openPopup(),o.push(a,i)})),o}return t.map((function(t){var a=v.polyline(t.latlngs,i).addTo(e.map);return t.popupInfo&&a.bindPopup(t.popupInfo,e.defaultPopupOption).openPopup(),a}))},drawCircle:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map((function(t){var n=v.circle(t.latlng,Object(r["a"])(Object(r["a"])({radius:t.radius},e.fillOption),a)).addTo(e.map);return t.popupInfo&&n.bindPopup(t.popupInfo,e.defaultPopupOption).openPopup(),n}))},drawRectangle:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map((function(t){var n=v.rectangle(t.latlngs,Object(r["a"])(Object(r["a"])({},e.fillOption),a)).addTo(e.map);return t.popupInfo&&n.bindPopup(t.popupInfo,e.defaultPopupOption).openPopup(),n}))},drawPolygon:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.map((function(t){var n=v.polygon(t.latlngs,Object(r["a"])(Object(r["a"])({},e.fillOption),a)).addTo(e.map);return t.popupInfo&&n.bindPopup(t.popupInfo,e.defaultPopupOption).openPopup(),n}))},removeLayers:function(t){var e=this;t.map((function(t){return e.map.removeLayer(t)}))},fullscreen:function(){var t=document.querySelector("#container"+this.mapId);if(document.fullscreenElement)document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.isFullScreen=!1,t.setAttribute("style","");else{t.setAttribute("style","position: fixed;top: 0;bottom: 0;right: 0;left: 0;z-index: 1000;");var e=document.querySelector("body");e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.isFullScreen=!0}}}},b=y,w=(a("131f"),a("5088"),Object(m["a"])(b,o,l,!1,null,"652c6bb0",null));e["default"]=w.exports},e212:function(t,e,a){}}]);