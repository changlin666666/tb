(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-739bbed1"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1900:function(e,t,n){"use strict";n("598b")},"33b6":function(e,t,n){"use strict";n("9ee9")},"3b8a":function(e,t,n){"use strict";n("b2fe")},"438f":function(e,t,n){},4651:function(e,t,n){e.exports={menu:"Contextmenu_menu_3EjfP",menu_item:"Contextmenu_menu_item_1DJnI",menu_item__clickable:"Contextmenu_menu_item__clickable_2JiMY",menu_item__unclickable:"Contextmenu_menu_item__unclickable_2JisN"}},"528e":function(e,t,n){"use strict";n("f789")},"598b":function(e,t,n){},"6e3c":function(e,t,n){"use strict";n("438f")},"797f":function(e,t,n){"use strict";var i=n("7bc1");t["a"]={tree:function(e){return i["a"].get("/data-share/resource-catalog/getTree",e)},use:function(e){return i["a"].get("/data-share/resource-catalog/updateUsableById",e)},add:function(e){return i["a"].post("/data-share/resource-catalog/add",e)},save:function(e){return i["a"].post("/data-share/resource-catalog/edit",e)},del:function(e){return i["a"].get("/data-share/resource-catalog/deleteById",e)}}},"841c":function(e,t,n){"use strict";var i=n("d784"),s=n("825a"),a=n("1d80"),r=n("129f"),o=n("577e"),c=n("14c3");i("search",(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](o(n))},function(e){var i=s(this),a=o(e),l=n(t,i,a);if(l.done)return l.value;var u=i.lastIndex;r(u,0)||(i.lastIndex=0);var d=c(i,a);return r(i.lastIndex,u)||(i.lastIndex=u),null===d?-1:d.index}]}))},"8c9c":function(e,t,n){"use strict";var i=n("4651"),s=n.n(i);n.d(t,"default",(function(){return s.a}))},"9ee9":function(e,t,n){},b2fe:function(e,t,n){},d7dc:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container source-share"},[n("div",{staticClass:"aside-box"},[n("div",{staticClass:"header"},[n("span",[e._v(" 资源目录 ")]),n("span",{staticClass:"icons"},[n("el-button-group",[n("el-tooltip",{attrs:{content:"添加目录",placement:"top"}},[n("el-button",{staticClass:"addIcon",attrs:{icon:"el-icon-plus",size:"mini",type:"text"},on:{click:e.addGroup}})],1)],1)],1)]),n("div",{staticClass:"treeselect-box"},[n("div",{staticClass:"tree-box"},[n("kr-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"node-key":"id","default-expand-all":"","highlight-current":"","current-node-key":"all","expand-on-click-node":!1},on:{"node-click":e.changeGroup},scopedSlots:e._u([{key:"extra",fn:function(t){return["all"!=t.data.id?n("div",{staticClass:"icon_box",staticStyle:{display:"flex"}},[n("el-tooltip",{attrs:{content:"添加目录",placement:"top"}},[n("el-button",{staticClass:"addIcon",attrs:{icon:"el-icon-plus",size:"mini",type:"text"},on:{click:function(n){return e.addChild(t)}}})],1),n("el-tooltip",{attrs:{content:"编辑分组",placement:"top"}},[n("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(n){return n.stopPropagation(),e.editGroup(t)}}})],1),n("el-tooltip",{attrs:{content:"删除分组",placement:"top"}},[n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(n){return n.stopPropagation(),e.delGroup(t)}}})],1)],1):e._e()]}}])})],1)])]),n("div",{staticClass:"table-content"},[n("KrSearch",{attrs:{searchProps:e.searchProps},on:{search:e.search,reset:e.search}}),n("div",{staticClass:"tableview common-shadow"},[n("div",{staticClass:"table-btns"},[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:e.size},on:{click:e.addModel}},[e._v("新增")]),e._m(0)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content-body",attrs:{"element-loading-text":e.loadingOption.text,"element-loading-spinner":e.loadingOption.spinner,"element-loading-background":e.loadingOption.background}},[e.list.length>0?e._l(e.list,(function(t,i){return n("div",{key:i,staticClass:"content-item",on:{contextmenu:function(n){return n.preventDefault(),e.onContextmenu(n,t)},click:function(n){return e.detail(t)}}},[n("div",{staticClass:"content-title"},[e._v(" "+e._s(t.name||"未命名")+" ")]),n("div",{staticClass:"content-c"},[n("el-row",{staticClass:"center"},[n("el-col",{staticClass:"title",attrs:{span:12}},[n("span",{staticStyle:{color:"#7a788c"}},[e._v(" 资源类型： ")]),e._v(" "+e._s(1==t.resourceType?"外部接口资源":"模型资源")+" ")]),n("el-col",{staticClass:"title",attrs:{span:12}},[n("span",{staticStyle:{color:"#7a788c"}},[e._v(" 资源目录： ")]),e._v(e._s(e.getTreeName(t.catalogId))+" ")]),n("el-col",{staticClass:"title",attrs:{span:12}},[n("span",{staticStyle:{color:"#7a788c"}},[e._v(" 资源标签： ")]),t.resourceTags&&t.resourceTags.length>0?e._l(t.resourceTags,(function(t){return n("el-tag",{key:t.id,staticStyle:{"margin-right":"4px"},attrs:{size:"mini",type:e.getFlag(t)}},[e._v(e._s(e.getName(t)))])})):[e._v(" 无 ")]],2),n("el-col",{staticClass:"title",attrs:{span:12}},[n("span",{staticStyle:{color:"#7a788c"}},[e._v(" 更新时间： ")]),e._v(e._s(t.updateTime)+" ")]),n("el-col",{attrs:{span:24}},[n("el-tag",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v(" 访问量："+e._s(t.viewNum))]),n("el-tag",{attrs:{type:"success"}},[e._v(" 使用量："+e._s(Number(t.successNum)+Number(t.errorNum))+" ")])],1)],1),e._m(1,!0)],1)])})):n("div",{staticClass:"img-box"},[e._m(2)])],2),n("div",{staticClass:"content-footer"},[n("el-pagination",{staticClass:"table-pagination",staticStyle:{float:"right"},attrs:{background:"","current-page":e.current,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),n("modelForm",{ref:"modelForm",attrs:{treeData:e.treeData,tagTree:e.tagTree},on:{update:e.getUpdate}}),n("catalogForm",{ref:"catalogForm",attrs:{treeData:e.treeData},on:{update:e.getUpdate}})],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"right-menus"},[n("p",{staticClass:"tip"},[n("i",{staticClass:"el-icon-warning"}),e._v(" 右键可编辑删除")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"right"},[n("i",{staticClass:"el-icon-arrow-right"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("img",{attrs:{src:n("dffd"),alt:"",width:"300px",height:"300px"}}),i("div",{staticClass:"describe"},[e._v("暂无消息")])])}],a=n("2909"),r=n("1da1"),o=n("5530"),c=n("b85c"),l=(n("96cf"),n("159b"),n("b0c0"),n("a15b"),n("7db0"),n("a9e3"),n("99af"),n("ac1f"),n("841c"),n("797f")),u=n("ecef"),d=n("f477"),m=n("2f62"),h=n("2b0e"),f=n("81bb"),p=n("e5d9"),v=n("e162"),b=n("8dbd");function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Object(c["a"])(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;n.push(s),s.children&&s.children.length>0&&g(s.children,n)}}catch(a){i.e(a)}finally{i.f()}return n}h["default"].use(p["a"]);var _={components:{modelForm:f["default"],catalogForm:v["default"]},data:function(){return{active:0,type:1,current:1,tagTree:[],sortType:0,pageSize:10,loading:!1,list:[],dates:[],loadingOption:{text:"努力加载中",spinner:"",background:"#f9f9f9"},selection:[],searchProps:[{isShow:!0,type:"input",field:"keyword",value:"",model:"关键词"}],defaultProps:{children:"children",label:"name"},dictUtils:d["a"],treeData:[],tagList:[],total:0}},computed:Object(o["a"])({searchParams:function(){var e={};return this.searchProps.forEach((function(t){e[t.field]=t.value})),e}},Object(m["c"])({size:function(e){return e.config.defaultSize}})),mounted:function(){this.init()},methods:{getName:function(e){function t(e,n){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(c["a"])(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.nodeIds==e&&(s.push(r.name),r.parentNodeIds&&"000"!=r.parentNodeIds&&t(r.parentNodeIds,n,s))}}catch(o){a.e(o)}finally{a.f()}return s}var n=t(e.nodeIds,this.tagList);return n.reverse().join("-")},getFlag:function(e){var t=this.tagList.find((function(t){return t.id==e.id}));if(t)switch(t.id%3){case 0:return"primary";case 1:return"success";case 2:return"warning"}},init:function(){this.initTree(),this.initList()},initTree:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].tree();case 2:return n=t.sent,i=n.data,i.data.unshift({name:"全部",id:"all"}),e.treeData=i.data,t.next=8,b["a"].tree();case 8:s=t.sent,a=s.data,e.tagTree=a.data,e.tagList=g(e.tagTree);case 12:case"end":return t.stop()}}),t)})))()},initList:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u["a"].list(Object(o["a"])(Object(o["a"])({current:t.current,size:t.pageSize,flag:!0},t.searchParams),e));case 2:i=n.sent,s=i.data,t.list=s.data.records,t.total=Number(s.data.total);case 6:case"end":return n.stop()}}),n)})))()},addModel:function(){this.$refs.modelForm.init("add")},getUpdate:function(){this.init()},getTreeName:function(e){var t,n=g(this.treeData),i=[],s=Object(c["a"])(n);try{for(s.s();!(t=s.n()).done;){var r=t.value;r.id==e&&(i.push(r.name),i=[].concat(Object(a["a"])(i),Object(a["a"])(this.getTreeParent(n,r.parentNodeIds))))}}catch(o){s.e(o)}finally{s.f()}return i.join("--")},getTreeParent:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=Object(c["a"])(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.nodeIds==t&&(i.push(a.name),this.getTreeParent(e,a.parentNodeIds,i))}}catch(r){s.e(r)}finally{s.f()}return i},changeSort:function(e){this.sortType=e,this.initList()},changeGroup:function(e){this.currentGroup=e;var t={};"all"==e.id||(t.catalogId=e.id),this.initList(t)},onContextmenu:function(e,t){var n=this,i=[{id:1,label:"查看资源",onClick:function(){n.detail(t)}},{id:2,label:"编辑资源",onClick:function(){n.edit(t)}},{id:3,label:"删除资源",onClick:function(){n.del(t)}}];this.$contextmenu({items:i,event:e,minWidth:120})},detail:function(e){this.$router.push("/pages/data-share/detail?id="+e.id+"&type="+e.resourceType+"&name="+e.name)},edit:function(e){this.$refs.modelForm.init("edit",e.id,e)},search:function(){this.initList()},handleSizeChange:function(e){this.pageSize=e,this.search()},handleCurrentChange:function(e){this.current=e,this.search()},handleSelectionChange:function(e){this.selection=e},del:function(e){var t=this;this.$confirm("此操作将永久删除所选, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u["a"].del({id:e.id});case 2:if(i=n.sent,s=i.data,0==s.code){n.next=6;break}return n.abrupt("return",t.$message.error(s.msg));case 6:t.$message({type:"success",message:"删除成功!"}),t.init();case 8:case"end":return n.stop()}}),n)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addGroup:function(){this.$refs.catalogForm.init("add")},addChild:function(e){this.$refs.catalogForm.init("addChild",e.id,e.data)},editGroup:function(e){this.$refs.catalogForm.init("edit",e.id,e.data)},delGroup:function(e){var t=this;this.$confirm("此操作将永久删除所选, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["a"].del({id:e.id});case 2:if(i=n.sent,s=i.data,0==s.code){n.next=6;break}return n.abrupt("return",t.$message.error(s.msg));case 6:t.$message({type:"success",message:"删除成功!"}),t.init();case 8:case"end":return n.stop()}}),n)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},y=_,x=(n("3b8a"),n("33b6"),n("2877")),C=Object(x["a"])(y,i,s,!1,null,"3875eaa2",null);t["default"]=C.exports},dffd:function(e,t,n){e.exports=n.p+"img/no-data.1321a069.png"},e162:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.visible,title:e.title,width:e.width},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[n("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.form,size:"medium",rules:e.rules,disabled:"view"===e.method},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"上级目录",prop:"parentNodeIds"}},[n("kr-tree-select",{staticStyle:{width:"100%"},attrs:{clearable:"",props:e.treeProps,nodeKey:"nodeIds",data:e.treeData},on:{getValue:e.getValue},model:{value:e.nodeIds,callback:function(t){e.nodeIds=t},expression:"nodeIds"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"目录名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"是否启用",prop:"usable"}},[n("el-radio-group",{model:{value:e.form.usable,callback:function(t){e.$set(e.form,"usable",t)},expression:"form.usable"}},[n("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),n("el-radio-button",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"排序",prop:"sort"}},[n("el-input-number",{attrs:{min:1,label:"排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},s=[],a=n("1da1"),r=(n("96cf"),n("797f")),o=n("eb2e"),c={components:{},props:{width:{type:String,default:"50%"},treeData:{type:Array,default:function(){return[]}},treeProps:{type:Object,default:function(){return{children:"children",label:"name",disabled:"disabled"}}}},watch:{},data:function(){return{visible:!1,defaultProps:{children:"children",label:"name"},defaultProps2:{children:"children",label:"name",disabled:function(e,t){return!e.clickable}},defaultKeys:[],orgTree:[],userTree:[],nodeIds:"",parentId:"",companyId:1,showTree:!1,people:[],method:"",form:new o["a"],rules:{type:[{required:!0,message:"类型不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},id:"",title:"",disabled:!1,userArr:[]}},mounted:function(){},computed:{},methods:{init:function(e,t,n){var i=this;this.method=e,this.form=new o["a"],"add"===e?(this.nodeIds="",this.form.parentNodeIds="",this.title="新建"):"view"===e?this.title="查看":"addChild"===e?(this.title="添加子目录",this.form=new o["a"],this.disabled=!0,this.form.flag=1,this.nodeIds=n.nodeIds,this.form.parentNodeIds=n.nodeIds):this.title="编辑",this.id=t,this.visible=!0,this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"edit"!==e&&"view"!==e||(i.form=n,i.nodeIds=n.parentNodeIds);case 1:case"end":return t.stop()}}),t)}))))},getValue:function(e){this.form.parentNodeIds=e?e.nodeIds:""},submit:function(){var e=this;try{this.$refs.form.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var i,s,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=25;break}if(i=e.form,i.parentNodeIds=i.parentNodeIds?i.parentNodeIds:"000","add"!=e.method&&"addChild"!=e.method){t.next=13;break}return t.next=6,r["a"].add(i);case 6:if(s=t.sent,a=s.data,0==a.code){t.next=10;break}return t.abrupt("return",e.$message.error(a.msg));case 10:e.$message.success(a.msg),t.next=21;break;case 13:if("edit"!=e.method){t.next=21;break}return t.next=16,r["a"].save(i);case 16:if(o=t.sent,c=o.data,0==c.code){t.next=20;break}return t.abrupt("return",e.$message.error(c.msg));case 20:e.$message.success(c.msg);case 21:e.$emit("update"),e.visible=!1,t.next=26;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){this.$message.error(t)}}}},l=c,u=(n("1900"),n("2877")),d=Object(u["a"])(l,i,s,!1,null,"6c51447c",null);t["default"]=d.exports},e5d9:function(e,t,n){"use strict";var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[];n("7db0");function r(e){let t=[];for(let n of document.getElementsByClassName(e)||[])t.push(n);return t}const o=3,c=-8,l="left",u="right",d="contextmenu-submenu";var m={data:function(){return{items:[],position:{x:0,y:0},style:{zIndex:2,minWidth:150},mainMenuInstance:null,customClass:null,mouseListening:!1}},mounted:function(){var e=i["default"].component(d);this.mainMenuInstance=new e,this.mainMenuInstance.items=this.items,this.mainMenuInstance.commonClass={menu:this.$style.menu,menuItem:this.$style.menu_item,clickableMenuItem:this.$style.menu_item__clickable,unclickableMenuItem:this.$style.menu_item__unclickable},this.mainMenuInstance.position={x:this.position.x,y:this.position.y,width:0,height:0},this.mainMenuInstance.style.minWidth=this.style.minWidth,this.mainMenuInstance.style.zIndex=this.style.zIndex,this.mainMenuInstance.customClass=this.customClass,this.mainMenuInstance.$mount(),document.body.appendChild(this.mainMenuInstance.$el),this.addListener()},destroyed:function(){this.removeListener(),this.mainMenuInstance&&this.mainMenuInstance.close()},methods:{mousewheelListener:function(){this.$destroy()},mouseDownListener:function(e){var t=e.target,n=r(this.$style.menu);while(!n.find((function(e){return e===t}))&&t.parentElement)t=t.parentElement;n.find((function(e){return e===t}))||this.$destroy()},mouseClickListener:function(e){var t=e.target,n=r(this.$style.menu),i=r(this.$style.menu_item),s=r(this.$style.menu_item__unclickable);while(!n.find((function(e){return e===t}))&&!i.find((function(e){return e===t}))&&t.parentElement)t=t.parentElement;if(i.find((function(e){return e===t}))){if(0!==e.button||s.find((function(e){return e===t})))return;this.$destroy()}else n.find((function(e){return e===t}))||this.$destroy()},addListener:function(){this.mouseListening||(document.addEventListener("click",this.mouseClickListener),document.addEventListener("mousedown",this.mouseDownListener),document.addEventListener("mousewheel",this.mousewheelListener),this.mouseListening=!0)},removeListener:function(){this.mouseListening&&(document.removeEventListener("click",this.mouseClickListener),document.removeEventListener("mousedown",this.mouseDownListener),document.removeEventListener("mousewheel",this.mousewheelListener),this.mouseListening=!1)}}},h=m,f=n("8c9c"),p=n("2877");function v(e){this["$style"]=f["default"].locals||f["default"]}var b=Object(p["a"])(h,s,a,!1,v,null,null),g=b.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"contextmenu-submenu-fade"}},[e.visible?n("div",{ref:"menu",class:[e.commonClass.menu,"menu",e.customClass],style:{left:e.style.left+"px",top:e.style.top+"px",minWidth:e.style.minWidth+"px",zIndex:e.style.zIndex},on:{contextmenu:function(e){return e.preventDefault()}}},[n("div",{staticClass:"menu_body"},[e._l(e.items,(function(t,i){return[t.hidden?e._e():[t.disabled?n("div",{key:i,class:[e.commonClass.menuItem,e.commonClass.unclickableMenuItem,"menu_item","menu_item__disabled",t.divided?"menu_item__divided":null]},[e.hasIcon?n("div",{staticClass:"menu_item_icon"},[t.icon?n("i",{class:t.icon}):e._e()]):e._e(),n("span",{staticClass:"menu_item_label"},[e._v(e._s(t.label))]),n("div",{staticClass:"menu_item_expand_icon"})]):t.children?n("div",{key:i,class:[e.commonClass.menuItem,e.commonClass.unclickableMenuItem,"menu_item","menu_item__available",e.activeSubmenu.index===i?"menu_item_expand":null,t.divided?"menu_item__divided":null],on:{mouseenter:function(n){return e.enterItem(n,t,i)}}},[e.hasIcon?n("div",{staticClass:"menu_item_icon"},[t.icon?n("i",{class:t.icon}):e._e()]):e._e(),n("span",{staticClass:"menu_item_label"},[e._v(e._s(t.label))]),n("div",{staticClass:"menu_item_expand_icon"},[e._v("▶")])]):n("div",{key:i,class:[e.commonClass.menuItem,e.commonClass.clickableMenuItem,"menu_item","menu_item__available",t.divided?"menu_item__divided":null],on:{mouseenter:function(n){return e.enterItem(n,t,i)},click:function(n){return e.itemClick(t)}}},[e.hasIcon?n("div",{staticClass:"menu_item_icon"},[t.icon?n("i",{class:t.icon}):e._e()]):e._e(),n("span",{staticClass:"menu_item_label"},[e._v(e._s(t.label))]),n("div",{staticClass:"menu_item_expand_icon"})])]]}))],2)]):e._e()])},y=[],x=n("b85c"),C={name:d,data:function(){return{commonClass:{menu:null,menuItem:null,clickableMenuItem:null,unclickableMenuItem:null},activeSubmenu:{index:null,instance:null},items:[],position:{x:0,y:0,width:0,height:0},style:{left:0,top:0,zIndex:2,minWidth:150},customClass:null,visible:!1,hasIcon:!1,openTrend:u}},mounted:function(){var e=this;this.visible=!0;var t,n=Object(x["a"])(this.items);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.icon){this.hasIcon=!0;break}}}catch(s){n.e(s)}finally{n.f()}this.$nextTick((function(){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,i=e.$refs.menu,s=i.offsetWidth,a=i.offsetHeight;(e.openTrend===l?e.leftOpen:e.rightOpen)(t,n,s),e.style.top=e.position.y,e.position.y+a>n&&(0===e.position.height?e.style.top=e.position.y-a:e.style.top=n-a)}))},methods:{leftOpen:function(e,t,n){this.style.left=this.position.x-n,this.openTrend=l,this.style.left<0&&(this.openTrend=u,0===this.position.width?this.style.left=0:this.style.left=this.position.x+this.position.width)},rightOpen:function(e,t,n){this.style.left=this.position.x+this.position.width,this.openTrend=u,this.style.left+n>e&&(this.openTrend=l,0===this.position.width?this.style.left=e-n:this.style.left=this.position.x-n)},enterItem:function(e,t,n){if(this.visible){if(this.activeSubmenu.instance){if(this.activeSubmenu.index===n)return;this.activeSubmenu.instance.close(),this.activeSubmenu.instance=null,this.activeSubmenu.index=null}if(t.children){var s=e.target.getBoundingClientRect(),a=i["default"].component(d);this.activeSubmenu.index=n,this.activeSubmenu.instance=new a,this.activeSubmenu.instance.items=t.children,this.activeSubmenu.instance.openTrend=this.openTrend,this.activeSubmenu.instance.commonClass=this.commonClass,this.activeSubmenu.instance.position={x:s.x+o,y:s.y+c,width:s.width-2*o,height:s.width},this.activeSubmenu.instance.style.minWidth="number"===typeof t.minWidth?t.minWidth:this.style.minWidth,this.activeSubmenu.instance.style.zIndex=this.style.zIndex,this.activeSubmenu.instance.customClass="string"===typeof t.customClass?t.customClass:this.customClass,this.activeSubmenu.instance.$mount(),document.body.appendChild(this.activeSubmenu.instance.$el)}}},itemClick:function(e){if(this.visible)return!e||e.disabled||e.hidden||"function"!==typeof e.onClick?void 0:e.onClick()},close:function(){var e=this;this.visible=!1,this.activeSubmenu.instance&&this.activeSubmenu.instance.close(),this.$nextTick((function(){e.$destroy()}))}}},k=C,I=(n("528e"),n("6e3c"),Object(p["a"])(k,_,y,!1,null,"4512572f",null)),w=I.exports;const $=i["default"].extend(g);function S(e){let t=null;const n=function(e){let i=new $;i.items=e.items,i.position.x=e.x||0,i.position.y=e.y||0,e.event&&(i.position.x=e.event.clientX,i.position.y=e.event.clientY),i.customClass=e.customClass,e.minWidth&&(i.style.minWidth=e.minWidth),e.zIndex&&(i.style.zIndex=e.zIndex),n.destroy(),t=i,i.$mount()};n.destroy=function(){t&&(t.$destroy(),t=null)},e.prototype.$contextmenu=n}i["default"].component(d,w),window&&window.Vue&&S(window.Vue);var O={install:S};t["a"]=O},eb2e:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("d4ec"),s=n("ade3"),a=function e(){Object(i["a"])(this,e),Object(s["a"])(this,"name",""),Object(s["a"])(this,"code",""),Object(s["a"])(this,"nodeId",""),Object(s["a"])(this,"nodeIds",""),Object(s["a"])(this,"parentNodeIds",""),Object(s["a"])(this,"sort",0),Object(s["a"])(this,"usable",1),Object(s["a"])(this,"remarks","")}},f789:function(e,t,n){}}]);