(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19ba145a"],{"038f":function(e,t,n){"use strict";var r=n("5530"),a=n("7bc1");t["a"]={save:function(e){return a["a"].post("/cms/backend/article/save",Object(r["a"])({contributeFlag:1},e))},list:function(e){return a["a"].post("/cms/backend/article/page",e)},del:function(e){return a["a"].get("/cms/backend/article/delete",e)},detail:function(e){return a["a"].get("/cms/backend/article/getById",e)},copyToOtherMenu:function(e){return a["a"].get("/cms/backend/article/copyToOtherMenu",e)},publish:function(e){return a["a"].post("/cms/backend/article/updateArticleStatus",e)},getOaDeptTree:function(e){return a["a"].get("/sys/oadept/getOaDeptTree",e)},getMenuList:function(e){return a["a"].get("/cms/backend/menu/getMenuList",e)},getMenuTreeForAudit:function(e){return a["a"].get("/cms/backend/menu/getMenuTreeForAudit",e)},getCommentPage:function(e){return a["a"].post("/cms/backend/comment/page",e)},deleteComment:function(e){return a["a"].get("/cms/backend/comment/delete",e)},getArticleTileListByMenuNodeIdsAndKeyword:function(e){return a["a"].get("/cms/backend/article/getArticleTileListByMenuNodeIdsAndKeyword",e)},getTheoryEducationMenuTree:function(e){return a["a"].get("/cms/backend/menu/getTheoryEducationMenuTree",e)},getUsableTheoryEducationMenuTree:function(e){return a["a"].get("/cms/backend/menu/getUsableTheoryEducationMenuTree",e)},queryMenuById:function(e){return a["a"].get("/cms/backend/menu/getById",e)},saveMenu:function(e){return a["a"].post("/cms/backend/menu/save",e)},delMenu:function(e){return a["a"].get("/cms/backend/menu/delete",e)},getSpecialSubjectMenuTree:function(e){return a["a"].get("/cms/backend/menu/getSpecialSubjectMenuTree",e)},getRightSubjectMenuTree:function(e){return a["a"].get("/cms/backend/menu/getPopUpMenuTree",e)},getSpecialSubjectMenuTreeUsable:function(e){return a["a"].get("/cms/backend/menu/getUsablePopUpMenuTree",e)},getUsableSpecialSubjectMenuTree:function(e){return a["a"].get("/cms/backend/menu/getUsableSpecialSubjectMenuTree",e)},getForumArticleList:function(e){return a["a"].post("/forum/backend/article/page",e)},deleteForumArticleById:function(e){return a["a"].get("/forum/backend/article/delete",e)},saveForumArticle:function(e){return a["a"].post("/forum/backend/article/save",e)},queryForumArticleById:function(e){return a["a"].get("/forum/backend/article/getById",e)},getForumModulePage:function(e){return a["a"].post("/forum/backend/module/page",e)},updateEssenceById:function(e){return a["a"].get("/forum/backend/article/updateEssenceById",e)},updateToppingById:function(e){return a["a"].get("/forum/backend/article/updateToppingById",e)},getForumCommentList:function(e){return a["a"].post("/forum/backend/comment/page",e)},deleteForumCommentById:function(e){return a["a"].get("/forum/backend/comment/delete",e)},getArticleTileListByKeyword:function(e){return a["a"].get("/forum/backend/article/getArticleTileListByKeyword",e)},getCmsHistoryPage:function(e){return a["a"].post("/cms/backend/history/page",e)},getCmsScorePage:function(e){return a["a"].post("/cms/backend/score/page",e)},getOptoutscorePage:function(e){return a["a"].post("/cms/backend/optoutscore/page",e)},SaveOptoutscore:function(e){return a["a"].post("/cms/backend/optoutscore/save",e)},getAllOaDeptTree:function(e){return a["a"].get("/sys/oadept/getAllOaDeptTree",e)},getBannerList:function(e){return a["a"].post("/cms/backend/banner/page",e)},getBannerDetail:function(e){return a["a"].get("/cms/backend/banner/getById",e)},saveBanner:function(e){return a["a"].post("/cms/backend/banner/save",e)},deleteBannerByid:function(e){return a["a"].get("/cms/backend/banner/delete",e)},getViewBannerByTime:function(e){return a["a"].get("/cms/backend/banner/getByTime",e)}}},"3e2a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.visible,title:e.title,width:e.width},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[n("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.form,size:"medium",rules:e.rules,disabled:"view"===e.method},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[n("el-row",[1!=e.form.id?n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"上级模块"}},[e.visible?n("kr-tree-select",{staticStyle:{width:"100%"},attrs:{props:e.treeProps,disabled:"",nodeKey:"nodeIds",data:e.treeData2},on:{getValue:e.getValue},model:{value:e.nodeIds,callback:function(t){e.nodeIds=t},expression:"nodeIds"}}):e._e()],1)],1):e._e(),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:(e.typeList[e.form.menuType]?e.typeList[e.form.menuType].value:"")+"名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"是否启用",prop:"usable"}},[n("el-radio-group",{model:{value:e.form.usable,callback:function(t){e.$set(e.form,"usable",t)},expression:"form.usable"}},[n("el-radio-button",{attrs:{label:"1"}},[e._v("是")]),n("el-radio-button",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"排序",prop:"sort"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,label:"排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),n("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},a=[],o=n("1da1"),i=(n("96cf"),n("038f")),s=n("d4ec"),c=n("ade3"),u=function e(){Object(s["a"])(this,e),Object(c["a"])(this,"aliasName",""),Object(c["a"])(this,"allowComment",1),Object(c["a"])(this,"allowScore",1),Object(c["a"])(this,"allowSearch",0),Object(c["a"])(this,"contentType",""),Object(c["a"])(this,"href",""),Object(c["a"])(this,"id",null),Object(c["a"])(this,"menuType","文章"),Object(c["a"])(this,"name",""),Object(c["a"])(this,"navigation",0),Object(c["a"])(this,"nodeId",""),Object(c["a"])(this,"nodeIds",""),Object(c["a"])(this,"parentNodeIds",""),Object(c["a"])(this,"remarks",""),Object(c["a"])(this,"sort",0),Object(c["a"])(this,"target",""),Object(c["a"])(this,"usable",1)},l={props:{width:{type:String,default:"50%"},treeData:{type:Array,default:function(){return[]}},treeProps:{type:Object,default:function(){return{children:"children",label:"name",disabled:"disabled"}}}},watch:{},data:function(){return{treeData2:[],visible:!1,nodeIds:"",parentId:"",method:"",form:new u,typeList:[],rules:{menuType:[{required:!0,message:"模块类型不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},id:"",title:""}},methods:{init:function(e,t,n){var r=this;this.treeData2=[{nodeIds:"000/003",name:"理论教育",children:this.treeData}],this.method=e,"add"===e?(this.nodeIds="",this.form=new u,this.title="新建模块"):"view"===e?this.title="查看模块":"addChild"===e?(this.title="添加下级模块",this.form=new u,this.nodeIds=n.nodeIds,this.form.parentNodeIds=n.nodeIds):this.title="编辑模块",this.id=t,this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r.visible=!0,"edit"!==e&&"view"!==e){n.next=11;break}return n.next=4,i["a"].queryMenuById({menuId:t});case 4:if(a=n.sent,o=a.data,0==o.code){n.next=9;break}return r.$message.error("获取数据失败"),n.abrupt("return");case 9:r.form=o.data,r.nodeIds=o.data.parentNodeIds;case 11:case"end":return n.stop()}}),n)}))))},choseIcon:function(e){this.form.icon=e},getValue:function(e){this.form.parentNodeIds=e.nodeIds},submit:function(){var e=this;try{this.$refs.form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=13;break}return r=e.form,t.next=4,i["a"].saveMenu(r);case 4:if(a=t.sent,o=a.data,0==o.code){t.next=8;break}return t.abrupt("return",e.$message.error(o.msg));case 8:e.$message.success(o.msg),e.$emit("update"),e.visible=!1,t.next=14;break;case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){this.$message.error(t)}}}},d=l,m=n("2877"),b=Object(m["a"])(d,r,a,!1,null,null,null);t["default"]=b.exports},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))}}]);